(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();var jm={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function CI(){if(Y0)return Ql;Y0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var d in a)d!=="key"&&(u[d]=a[d])}else u=a;return a=u.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:u}}return Ql.Fragment=t,Ql.jsx=e,Ql.jsxs=e,Ql}var X0;function DI(){return X0||(X0=1,jm.exports=CI()),jm.exports}var It=DI(),qm={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function VI(){if($0)return Rt;$0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function z(M,et,lt){this.props=M,this.context=et,this.refs=F,this.updater=lt||R}z.prototype.isReactComponent={},z.prototype.setState=function(M,et){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,et,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=z.prototype;function nt(M,et,lt){this.props=M,this.context=et,this.refs=F,this.updater=lt||R}var J=nt.prototype=new K;J.constructor=nt,N(J,z.prototype),J.isPureReactComponent=!0;var dt=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function V(M,et,lt,st,gt,Vt){return lt=Vt.ref,{$$typeof:n,type:M,key:et,ref:lt!==void 0?lt:null,props:Vt}}function w(M,et){return V(M.type,et,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function x(M){var et={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(lt){return et[lt]})}var P=/\/+/g;function k(M,et){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):et.toString(36)}function D(){}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(et){M.status==="pending"&&(M.status="fulfilled",M.value=et)},function(et){M.status==="pending"&&(M.status="rejected",M.reason=et)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function re(M,et,lt,st,gt){var Vt=typeof M;(Vt==="undefined"||Vt==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(Vt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case n:case t:St=!0;break;case v:return St=M._init,re(St(M._payload),et,lt,st,gt)}}if(St)return gt=gt(M),St=st===""?"."+k(M,0):st,dt(gt)?(lt="",St!=null&&(lt=St.replace(P,"$&/")+"/"),re(gt,et,lt,"",function(ni){return ni})):gt!=null&&(I(gt)&&(gt=w(gt,lt+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+St)),et.push(gt)),1;St=0;var xe=st===""?".":st+":";if(dt(M))for(var Jt=0;Jt<M.length;Jt++)st=M[Jt],Vt=xe+k(st,Jt),St+=re(st,et,lt,Vt,gt);else if(Jt=S(M),typeof Jt=="function")for(M=Jt.call(M),Jt=0;!(st=M.next()).done;)st=st.value,Vt=xe+k(st,Jt++),St+=re(st,et,lt,Vt,gt);else if(Vt==="object"){if(typeof M.then=="function")return re(ve(M),et,lt,st,gt);throw et=String(M),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return St}function Q(M,et,lt){if(M==null)return M;var st=[],gt=0;return re(M,st,"","",function(Vt){return et.call(lt,Vt,gt++)}),st}function it(M){if(M._status===-1){var et=M._result;et=et(),et.then(function(lt){(M._status===0||M._status===-1)&&(M._status=1,M._result=lt)},function(lt){(M._status===0||M._status===-1)&&(M._status=2,M._result=lt)}),M._status===-1&&(M._status=0,M._result=et)}if(M._status===1)return M._result.default;throw M._result}var ht=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Lt(){}return Rt.Children={map:Q,forEach:function(M,et,lt){Q(M,function(){et.apply(this,arguments)},lt)},count:function(M){var et=0;return Q(M,function(){et++}),et},toArray:function(M){return Q(M,function(et){return et})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=z,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=nt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return tt.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,et,lt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=N({},M.props),gt=M.key,Vt=void 0;if(et!=null)for(St in et.ref!==void 0&&(Vt=void 0),et.key!==void 0&&(gt=""+et.key),et)!at.call(et,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&et.ref===void 0||(st[St]=et[St]);var St=arguments.length-2;if(St===1)st.children=lt;else if(1<St){for(var xe=Array(St),Jt=0;Jt<St;Jt++)xe[Jt]=arguments[Jt+2];st.children=xe}return V(M.type,gt,void 0,void 0,Vt,st)},Rt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,et,lt){var st,gt={},Vt=null;if(et!=null)for(st in et.key!==void 0&&(Vt=""+et.key),et)at.call(et,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(gt[st]=et[st]);var St=arguments.length-2;if(St===1)gt.children=lt;else if(1<St){for(var xe=Array(St),Jt=0;Jt<St;Jt++)xe[Jt]=arguments[Jt+2];gt.children=xe}if(M&&M.defaultProps)for(st in St=M.defaultProps,St)gt[st]===void 0&&(gt[st]=St[st]);return V(M,Vt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:d,render:M}},Rt.isValidElement=I,Rt.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:it}},Rt.memo=function(M,et){return{$$typeof:g,type:M,compare:et===void 0?null:et}},Rt.startTransition=function(M){var et=tt.T,lt={};tt.T=lt;try{var st=M(),gt=tt.S;gt!==null&&gt(lt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Lt,ht)}catch(Vt){ht(Vt)}finally{tt.T=et}},Rt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Rt.use=function(M){return tt.H.use(M)},Rt.useActionState=function(M,et,lt){return tt.H.useActionState(M,et,lt)},Rt.useCallback=function(M,et){return tt.H.useCallback(M,et)},Rt.useContext=function(M){return tt.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,et){return tt.H.useDeferredValue(M,et)},Rt.useEffect=function(M,et,lt){var st=tt.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(M,et)},Rt.useId=function(){return tt.H.useId()},Rt.useImperativeHandle=function(M,et,lt){return tt.H.useImperativeHandle(M,et,lt)},Rt.useInsertionEffect=function(M,et){return tt.H.useInsertionEffect(M,et)},Rt.useLayoutEffect=function(M,et){return tt.H.useLayoutEffect(M,et)},Rt.useMemo=function(M,et){return tt.H.useMemo(M,et)},Rt.useOptimistic=function(M,et){return tt.H.useOptimistic(M,et)},Rt.useReducer=function(M,et,lt){return tt.H.useReducer(M,et,lt)},Rt.useRef=function(M){return tt.H.useRef(M)},Rt.useState=function(M){return tt.H.useState(M)},Rt.useSyncExternalStore=function(M,et,lt){return tt.H.useSyncExternalStore(M,et,lt)},Rt.useTransition=function(){return tt.H.useTransition()},Rt.version="19.1.0",Rt}var W0;function ug(){return W0||(W0=1,qm.exports=VI()),qm.exports}var ot=ug(),Hm={exports:{}},Yl={},Fm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function MI(){return Z0||(Z0=1,function(n){function t(Q,it){var ht=Q.length;Q.push(it);t:for(;0<ht;){var Lt=ht-1>>>1,M=Q[Lt];if(0<a(M,it))Q[Lt]=it,Q[ht]=M,ht=Lt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var it=Q[0],ht=Q.pop();if(ht!==it){Q[0]=ht;t:for(var Lt=0,M=Q.length,et=M>>>1;Lt<et;){var lt=2*(Lt+1)-1,st=Q[lt],gt=lt+1,Vt=Q[gt];if(0>a(st,ht))gt<M&&0>a(Vt,st)?(Q[Lt]=Vt,Q[gt]=ht,Lt=gt):(Q[Lt]=st,Q[lt]=ht,Lt=lt);else if(gt<M&&0>a(Vt,ht))Q[Lt]=Vt,Q[gt]=ht,Lt=gt;else break t}}return it}function a(Q,it){var ht=Q.sortIndex-it.sortIndex;return ht!==0?ht:Q.id-it.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,E=null,S=3,R=!1,N=!1,F=!1,z=!1,K=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function dt(Q){for(var it=e(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=Q)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=e(g)}}function tt(Q){if(F=!1,dt(Q),!N)if(e(p)!==null)N=!0,at||(at=!0,k());else{var it=e(g);it!==null&&re(tt,it.startTime-Q)}}var at=!1,V=-1,w=5,I=-1;function x(){return z?!0:!(n.unstable_now()-I<w)}function P(){if(z=!1,at){var Q=n.unstable_now();I=Q;var it=!0;try{t:{N=!1,F&&(F=!1,nt(V),V=-1),R=!0;var ht=S;try{e:{for(dt(Q),E=e(p);E!==null&&!(E.expirationTime>Q&&x());){var Lt=E.callback;if(typeof Lt=="function"){E.callback=null,S=E.priorityLevel;var M=Lt(E.expirationTime<=Q);if(Q=n.unstable_now(),typeof M=="function"){E.callback=M,dt(Q),it=!0;break e}E===e(p)&&s(p),dt(Q)}else s(p);E=e(p)}if(E!==null)it=!0;else{var et=e(g);et!==null&&re(tt,et.startTime-Q),it=!1}}break t}finally{E=null,S=ht,R=!1}it=void 0}}finally{it?k():at=!1}}}var k;if(typeof J=="function")k=function(){J(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ve=D.port2;D.port1.onmessage=P,k=function(){ve.postMessage(null)}}else k=function(){K(P,0)};function re(Q,it){V=K(function(){Q(n.unstable_now())},it)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var it=3;break;default:it=S}var ht=S;S=it;try{return Q()}finally{S=ht}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(Q,it){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=S;S=Q;try{return it()}finally{S=ht}},n.unstable_scheduleCallback=function(Q,it,ht){var Lt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ht+M,Q={id:v++,callback:it,priorityLevel:Q,startTime:ht,expirationTime:M,sortIndex:-1},ht>Lt?(Q.sortIndex=ht,t(g,Q),e(p)===null&&Q===e(g)&&(F?(nt(V),V=-1):F=!0,re(tt,ht-Lt))):(Q.sortIndex=M,t(p,Q),N||R||(N=!0,at||(at=!0,k()))),Q},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(Q){var it=S;return function(){var ht=S;S=it;try{return Q.apply(this,arguments)}finally{S=ht}}}}(Gm)),Gm}var J0;function xI(){return J0||(J0=1,Fm.exports=MI()),Fm.exports}var Km={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function OI(){if(tT)return Ze;tT=1;var n=ug();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(p,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,v)},Ze.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},Ze.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:R}):v==="script"&&s.d.X(p,{crossOrigin:E,integrity:S,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ze.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,g){return p(g)},Ze.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Ze.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ze.version="19.1.0",Ze}var eT;function PI(){if(eT)return Km.exports;eT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Km.exports=OI(),Km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function NI(){if(nT)return Yl;nT=1;var n=xI(),t=ug(),e=PI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,l=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){o=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),i;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=f,l=m;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,l=m;break}if(A===l){T=!0,l=f,o=m;break}A=A.sibling}if(!T){for(A=m.child;A;){if(A===o){T=!0,o=m,l=f;break}if(A===l){T=!0,l=m,o=f;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),nt=Symbol.for("react.consumer"),J=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ve(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case z:return"Profiler";case F:return"StrictMode";case tt:return"Suspense";case at:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case J:return(i.displayName||"Context")+".Provider";case nt:return(i._context.displayName||"Context")+".Consumer";case dt:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:ve(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return ve(i(r))}catch{}}return null}var re=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],M=-1;function et(i){return{current:i}}function lt(i){0>M||(i.current=Lt[M],Lt[M]=null,M--)}function st(i,r){M++,Lt[M]=i.current,i.current=r}var gt=et(null),Vt=et(null),St=et(null),xe=et(null);function Jt(i,r){switch(st(St,r),st(Vt,i),st(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?A0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=A0(r),i=S0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(gt),st(gt,i)}function ni(){lt(gt),lt(Vt),lt(St)}function hs(i){i.memoizedState!==null&&st(xe,i);var r=gt.current,o=S0(r,i.type);r!==o&&(st(Vt,i),st(gt,o))}function Vi(i){Vt.current===i&&(lt(gt),lt(Vt)),xe.current===i&&(lt(xe),ql._currentValue=ht)}var mr=Object.prototype.hasOwnProperty,pr=n.unstable_scheduleCallback,gr=n.unstable_cancelCallback,Bo=n.unstable_shouldYield,Gu=n.unstable_requestPaint,In=n.unstable_now,jf=n.unstable_getCurrentPriorityLevel,zo=n.unstable_ImmediatePriority,da=n.unstable_UserBlockingPriority,yr=n.unstable_NormalPriority,qf=n.unstable_LowPriority,ma=n.unstable_IdlePriority,jo=n.log,Ku=n.unstable_setDisableYieldValue,ue=null,Gt=null;function yn(i){if(typeof jo=="function"&&Ku(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,i)}catch{}}var $e=Math.clz32?Math.clz32:vr,Qu=Math.log,Hf=Math.LN2;function vr(i){return i>>>=0,i===0?32:31-(Qu(i)/Hf|0)|0}var _r=256,Tr=4194304;function Gn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pa(i,r,o){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=Gn(l):(T&=A,T!==0?f=Gn(T):o||(o=A&~i,o!==0&&(f=Gn(o))))):(A=l&~m,A!==0?f=Gn(A):T!==0?f=Gn(T):o||(o=l&~i,o!==0&&(f=Gn(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function Er(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function qo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var i=_r;return _r<<=1,(_r&4194048)===0&&(_r=256),i}function Fo(){var i=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),i}function Mi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function xi(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Go(i,r,o,l,f,m){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,C=i.expirationTimes,j=i.hiddenUpdates;for(o=T&~o;0<o;){var Y=31-$e(o),$=1<<Y;A[Y]=0,C[Y]=-1;var q=j[Y];if(q!==null)for(j[Y]=null,Y=0;Y<q.length;Y++){var H=q[Y];H!==null&&(H.lane&=-536870913)}o&=~$}l!==0&&ii(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(T&~r))}function ii(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-$e(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|o&4194090}function Ko(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var l=31-$e(o),f=1<<l;f&r|i[l]&r&&(i[l]|=r),o&=~f}}function fs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ga(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ds(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:q0(i.type))}function Yu(i,r){var o=it.p;try{return it.p=i,r()}finally{it.p=o}}var ie=Math.random().toString(36).slice(2),we="__reactFiber$"+ie,_e="__reactProps$"+ie,Cn="__reactContainer$"+ie,Qo="__reactEvents$"+ie,Ff="__reactListeners$"+ie,ms="__reactHandles$"+ie,Xu="__reactResources$"+ie,Ar="__reactMarker$"+ie;function ps(i){delete i[we],delete i[_e],delete i[Qo],delete i[Ff],delete i[ms]}function Oi(i){var r=i[we];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Cn]||o[we]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=I0(i);i!==null;){if(o=i[we])return o;i=I0(i)}return r}i=o,o=i.parentNode}return null}function si(i){if(i=i[we]||i[Cn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function ri(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function an(i){var r=i[Xu];return r||(r=i[Xu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function de(i){i[Ar]=!0}var Yo=new Set,ya={};function Kn(i,r){Pi(i,r),Pi(i+"Capture",r)}function Pi(i,r){for(ya[i]=r,i=0;i<r.length;i++)Yo.add(r[i])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wu={},Sr={};function Zu(i){return mr.call(Sr,i)?!0:mr.call(Wu,i)?!1:$u.test(i)?Sr[i]=!0:(Wu[i]=!0,!1)}function gs(i,r,o){if(Zu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function ai(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function ze(i,r,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+l)}}var br,Ju;function Ni(i){if(br===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);br=r&&r[1]||"",Ju=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+br+i+Ju}var va=!1;function _a(i,r){if(!i||va)return"";va=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var q=H}Reflect.construct(i,[],$)}else{try{$.call()}catch(H){q=H}i.call($.prototype)}}else{try{throw Error()}catch(H){q=H}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],A=m[1];if(T&&A){var C=T.split(`
`),j=A.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===j.length)for(l=C.length-1,f=j.length-1;1<=l&&0<=f&&C[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==j[f]){var Y=`
`+C[l].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=l&&0<=f);break}}}finally{va=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ni(o):""}function Xo(i){switch(i.tag){case 26:case 27:case 5:return Ni(i.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return _a(i.type,!1);case 11:return _a(i.type.render,!1);case 1:return _a(i.type,!0);case 31:return Ni("Activity");default:return""}}function Ta(i){try{var r="";do r+=Xo(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function on(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $o(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Gf(i){var r=$o(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Ea(i){i._valueTracker||(i._valueTracker=Gf(i))}function Wo(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),l="";return i&&(l=$o(i)?i.checked?"true":"false":i.value),i=l,i!==o?(r.setValue(i),!0):!1}function wr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Kf=/[\n"\\]/g;function Te(i){return i.replace(Kf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vn(i,r,o,l,f,m,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+on(r)):i.value!==""+on(r)&&(i.value=""+on(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?ys(i,T,on(r)):o!=null?ys(i,T,on(o)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+on(A):i.removeAttribute("name")}function Rr(i,r,o,l,f,m,T,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;o=o!=null?""+on(o):"",r=r!=null?""+on(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function ys(i,r,o){r==="number"&&wr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Li(i,r,o,l){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&l&&(i[o].defaultSelected=!0)}else{for(o=""+on(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Yt(i,r,o){if(r!=null&&(r=""+on(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+on(o):""}function Ir(i,r,o,l){if(r==null){if(l!=null){if(o!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),r=o}o=on(r),i.defaultValue=o,l=i.textContent,l===o&&l!==""&&l!==null&&(i.value=l)}function Dn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(i,r,o){var l=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,o):typeof o!="number"||o===0||Cr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Zo(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&o[f]!==l&&tc(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&tc(i,m,r[m])}function Jo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(i){return Yf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ki=null;function Vn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,Bi=null;function tl(i){var r=si(i);if(r&&(i=r.stateNode)){var o=i[_e]||null;t:switch(i=r.stateNode,r.type){case"input":if(vn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Te(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var l=o[r];if(l!==i&&l.form===i.form){var f=l[_e]||null;if(!f)throw Error(s(90));vn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)l=o[r],l.form===i.form&&Wo(l)}break t;case"textarea":Yt(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Li(i,!!o.multiple,r,!1)}}}var oi=!1;function ec(i,r,o){if(oi)return i(r,o);oi=!0;try{var l=i(r);return l}finally{if(oi=!1,(Ui!==null||Bi!==null)&&(Yc(),Ui&&(r=Ui,i=Bi,Bi=Ui=null,tl(r),i)))for(r=0;r<i.length;r++)tl(i[r])}}function Dr(i,r){var o=i.stateNode;if(o===null)return null;var l=o[_e]||null;if(l===null)return null;o=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Qn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Mn=!1}var li=null,vs=null,zi=null;function el(){if(zi)return zi;var i,r=vs,o=r.length,l,f="value"in li?li.value:li.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var T=o-i;for(l=1;l<=T&&r[o-l]===f[m-l];l++);return zi=f.slice(i,1<l?1-l:void 0)}function ui(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ci(){return!0}function nl(){return!1}function Oe(i){function r(o,l,f,m,T){this._reactName=o,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ci:nl,this.isPropagationStopped=nl,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Oe(Ht),Mr=v({},Ht,{view:0,detail:0}),nc=Oe(Mr),ba,wa,hi,xr=v({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==hi&&(hi&&i.type==="mousemove"?(ba=i.screenX-hi.screenX,wa=i.screenY-hi.screenY):wa=ba=0,hi=i),ba)},movementY:function(i){return"movementY"in i?i.movementY:wa}}),xn=Oe(xr),ic=v({},xr,{dataTransfer:0}),Xf=Oe(ic),Or=v({},Mr,{relatedTarget:0}),Ra=Oe(Or),il=v({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=Oe(il),sc=v({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ca=Oe(sc),$f=v({},Ht,{data:0}),sl=Oe($f),Pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ac[i])?!!r[i]:!1}function Nr(){return rl}var oc=v({},Mr,{key:function(i){if(i.key){var r=Pr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=ui(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(i){return i.type==="keypress"?ui(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ui(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Da=Oe(oc),lc=v({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Oe(lc),ji=v({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),uc=Oe(ji),cc=v({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),hc=Oe(cc),fc=v({},xr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Oe(fc),ln=v({},Ht,{newState:0,oldState:0}),dc=Oe(ln),mc=[9,13,27,32],fi=Qn&&"CompositionEvent"in window,h=null;Qn&&"documentMode"in document&&(h=document.documentMode);var y=Qn&&"TextEvent"in window&&!h,_=Qn&&(!fi||h&&8<h&&11>=h),b=" ",U=!1;function G(i,r){switch(i){case"keyup":return mc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var kt=!1;function Re(i,r){switch(i){case"compositionend":return rt(r);case"keypress":return r.which!==32?null:(U=!0,b);case"textInput":return i=r.data,i===b&&U?null:i;default:return null}}function Ut(i,r){if(kt)return i==="compositionend"||!fi&&G(i,r)?(i=el(),zi=vs=li=null,kt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Pe[i.type]:r==="textarea"}function qi(i,r,o,l){Ui?Bi?Bi.push(l):Bi=[l]:Ui=l,r=th(r,"onChange"),0<r.length&&(o=new Sa("onChange","change",null,o,l),i.push({event:o,listeners:r}))}var je=null,di=null;function ol(i){y0(i,0)}function pc(i){var r=ri(i);if(Wo(r))return i}function Uy(i,r){if(i==="change")return r}var By=!1;if(Qn){var Wf;if(Qn){var Zf="oninput"in document;if(!Zf){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),Zf=typeof zy.oninput=="function"}Wf=Zf}else Wf=!1;By=Wf&&(!document.documentMode||9<document.documentMode)}function jy(){je&&(je.detachEvent("onpropertychange",qy),di=je=null)}function qy(i){if(i.propertyName==="value"&&pc(di)){var r=[];qi(r,di,i,Vn(i)),ec(ol,r)}}function s1(i,r,o){i==="focusin"?(jy(),je=r,di=o,je.attachEvent("onpropertychange",qy)):i==="focusout"&&jy()}function r1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(di)}function a1(i,r){if(i==="click")return pc(r)}function o1(i,r){if(i==="input"||i==="change")return pc(r)}function l1(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var _n=typeof Object.is=="function"?Object.is:l1;function ll(i,r){if(_n(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),l=Object.keys(r);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var f=o[l];if(!mr.call(r,f)||!_n(i[f],r[f]))return!1}return!0}function Hy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Fy(i,r){var o=Hy(i);i=0;for(var l;o;){if(o.nodeType===3){if(l=i+o.textContent.length,i<=r&&l>=r)return{node:o,offset:r-i};i=l}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Hy(o)}}function Gy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Gy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Ky(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=wr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=wr(i.document)}return r}function Jf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var u1=Qn&&"documentMode"in document&&11>=document.documentMode,Ma=null,td=null,ul=null,ed=!1;function Qy(i,r,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ed||Ma==null||Ma!==wr(l)||(l=Ma,"selectionStart"in l&&Jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=th(td,"onSelect"),0<l.length&&(r=new Sa("onSelect","select",null,r,o),i.push({event:r,listeners:l}),r.target=Ma)))}function Lr(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var xa={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},nd={},Yy={};Qn&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function kr(i){if(nd[i])return nd[i];if(!xa[i])return i;var r=xa[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Yy)return nd[i]=r[o];return i}var Xy=kr("animationend"),$y=kr("animationiteration"),Wy=kr("animationstart"),c1=kr("transitionrun"),h1=kr("transitionstart"),f1=kr("transitioncancel"),Zy=kr("transitionend"),Jy=new Map,id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");id.push("scrollEnd");function Yn(i,r){Jy.set(i,r),Kn(r,[i])}var tv=new WeakMap;function On(i,r){if(typeof i=="object"&&i!==null){var o=tv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ta(r)},tv.set(i,r),r)}return{value:i,source:r,stack:Ta(r)}}var Pn=[],Oa=0,sd=0;function gc(){for(var i=Oa,r=sd=Oa=0;r<i;){var o=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var m=Pn[r];if(Pn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}m!==0&&ev(o,f,m)}}function yc(i,r,o,l){Pn[Oa++]=i,Pn[Oa++]=r,Pn[Oa++]=o,Pn[Oa++]=l,sd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function rd(i,r,o,l){return yc(i,r,o,l),vc(i)}function Pa(i,r){return yc(i,null,null,r),vc(i)}function ev(i,r,o){i.lanes|=o;var l=i.alternate;l!==null&&(l.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-$e(o),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=o|536870912),m):null}function vc(i){if(50<Pl)throw Pl=0,hm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Na={};function d1(i,r,o,l){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,r,o,l){return new d1(i,r,o,l)}function ad(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hi(i,r){var o=i.alternate;return o===null?(o=Tn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function nv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function _c(i,r,o,l,f,m){var T=0;if(l=i,typeof i=="function")ad(i)&&(T=1);else if(typeof i=="string")T=pI(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Tn(31,o,r,f),i.elementType=I,i.lanes=m,i;case N:return Ur(o.children,f,m,r);case F:T=8,f|=24;break;case z:return i=Tn(12,o,r,f|2),i.elementType=z,i.lanes=m,i;case tt:return i=Tn(13,o,r,f),i.elementType=tt,i.lanes=m,i;case at:return i=Tn(19,o,r,f),i.elementType=at,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case K:case J:T=10;break t;case nt:T=9;break t;case dt:T=11;break t;case V:T=14;break t;case w:T=16,l=null;break t}T=29,o=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=Tn(T,o,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function Ur(i,r,o,l){return i=Tn(7,i,l,r),i.lanes=o,i}function od(i,r,o){return i=Tn(6,i,null,r),i.lanes=o,i}function ld(i,r,o){return r=Tn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var La=[],ka=0,Tc=null,Ec=0,Nn=[],Ln=0,Br=null,Fi=1,Gi="";function zr(i,r){La[ka++]=Ec,La[ka++]=Tc,Tc=i,Ec=r}function iv(i,r,o){Nn[Ln++]=Fi,Nn[Ln++]=Gi,Nn[Ln++]=Br,Br=i;var l=Fi;i=Gi;var f=32-$e(l)-1;l&=~(1<<f),o+=1;var m=32-$e(r)+f;if(30<m){var T=f-f%5;m=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Fi=1<<32-$e(r)+f|o<<f|l,Gi=m+i}else Fi=1<<m|o<<f|l,Gi=i}function ud(i){i.return!==null&&(zr(i,1),iv(i,1,0))}function cd(i){for(;i===Tc;)Tc=La[--ka],La[ka]=null,Ec=La[--ka],La[ka]=null;for(;i===Br;)Br=Nn[--Ln],Nn[Ln]=null,Gi=Nn[--Ln],Nn[Ln]=null,Fi=Nn[--Ln],Nn[Ln]=null}var un=null,ce=null,qt=!1,jr=null,mi=!1,hd=Error(s(519));function qr(i){var r=Error(s(418,""));throw fl(On(r,i)),hd}function sv(i){var r=i.stateNode,o=i.type,l=i.memoizedProps;switch(r[we]=i,r[_e]=l,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<Ll.length;o++)Ot(Ll[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Rr(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(r);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Ir(r,l.value,l.defaultValue,l.children),Ea(r)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||l.suppressHydrationWarning===!0||E0(r.textContent,o)?(l.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),l.onScroll!=null&&Ot("scroll",r),l.onScrollEnd!=null&&Ot("scrollend",r),l.onClick!=null&&(r.onclick=eh),r=!0):r=!1,r||qr(i)}function rv(i){for(un=i.return;un;)switch(un.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:un=un.return}}function cl(i){if(i!==un)return!1;if(!qt)return rv(i),qt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Im(i.type,i.memoizedProps)),o=!o),o&&ce&&qr(i),rv(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){ce=$n(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}ce=null}}else r===27?(r=ce,Ps(i.type)?(i=Mm,Mm=null,ce=i):ce=r):ce=un?$n(i.stateNode.nextSibling):null;return!0}function hl(){ce=un=null,qt=!1}function av(){var i=jr;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),jr=null),i}function fl(i){jr===null?jr=[i]:jr.push(i)}var fd=et(null),Hr=null,Ki=null;function _s(i,r,o){st(fd,r._currentValue),r._currentValue=o}function Qi(i){i._currentValue=fd.current,lt(fd)}function dd(i,r,o){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===o)break;i=i.return}}function md(i,r,o,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var T=f.child;m=m.firstContext;t:for(;m!==null;){var A=m;m=f;for(var C=0;C<r.length;C++)if(A.context===r[C]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),dd(m.return,o,i),l||(T=null);break t}m=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),dd(T,o,i),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===i){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function dl(i,r,o,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=f.type;_n(f.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(f===xe.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(ql):i=[ql])}f=f.return}i!==null&&md(r,i,o,l),r.flags|=262144}function Ac(i){for(i=i.firstContext;i!==null;){if(!_n(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fr(i){Hr=i,Ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function We(i){return ov(Hr,i)}function Sc(i,r){return Hr===null&&Fr(i),ov(i,r)}function ov(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ki===null){if(i===null)throw Error(s(308));Ki=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ki=Ki.next=r;return o}var m1=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},p1=n.unstable_scheduleCallback,g1=n.unstable_NormalPriority,Ce={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new m1,data:new Map,refCount:0}}function ml(i){i.refCount--,i.refCount===0&&p1(g1,function(){i.controller.abort()})}var pl=null,gd=0,Ua=0,Ba=null;function y1(i,r){if(pl===null){var o=pl=[];gd=0,Ua=vm(),Ba={status:"pending",value:void 0,then:function(l){o.push(l)}}}return gd++,r.then(lv,lv),r}function lv(){if(--gd===0&&pl!==null){Ba!==null&&(Ba.status="fulfilled");var i=pl;pl=null,Ua=0,Ba=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function v1(i,r){var o=[],l={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),l}var uv=Q.S;Q.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&y1(i,r),uv!==null&&uv(i,r)};var Gr=et(null);function yd(){var i=Gr.current;return i!==null?i:te.pooledCache}function bc(i,r){r===null?st(Gr,Gr.current):st(Gr,r.pool)}function cv(){var i=yd();return i===null?null:{parent:Ce._currentValue,pool:i}}var gl=Error(s(460)),hv=Error(s(474)),wc=Error(s(542)),vd={then:function(){}};function fv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Rc(){}function dv(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Rc,Rc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,pv(i),i;default:if(typeof r.status=="string")r.then(Rc,Rc);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,pv(i),i}throw yl=r,gl}}var yl=null;function mv(){if(yl===null)throw Error(s(459));var i=yl;return yl=null,i}function pv(i){if(i===gl||i===wc)throw Error(s(483))}var Ts=!1;function _d(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Es(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function As(i,r,o){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=vc(i),ev(i,null,o),r}return yc(i,l,r,o),vc(i)}function vl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Ko(i,o)}}function Ed(i,r){var o=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Ad=!1;function _l(){if(Ad){var i=Ba;if(i!==null)throw i}}function Tl(i,r,o,l){Ad=!1;var f=i.updateQueue;Ts=!1;var m=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var C=A,j=C.next;C.next=null,T===null?m=j:T.next=j,T=C;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==T&&(A===null?Y.firstBaseUpdate=j:A.next=j,Y.lastBaseUpdate=C))}if(m!==null){var $=f.baseState;T=0,Y=j=C=null,A=m;do{var q=A.lane&-536870913,H=q!==A.lane;if(H?(Bt&q)===q:(l&q)===q){q!==0&&q===Ua&&(Ad=!0),Y!==null&&(Y=Y.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Tt=i,yt=A;q=r;var Wt=o;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){$=Tt.call(Wt,$,q);break t}$=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,q=typeof Tt=="function"?Tt.call(Wt,$,q):Tt,q==null)break t;$=v({},$,q);break t;case 2:Ts=!0}}q=A.callback,q!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?(j=Y=H,C=$):Y=Y.next=H,T|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;H=A,A=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Y===null&&(C=$),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),Vs|=T,i.lanes=T,i.memoizedState=$}}function gv(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function yv(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)gv(o[i],r)}var za=et(null),Ic=et(0);function vv(i,r){i=ts,st(Ic,i),st(za,r),ts=i|r.baseLanes}function Sd(){st(Ic,ts),st(za,za.current)}function bd(){ts=Ic.current,lt(za),lt(Ic)}var Ss=0,Ct=null,Xt=null,Ee=null,Cc=!1,ja=!1,Kr=!1,Dc=0,El=0,qa=null,_1=0;function me(){throw Error(s(321))}function wd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!_n(i[o],r[o]))return!1;return!0}function Rd(i,r,o,l,f,m){return Ss=m,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?e_:n_,Kr=!1,m=o(l,f),Kr=!1,ja&&(m=Tv(r,o,l,f)),_v(i),m}function _v(i){Q.H=Nc;var r=Xt!==null&&Xt.next!==null;if(Ss=0,Ee=Xt=Ct=null,Cc=!1,El=0,qa=null,r)throw Error(s(300));i===null||Ne||(i=i.dependencies,i!==null&&Ac(i)&&(Ne=!0))}function Tv(i,r,o,l){Ct=i;var f=0;do{if(ja&&(qa=null),El=0,ja=!1,25<=f)throw Error(s(301));if(f+=1,Ee=Xt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=R1,m=r(o,l)}while(ja);return m}function T1(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?Al(r):r,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function Id(){var i=Dc!==0;return Dc=0,i}function Cd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Dd(i){if(Cc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Cc=!1}Ss=0,Ee=Xt=Ct=null,ja=!1,El=Dc=0,qa=null}function fn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Ct.memoizedState=Ee=i:Ee=Ee.next=i,Ee}function Ae(){if(Xt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var r=Ee===null?Ct.memoizedState:Ee.next;if(r!==null)Ee=r,Xt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ee===null?Ct.memoizedState=Ee=i:Ee=Ee.next=i}return Ee}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(i){var r=El;return El+=1,qa===null&&(qa=[]),i=dv(qa,i,r),r=Ct,(Ee===null?r.memoizedState:Ee.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?e_:n_),i}function Vc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Al(i);if(i.$$typeof===J)return We(i)}throw Error(s(438,String(i)))}function Md(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Vd(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),l=0;l<i;l++)o[l]=x;return r.index++,o}function Yi(i,r){return typeof r=="function"?r(i):r}function Mc(i){var r=Ae();return xd(r,Xt,i)}function xd(i,r,o){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var T=f.next;f.next=m.next,m.next=T}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=T=null,C=null,j=r,Y=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Bt&$)===$:(Ss&$)===$){var q=j.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Ua&&(Y=!0);else if((Ss&q)===q){j=j.next,q===Ua&&(Y=!0);continue}else $={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(A=C=$,T=m):C=C.next=$,Ct.lanes|=q,Vs|=q;$=j.action,Kr&&o(m,$),m=j.hasEagerState?j.eagerState:o(m,$)}else q={lane:$,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(A=C=q,T=m):C=C.next=q,Ct.lanes|=$,Vs|=$;j=j.next}while(j!==null&&j!==r);if(C===null?T=m:C.next=A,!_n(m,i.memoizedState)&&(Ne=!0,Y&&(o=Ba,o!==null)))throw o;i.memoizedState=m,i.baseState=T,i.baseQueue=C,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Od(i){var r=Ae(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var l=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do m=i(m,T.action),T=T.next;while(T!==f);_n(m,r.memoizedState)||(Ne=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,l]}function Ev(i,r,o){var l=Ct,f=Ae(),m=qt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var T=!_n((Xt||f).memoizedState,o);T&&(f.memoizedState=o,Ne=!0),f=f.queue;var A=bv.bind(null,l,f,i);if(Sl(2048,8,A,[i]),f.getSnapshot!==r||T||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Ha(9,xc(),Sv.bind(null,l,f,o,r),null),te===null)throw Error(s(349));m||(Ss&124)!==0||Av(l,r,o)}return o}function Av(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=Vd(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Sv(i,r,o,l){r.value=o,r.getSnapshot=l,wv(r)&&Rv(i)}function bv(i,r,o){return o(function(){wv(r)&&Rv(i)})}function wv(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!_n(i,o)}catch{return!0}}function Rv(i){var r=Pa(i,2);r!==null&&wn(r,i,2)}function Pd(i){var r=fn();if(typeof i=="function"){var o=i;if(i=o(),Kr){yn(!0);try{o()}finally{yn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:i},r}function Iv(i,r,o,l){return i.baseState=o,xd(i,Xt,typeof l=="function"?l:Yi)}function E1(i,r,o,l,f){if(Pc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};Q.T!==null?o(!0):m.isTransition=!1,l(m),o=r.pending,o===null?(m.next=r.pending=m,Cv(r,m)):(m.next=o.next,r.pending=o.next=m)}}function Cv(i,r){var o=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Q.T,T={};Q.T=T;try{var A=o(f,l),C=Q.S;C!==null&&C(T,A),Dv(i,r,A)}catch(j){Nd(i,r,j)}finally{Q.T=m}}else try{m=o(f,l),Dv(i,r,m)}catch(j){Nd(i,r,j)}}function Dv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){Vv(i,r,l)},function(l){return Nd(i,r,l)}):Vv(i,r,o)}function Vv(i,r,o){r.status="fulfilled",r.value=o,Mv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Cv(i,o)))}function Nd(i,r,o){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=o,Mv(r),r=r.next;while(r!==l)}i.action=null}function Mv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function xv(i,r){return r}function Ov(i,r){if(qt){var o=te.formState;if(o!==null){t:{var l=Ct;if(qt){if(ce){e:{for(var f=ce,m=mi;f.nodeType!==8;){if(!m){f=null;break e}if(f=$n(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ce=$n(f.nextSibling),l=f.data==="F!";break t}}qr(l)}l=!1}l&&(r=o[0])}}return o=fn(),o.memoizedState=o.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xv,lastRenderedState:r},o.queue=l,o=Zv.bind(null,Ct,l),l.dispatch=o,l=Pd(!1),m=zd.bind(null,Ct,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,o=E1.bind(null,Ct,f,m,o),f.dispatch=o,l.memoizedState=i,[r,o,!1]}function Pv(i){var r=Ae();return Nv(r,Xt,i)}function Nv(i,r,o){if(r=xd(i,r,xv)[0],i=Mc(Yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Al(r)}catch(T){throw T===gl?wc:T}else l=r;r=Ae();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,Ha(9,xc(),A1.bind(null,f,o),null)),[l,m,i]}function A1(i,r){i.action=r}function Lv(i){var r=Ae(),o=Xt;if(o!==null)return Nv(r,o,i);Ae(),r=r.memoizedState,o=Ae();var l=o.queue.dispatch;return o.memoizedState=i,[r,l,!1]}function Ha(i,r,o,l){return i={tag:i,create:o,deps:l,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Vd(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(l=o.next,o.next=i,i.next=l,r.lastEffect=i),i}function xc(){return{destroy:void 0,resource:void 0}}function kv(){return Ae().memoizedState}function Oc(i,r,o,l){var f=fn();l=l===void 0?null:l,Ct.flags|=i,f.memoizedState=Ha(1|r,xc(),o,l)}function Sl(i,r,o,l){var f=Ae();l=l===void 0?null:l;var m=f.memoizedState.inst;Xt!==null&&l!==null&&wd(l,Xt.memoizedState.deps)?f.memoizedState=Ha(r,m,o,l):(Ct.flags|=i,f.memoizedState=Ha(1|r,m,o,l))}function Uv(i,r){Oc(8390656,8,i,r)}function Bv(i,r){Sl(2048,8,i,r)}function zv(i,r){return Sl(4,2,i,r)}function jv(i,r){return Sl(4,4,i,r)}function qv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Hv(i,r,o){o=o!=null?o.concat([i]):null,Sl(4,4,qv.bind(null,r,i),o)}function Ld(){}function Fv(i,r){var o=Ae();r=r===void 0?null:r;var l=o.memoizedState;return r!==null&&wd(r,l[1])?l[0]:(o.memoizedState=[i,r],i)}function Gv(i,r){var o=Ae();r=r===void 0?null:r;var l=o.memoizedState;if(r!==null&&wd(r,l[1]))return l[0];if(l=i(),Kr){yn(!0);try{i()}finally{yn(!1)}}return o.memoizedState=[l,r],l}function kd(i,r,o){return o===void 0||(Ss&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=Y_(),Ct.lanes|=i,Vs|=i,o)}function Kv(i,r,o,l){return _n(o,r)?o:za.current!==null?(i=kd(i,o,l),_n(i,r)||(Ne=!0),i):(Ss&42)===0?(Ne=!0,i.memoizedState=o):(i=Y_(),Ct.lanes|=i,Vs|=i,r)}function Qv(i,r,o,l,f){var m=it.p;it.p=m!==0&&8>m?m:8;var T=Q.T,A={};Q.T=A,zd(i,!1,r,o);try{var C=f(),j=Q.S;if(j!==null&&j(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=v1(C,l);bl(i,r,Y,bn(i))}else bl(i,r,l,bn(i))}catch($){bl(i,r,{then:function(){},status:"rejected",reason:$},bn())}finally{it.p=m,Q.T=T}}function S1(){}function Ud(i,r,o,l){if(i.tag!==5)throw Error(s(476));var f=Yv(i).queue;Qv(i,f,r,ht,o===null?S1:function(){return Xv(i),o(l)})}function Yv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Xv(i){var r=Yv(i).next.queue;bl(i,r,{},bn())}function Bd(){return We(ql)}function $v(){return Ae().memoizedState}function Wv(){return Ae().memoizedState}function b1(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=bn();i=Es(o);var l=As(r,i,o);l!==null&&(wn(l,r,o),vl(l,r,o)),r={cache:pd()},i.payload=r;return}r=r.return}}function w1(i,r,o){var l=bn();o={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Pc(i)?Jv(r,o):(o=rd(i,r,o,l),o!==null&&(wn(o,i,l),t_(o,r,l)))}function Zv(i,r,o){var l=bn();bl(i,r,o,l)}function bl(i,r,o,l){var f={lane:l,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pc(i))Jv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var T=r.lastRenderedState,A=m(T,o);if(f.hasEagerState=!0,f.eagerState=A,_n(A,T))return yc(i,r,f,0),te===null&&gc(),!1}catch{}finally{}if(o=rd(i,r,f,l),o!==null)return wn(o,i,l),t_(o,r,l),!0}return!1}function zd(i,r,o,l){if(l={lane:2,revertLane:vm(),action:l,hasEagerState:!1,eagerState:null,next:null},Pc(i)){if(r)throw Error(s(479))}else r=rd(i,o,l,2),r!==null&&wn(r,i,2)}function Pc(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function Jv(i,r){ja=Cc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function t_(i,r,o){if((o&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,o|=l,r.lanes=o,Ko(i,o)}}var Nc={readContext:We,use:Vc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},e_={readContext:We,use:Vc,useCallback:function(i,r){return fn().memoizedState=[i,r===void 0?null:r],i},useContext:We,useEffect:Uv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Oc(4194308,4,qv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Oc(4194308,4,i,r)},useInsertionEffect:function(i,r){Oc(4,2,i,r)},useMemo:function(i,r){var o=fn();r=r===void 0?null:r;var l=i();if(Kr){yn(!0);try{i()}finally{yn(!1)}}return o.memoizedState=[l,r],l},useReducer:function(i,r,o){var l=fn();if(o!==void 0){var f=o(r);if(Kr){yn(!0);try{o(r)}finally{yn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=w1.bind(null,Ct,i),[l.memoizedState,i]},useRef:function(i){var r=fn();return i={current:i},r.memoizedState=i},useState:function(i){i=Pd(i);var r=i.queue,o=Zv.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Ld,useDeferredValue:function(i,r){var o=fn();return kd(o,i,r)},useTransition:function(){var i=Pd(!1);return i=Qv.bind(null,Ct,i.queue,!0,!1),fn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var l=Ct,f=fn();if(qt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),te===null)throw Error(s(349));(Bt&124)!==0||Av(l,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Uv(bv.bind(null,l,m,i),[i]),l.flags|=2048,Ha(9,xc(),Sv.bind(null,l,m,o,r),null),o},useId:function(){var i=fn(),r=te.identifierPrefix;if(qt){var o=Gi,l=Fi;o=(l&~(1<<32-$e(l)-1)).toString(32)+o,r="«"+r+"R"+o,o=Dc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=_1++,r="«"+r+"r"+o.toString(32)+"»";return i.memoizedState=r},useHostTransitionStatus:Bd,useFormState:Ov,useActionState:Ov,useOptimistic:function(i){var r=fn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=zd.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:Md,useCacheRefresh:function(){return fn().memoizedState=b1.bind(null,Ct)}},n_={readContext:We,use:Vc,useCallback:Fv,useContext:We,useEffect:Bv,useImperativeHandle:Hv,useInsertionEffect:zv,useLayoutEffect:jv,useMemo:Gv,useReducer:Mc,useRef:kv,useState:function(){return Mc(Yi)},useDebugValue:Ld,useDeferredValue:function(i,r){var o=Ae();return Kv(o,Xt.memoizedState,i,r)},useTransition:function(){var i=Mc(Yi)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Al(i),r]},useSyncExternalStore:Ev,useId:$v,useHostTransitionStatus:Bd,useFormState:Pv,useActionState:Pv,useOptimistic:function(i,r){var o=Ae();return Iv(o,Xt,i,r)},useMemoCache:Md,useCacheRefresh:Wv},R1={readContext:We,use:Vc,useCallback:Fv,useContext:We,useEffect:Bv,useImperativeHandle:Hv,useInsertionEffect:zv,useLayoutEffect:jv,useMemo:Gv,useReducer:Od,useRef:kv,useState:function(){return Od(Yi)},useDebugValue:Ld,useDeferredValue:function(i,r){var o=Ae();return Xt===null?kd(o,i,r):Kv(o,Xt.memoizedState,i,r)},useTransition:function(){var i=Od(Yi)[0],r=Ae().memoizedState;return[typeof i=="boolean"?i:Al(i),r]},useSyncExternalStore:Ev,useId:$v,useHostTransitionStatus:Bd,useFormState:Lv,useActionState:Lv,useOptimistic:function(i,r){var o=Ae();return Xt!==null?Iv(o,Xt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Md,useCacheRefresh:Wv},Fa=null,wl=0;function Lc(i){var r=wl;return wl+=1,Fa===null&&(Fa=[]),dv(Fa,i,r)}function Rl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function kc(i,r){throw r.$$typeof===E?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function i_(i){var r=i._init;return r(i._payload)}function s_(i){function r(L,O){if(i){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function o(L,O){if(!i)return null;for(;O!==null;)r(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function f(L,O){return L=Hi(L,O),L.index=0,L.sibling=null,L}function m(L,O,B){return L.index=B,i?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function T(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function A(L,O,B,X){return O===null||O.tag!==6?(O=od(B,L.mode,X),O.return=L,O):(O=f(O,B),O.return=L,O)}function C(L,O,B,X){var ft=B.type;return ft===N?Y(L,O,B.props.children,X,B.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&i_(ft)===O.type)?(O=f(O,B.props),Rl(O,B),O.return=L,O):(O=_c(B.type,B.key,B.props,null,L.mode,X),Rl(O,B),O.return=L,O)}function j(L,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=ld(B,L.mode,X),O.return=L,O):(O=f(O,B.children||[]),O.return=L,O)}function Y(L,O,B,X,ft){return O===null||O.tag!==7?(O=Ur(B,L.mode,X,ft),O.return=L,O):(O=f(O,B),O.return=L,O)}function $(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=od(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return B=_c(O.type,O.key,O.props,null,L.mode,B),Rl(B,O),B.return=L,B;case R:return O=ld(O,L.mode,B),O.return=L,O;case w:var X=O._init;return O=X(O._payload),$(L,O,B)}if(re(O)||k(O))return O=Ur(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return $(L,Lc(O),B);if(O.$$typeof===J)return $(L,Sc(L,O),B);kc(L,O)}return null}function q(L,O,B,X){var ft=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ft!==null?null:A(L,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ft?C(L,O,B,X):null;case R:return B.key===ft?j(L,O,B,X):null;case w:return ft=B._init,B=ft(B._payload),q(L,O,B,X)}if(re(B)||k(B))return ft!==null?null:Y(L,O,B,X,null);if(typeof B.then=="function")return q(L,O,Lc(B),X);if(B.$$typeof===J)return q(L,O,Sc(L,B),X);kc(L,B)}return null}function H(L,O,B,X,ft){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,A(O,L,""+X,ft);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return L=L.get(X.key===null?B:X.key)||null,C(O,L,X,ft);case R:return L=L.get(X.key===null?B:X.key)||null,j(O,L,X,ft);case w:var Mt=X._init;return X=Mt(X._payload),H(L,O,B,X,ft)}if(re(X)||k(X))return L=L.get(B)||null,Y(O,L,X,ft,null);if(typeof X.then=="function")return H(L,O,B,Lc(X),ft);if(X.$$typeof===J)return H(L,O,B,Sc(O,X),ft);kc(O,X)}return null}function Tt(L,O,B,X){for(var ft=null,Mt=null,mt=O,vt=O=0,ke=null;mt!==null&&vt<B.length;vt++){mt.index>vt?(ke=mt,mt=null):ke=mt.sibling;var jt=q(L,mt,B[vt],X);if(jt===null){mt===null&&(mt=ke);break}i&&mt&&jt.alternate===null&&r(L,mt),O=m(jt,O,vt),Mt===null?ft=jt:Mt.sibling=jt,Mt=jt,mt=ke}if(vt===B.length)return o(L,mt),qt&&zr(L,vt),ft;if(mt===null){for(;vt<B.length;vt++)mt=$(L,B[vt],X),mt!==null&&(O=m(mt,O,vt),Mt===null?ft=mt:Mt.sibling=mt,Mt=mt);return qt&&zr(L,vt),ft}for(mt=l(mt);vt<B.length;vt++)ke=H(mt,L,vt,B[vt],X),ke!==null&&(i&&ke.alternate!==null&&mt.delete(ke.key===null?vt:ke.key),O=m(ke,O,vt),Mt===null?ft=ke:Mt.sibling=ke,Mt=ke);return i&&mt.forEach(function(Bs){return r(L,Bs)}),qt&&zr(L,vt),ft}function yt(L,O,B,X){if(B==null)throw Error(s(151));for(var ft=null,Mt=null,mt=O,vt=O=0,ke=null,jt=B.next();mt!==null&&!jt.done;vt++,jt=B.next()){mt.index>vt?(ke=mt,mt=null):ke=mt.sibling;var Bs=q(L,mt,jt.value,X);if(Bs===null){mt===null&&(mt=ke);break}i&&mt&&Bs.alternate===null&&r(L,mt),O=m(Bs,O,vt),Mt===null?ft=Bs:Mt.sibling=Bs,Mt=Bs,mt=ke}if(jt.done)return o(L,mt),qt&&zr(L,vt),ft;if(mt===null){for(;!jt.done;vt++,jt=B.next())jt=$(L,jt.value,X),jt!==null&&(O=m(jt,O,vt),Mt===null?ft=jt:Mt.sibling=jt,Mt=jt);return qt&&zr(L,vt),ft}for(mt=l(mt);!jt.done;vt++,jt=B.next())jt=H(mt,L,vt,jt.value,X),jt!==null&&(i&&jt.alternate!==null&&mt.delete(jt.key===null?vt:jt.key),O=m(jt,O,vt),Mt===null?ft=jt:Mt.sibling=jt,Mt=jt);return i&&mt.forEach(function(II){return r(L,II)}),qt&&zr(L,vt),ft}function Wt(L,O,B,X){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:t:{for(var ft=B.key;O!==null;){if(O.key===ft){if(ft=B.type,ft===N){if(O.tag===7){o(L,O.sibling),X=f(O,B.props.children),X.return=L,L=X;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&i_(ft)===O.type){o(L,O.sibling),X=f(O,B.props),Rl(X,B),X.return=L,L=X;break t}o(L,O);break}else r(L,O);O=O.sibling}B.type===N?(X=Ur(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=_c(B.type,B.key,B.props,null,L.mode,X),Rl(X,B),X.return=L,L=X)}return T(L);case R:t:{for(ft=B.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){o(L,O.sibling),X=f(O,B.children||[]),X.return=L,L=X;break t}else{o(L,O);break}else r(L,O);O=O.sibling}X=ld(B,L.mode,X),X.return=L,L=X}return T(L);case w:return ft=B._init,B=ft(B._payload),Wt(L,O,B,X)}if(re(B))return Tt(L,O,B,X);if(k(B)){if(ft=k(B),typeof ft!="function")throw Error(s(150));return B=ft.call(B),yt(L,O,B,X)}if(typeof B.then=="function")return Wt(L,O,Lc(B),X);if(B.$$typeof===J)return Wt(L,O,Sc(L,B),X);kc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(o(L,O.sibling),X=f(O,B),X.return=L,L=X):(o(L,O),X=od(B,L.mode,X),X.return=L,L=X),T(L)):o(L,O)}return function(L,O,B,X){try{wl=0;var ft=Wt(L,O,B,X);return Fa=null,ft}catch(mt){if(mt===gl||mt===wc)throw mt;var Mt=Tn(29,mt,null,L.mode);return Mt.lanes=X,Mt.return=L,Mt}finally{}}}var Ga=s_(!0),r_=s_(!1),kn=et(null),pi=null;function bs(i){var r=i.alternate;st(De,De.current&1),st(kn,i),pi===null&&(r===null||za.current!==null||r.memoizedState!==null)&&(pi=i)}function a_(i){if(i.tag===22){if(st(De,De.current),st(kn,i),pi===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(pi=i)}}else ws()}function ws(){st(De,De.current),st(kn,kn.current)}function Xi(i){lt(kn),pi===i&&(pi=null),lt(De)}var De=et(0);function Uc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Vm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function jd(i,r,o,l){r=i.memoizedState,o=o(l,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var qd={enqueueSetState:function(i,r,o){i=i._reactInternals;var l=bn(),f=Es(l);f.payload=r,o!=null&&(f.callback=o),r=As(i,f,l),r!==null&&(wn(r,i,l),vl(r,i,l))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var l=bn(),f=Es(l);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=As(i,f,l),r!==null&&(wn(r,i,l),vl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=bn(),l=Es(o);l.tag=2,r!=null&&(l.callback=r),r=As(i,l,o),r!==null&&(wn(r,i,o),vl(r,i,o))}};function o_(i,r,o,l,f,m,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,T):r.prototype&&r.prototype.isPureReactComponent?!ll(o,l)||!ll(f,m):!0}function l_(i,r,o,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,l),r.state!==i&&qd.enqueueReplaceState(r,r.state,null)}function Qr(i,r){var o=r;if("ref"in r){o={};for(var l in r)l!=="ref"&&(o[l]=r[l])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Bc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function u_(i){Bc(i)}function c_(i){console.error(i)}function h_(i){Bc(i)}function zc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function f_(i,r,o){try{var l=i.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hd(i,r,o){return o=Es(o),o.tag=3,o.payload={element:null},o.callback=function(){zc(i,r)},o}function d_(i){return i=Es(i),i.tag=3,i}function m_(i,r,o,l){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){f_(r,o,l)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){f_(r,o,l),typeof f!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function I1(i,r,o,l,f){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=o.alternate,r!==null&&dl(r,o,f,!0),o=kn.current,o!==null){switch(o.tag){case 13:return pi===null?dm():o.alternate===null&&he===0&&(he=3),o.flags&=-257,o.flags|=65536,o.lanes=f,l===vd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([l]):r.add(l),pm(i,l,f)),!1;case 22:return o.flags|=65536,l===vd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([l]):o.add(l)),pm(i,l,f)),!1}throw Error(s(435,o.tag))}return pm(i,l,f),dm(),!1}if(qt)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==hd&&(i=Error(s(422),{cause:l}),fl(On(i,o)))):(l!==hd&&(r=Error(s(423),{cause:l}),fl(On(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=On(l,o),f=Hd(i.stateNode,l,f),Ed(i,f),he!==4&&(he=2)),!1;var m=Error(s(520),{cause:l});if(m=On(m,o),Ol===null?Ol=[m]:Ol.push(m),he!==4&&(he=2),r===null)return!0;l=On(l,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Hd(o.stateNode,l,i),Ed(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ms===null||!Ms.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=d_(f),m_(f,i,o,l),Ed(o,f),!1}o=o.return}while(o!==null);return!1}var p_=Error(s(461)),Ne=!1;function qe(i,r,o,l){r.child=i===null?r_(r,null,o,l):Ga(r,i.child,o,l)}function g_(i,r,o,l,f){o=o.render;var m=r.ref;if("ref"in l){var T={};for(var A in l)A!=="ref"&&(T[A]=l[A])}else T=l;return Fr(r),l=Rd(i,r,o,T,m,f),A=Id(),i!==null&&!Ne?(Cd(i,r,f),$i(i,r,f)):(qt&&A&&ud(r),r.flags|=1,qe(i,r,l,f),r.child)}function y_(i,r,o,l,f){if(i===null){var m=o.type;return typeof m=="function"&&!ad(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,v_(i,r,m,l,f)):(i=_c(o.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Wd(i,f)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:ll,o(T,l)&&i.ref===r.ref)return $i(i,r,f)}return r.flags|=1,i=Hi(m,l),i.ref=r.ref,i.return=r,r.child=i}function v_(i,r,o,l,f){if(i!==null){var m=i.memoizedProps;if(ll(m,l)&&i.ref===r.ref)if(Ne=!1,r.pendingProps=l=m,Wd(i,f))(i.flags&131072)!==0&&(Ne=!0);else return r.lanes=i.lanes,$i(i,r,f)}return Fd(i,r,o,l,f)}function __(i,r,o){var l=r.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|o:o,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return T_(i,r,l,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&bc(r,m!==null?m.cachePool:null),m!==null?vv(r,m):Sd(),a_(r);else return r.lanes=r.childLanes=536870912,T_(i,r,m!==null?m.baseLanes|o:o,o)}else m!==null?(bc(r,m.cachePool),vv(r,m),ws(),r.memoizedState=null):(i!==null&&bc(r,null),Sd(),ws());return qe(i,r,f,o),r.child}function T_(i,r,o,l){var f=yd();return f=f===null?null:{parent:Ce._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&bc(r,null),Sd(),a_(r),i!==null&&dl(i,r,l,!0),null}function jc(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Fd(i,r,o,l,f){return Fr(r),o=Rd(i,r,o,l,void 0,f),l=Id(),i!==null&&!Ne?(Cd(i,r,f),$i(i,r,f)):(qt&&l&&ud(r),r.flags|=1,qe(i,r,o,f),r.child)}function E_(i,r,o,l,f,m){return Fr(r),r.updateQueue=null,o=Tv(r,l,o,f),_v(i),l=Id(),i!==null&&!Ne?(Cd(i,r,m),$i(i,r,m)):(qt&&l&&ud(r),r.flags|=1,qe(i,r,o,m),r.child)}function A_(i,r,o,l,f){if(Fr(r),r.stateNode===null){var m=Na,T=o.contextType;typeof T=="object"&&T!==null&&(m=We(T)),m=new o(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},_d(r),T=o.contextType,m.context=typeof T=="object"&&T!==null?We(T):Na,m.state=r.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(jd(r,o,T,l),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&qd.enqueueReplaceState(m,m.state,null),Tl(r,l,m,f),_l(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,C=Qr(o,A);m.props=C;var j=m.context,Y=o.contextType;T=Na,typeof Y=="object"&&Y!==null&&(T=We(Y));var $=o.getDerivedStateFromProps;Y=typeof $=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||j!==T)&&l_(r,m,l,T),Ts=!1;var q=r.memoizedState;m.state=q,Tl(r,l,m,f),_l(),j=r.memoizedState,A||q!==j||Ts?(typeof $=="function"&&(jd(r,o,$,l),j=r.memoizedState),(C=Ts||o_(r,o,C,l,q,j,T))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),m.props=l,m.state=j,m.context=T,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Td(i,r),T=r.memoizedProps,Y=Qr(o,T),m.props=Y,$=r.pendingProps,q=m.context,j=o.contextType,C=Na,typeof j=="object"&&j!==null&&(C=We(j)),A=o.getDerivedStateFromProps,(j=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==$||q!==C)&&l_(r,m,l,C),Ts=!1,q=r.memoizedState,m.state=q,Tl(r,l,m,f),_l();var H=r.memoizedState;T!==$||q!==H||Ts||i!==null&&i.dependencies!==null&&Ac(i.dependencies)?(typeof A=="function"&&(jd(r,o,A,l),H=r.memoizedState),(Y=Ts||o_(r,o,Y,l,q,H,C)||i!==null&&i.dependencies!==null&&Ac(i.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),m.props=l,m.state=H,m.context=C,l=Y):(typeof m.componentDidUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,jc(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=Ga(r,i.child,null,f),r.child=Ga(r,null,o,f)):qe(i,r,o,f),r.memoizedState=m.state,i=r.child):i=$i(i,r,f),i}function S_(i,r,o,l){return hl(),r.flags|=256,qe(i,r,o,l),r.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(i){return{baseLanes:i,cachePool:cv()}}function Qd(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Un),i}function b_(i,r,o){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,T;if((T=m)||(T=i!==null&&i.memoizedState===null?!1:(De.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(qt){if(f?bs(r):ws(),qt){var A=ce,C;if(C=A){t:{for(C=A,A=mi;C.nodeType!==8;){if(!A){A=null;break t}if(C=$n(C.nextSibling),C===null){A=null;break t}}A=C}A!==null?(r.memoizedState={dehydrated:A,treeContext:Br!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},C=Tn(18,null,null,0),C.stateNode=A,C.return=r,r.child=C,un=r,ce=null,C=!0):C=!1}C||qr(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Vm(A)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return A=l.children,l=l.fallback,f?(ws(),f=r.mode,A=qc({mode:"hidden",children:A},f),l=Ur(l,f,o,null),A.return=r,l.return=r,A.sibling=l,r.child=A,f=r.child,f.memoizedState=Kd(o),f.childLanes=Qd(i,T,o),r.memoizedState=Gd,l):(bs(r),Yd(r,A))}if(C=i.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(m)r.flags&256?(bs(r),r.flags&=-257,r=Xd(i,r,o)):r.memoizedState!==null?(ws(),r.child=i.child,r.flags|=128,r=null):(ws(),f=l.fallback,A=r.mode,l=qc({mode:"visible",children:l.children},A),f=Ur(f,A,o,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ga(r,i.child,null,o),l=r.child,l.memoizedState=Kd(o),l.childLanes=Qd(i,T,o),r.memoizedState=Gd,r=f);else if(bs(r),Vm(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var j=T.dgst;T=j,l=Error(s(419)),l.stack="",l.digest=T,fl({value:l,source:null,stack:null}),r=Xd(i,r,o)}else if(Ne||dl(i,r,o,!1),T=(o&i.childLanes)!==0,Ne||T){if(T=te,T!==null&&(l=o&-o,l=(l&42)!==0?1:fs(l),l=(l&(T.suspendedLanes|o))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Pa(i,l),wn(T,i,l),p_;A.data==="$?"||dm(),r=Xd(i,r,o)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=C.treeContext,ce=$n(A.nextSibling),un=r,qt=!0,jr=null,mi=!1,i!==null&&(Nn[Ln++]=Fi,Nn[Ln++]=Gi,Nn[Ln++]=Br,Fi=i.id,Gi=i.overflow,Br=r),r=Yd(r,l.children),r.flags|=4096);return r}return f?(ws(),f=l.fallback,A=r.mode,C=i.child,j=C.sibling,l=Hi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?f=Hi(j,f):(f=Ur(f,A,o,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,A=i.child.memoizedState,A===null?A=Kd(o):(C=A.cachePool,C!==null?(j=Ce._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=cv(),A={baseLanes:A.baseLanes|o,cachePool:C}),f.memoizedState=A,f.childLanes=Qd(i,T,o),r.memoizedState=Gd,l):(bs(r),o=i.child,i=o.sibling,o=Hi(o,{mode:"visible",children:l.children}),o.return=r,o.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=o,r.memoizedState=null,o)}function Yd(i,r){return r=qc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function qc(i,r){return i=Tn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Xd(i,r,o){return Ga(r,i.child,null,o),i=Yd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function w_(i,r,o){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),dd(i.return,r,o)}function $d(i,r,o,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=o,m.tailMode=f)}function R_(i,r,o){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(qe(i,r,l.children,o),l=De.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&w_(i,o,r);else if(i.tag===19)w_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(st(De,l),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Uc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),$d(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Uc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}$d(r,!0,o,null,m);break;case"together":$d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Vs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(dl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Hi(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Hi(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Wd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ac(i)))}function C1(i,r,o){switch(r.tag){case 3:Jt(r,r.stateNode.containerInfo),_s(r,Ce,i.memoizedState.cache),hl();break;case 27:case 5:hs(r);break;case 4:Jt(r,r.stateNode.containerInfo);break;case 10:_s(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(bs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?b_(i,r,o):(bs(r),i=$i(i,r,o),i!==null?i.sibling:null);bs(r);break;case 19:var f=(i.flags&128)!==0;if(l=(o&r.childLanes)!==0,l||(dl(i,r,o,!1),l=(o&r.childLanes)!==0),f){if(l)return R_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(De,De.current),l)break;return null;case 22:case 23:return r.lanes=0,__(i,r,o);case 24:_s(r,Ce,i.memoizedState.cache)}return $i(i,r,o)}function I_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ne=!0;else{if(!Wd(i,o)&&(r.flags&128)===0)return Ne=!1,C1(i,r,o);Ne=(i.flags&131072)!==0}else Ne=!1,qt&&(r.flags&1048576)!==0&&iv(r,Ec,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")ad(l)?(i=Qr(l,i),r.tag=1,r=A_(null,r,l,i,o)):(r.tag=0,r=Fd(null,r,l,i,o));else{if(l!=null){if(f=l.$$typeof,f===dt){r.tag=11,r=g_(null,r,l,i,o);break t}else if(f===V){r.tag=14,r=y_(null,r,l,i,o);break t}}throw r=ve(l)||l,Error(s(306,r,""))}}return r;case 0:return Fd(i,r,r.type,r.pendingProps,o);case 1:return l=r.type,f=Qr(l,r.pendingProps),A_(i,r,l,f,o);case 3:t:{if(Jt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Td(i,r),Tl(r,l,null,o);var T=r.memoizedState;if(l=T.cache,_s(r,Ce,l),l!==m.cache&&md(r,[Ce],o,!0),_l(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=S_(i,r,l,o);break t}else if(l!==f){f=On(Error(s(424)),r),fl(f),r=S_(i,r,l,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ce=$n(i.firstChild),un=r,qt=!0,jr=null,mi=!0,o=r_(r,null,l,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(hl(),l===f){r=$i(i,r,o);break t}qe(i,r,l,o)}r=r.child}return r;case 26:return jc(i,r),i===null?(o=M0(r.type,null,r.pendingProps,null))?r.memoizedState=o:qt||(o=r.type,i=r.pendingProps,l=nh(St.current).createElement(o),l[we]=r,l[_e]=i,Fe(l,o,i),de(l),r.stateNode=l):r.memoizedState=M0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return hs(r),i===null&&qt&&(l=r.stateNode=C0(r.type,r.pendingProps,St.current),un=r,mi=!0,f=ce,Ps(r.type)?(Mm=f,ce=$n(l.firstChild)):ce=f),qe(i,r,r.pendingProps.children,o),jc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qt&&((f=l=ce)&&(l=nI(l,r.type,r.pendingProps,mi),l!==null?(r.stateNode=l,un=r,ce=$n(l.firstChild),mi=!1,f=!0):f=!1),f||qr(r)),hs(r),f=r.type,m=r.pendingProps,T=i!==null?i.memoizedProps:null,l=m.children,Im(f,m)?l=null:T!==null&&Im(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=Rd(i,r,T1,null,null,o),ql._currentValue=f),jc(i,r),qe(i,r,l,o),r.child;case 6:return i===null&&qt&&((i=o=ce)&&(o=iI(o,r.pendingProps,mi),o!==null?(r.stateNode=o,un=r,ce=null,i=!0):i=!1),i||qr(r)),null;case 13:return b_(i,r,o);case 4:return Jt(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Ga(r,null,l,o):qe(i,r,l,o),r.child;case 11:return g_(i,r,r.type,r.pendingProps,o);case 7:return qe(i,r,r.pendingProps,o),r.child;case 8:return qe(i,r,r.pendingProps.children,o),r.child;case 12:return qe(i,r,r.pendingProps.children,o),r.child;case 10:return l=r.pendingProps,_s(r,r.type,l.value),qe(i,r,l.children,o),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Fr(r),f=We(f),l=l(f),r.flags|=1,qe(i,r,l,o),r.child;case 14:return y_(i,r,r.type,r.pendingProps,o);case 15:return v_(i,r,r.type,r.pendingProps,o);case 19:return R_(i,r,o);case 31:return l=r.pendingProps,o=r.mode,l={mode:l.mode,children:l.children},i===null?(o=qc(l,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Hi(i.child,l),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return __(i,r,o);case 24:return Fr(r),l=We(Ce),i===null?(f=yd(),f===null&&(f=te,m=pd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:l,cache:f},_d(r),_s(r,Ce,f)):((i.lanes&o)!==0&&(Td(i,r),Tl(r,null,null,o),_l()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),_s(r,Ce,l)):(l=m.cache,_s(r,Ce,l),l!==f.cache&&md(r,[Ce],o,!0))),qe(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Wi(i){i.flags|=4}function C_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!L0(r)){if(r=kn.current,r!==null&&((Bt&4194048)===Bt?pi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==pi))throw yl=vd,hv;i.flags|=8192}}function Hc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Fo():536870912,i.lanes|=r,Xa|=r)}function Il(i,r){if(!qt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function ae(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,l=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=o,r}function D1(i,r,o){var l=r.pendingProps;switch(cd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return o=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qi(Ce),ni(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(cl(r)?Wi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,av())),ae(r),null;case 26:return o=r.memoizedState,i===null?(Wi(r),o!==null?(ae(r),C_(r,o)):(ae(r),r.flags&=-16777217)):o?o!==i.memoizedState?(Wi(r),ae(r),C_(r,o)):(ae(r),r.flags&=-16777217):(i.memoizedProps!==l&&Wi(r),ae(r),r.flags&=-16777217),null;case 27:Vi(r),o=St.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}i=gt.current,cl(r)?sv(r):(i=C0(f,l,o),r.stateNode=i,Wi(r))}return ae(r),null;case 5:if(Vi(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(i=gt.current,cl(r))sv(r);else{switch(f=nh(St.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(o,{is:l.is}):f.createElement(o)}}i[we]=r,i[_e]=l;t:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break t;for(;f.sibling===null;){if(f.return===null||f.return===r)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;t:switch(Fe(i,o,l),o){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Wi(r)}}return ae(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=St.current,cl(r)){if(i=r.stateNode,o=r.memoizedProps,l=null,f=un,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[we]=r,i=!!(i.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||E0(i.nodeValue,o)),i||qr(r)}else i=nh(i).createTextNode(l),i[we]=r,r.stateNode=i}return ae(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=cl(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[we]=r}else hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),f=!1}else f=av(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=l!==null,i=i!==null&&i.memoizedState!==null,o){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Hc(r,r.updateQueue),ae(r),null;case 4:return ni(),i===null&&Am(r.stateNode.containerInfo),ae(r),null;case 10:return Qi(r.type),ae(r),null;case 19:if(lt(De),f=r.memoizedState,f===null)return ae(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Il(f,!1);else{if(he!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Uc(i),m!==null){for(r.flags|=128,Il(f,!1),i=m.updateQueue,r.updateQueue=i,Hc(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)nv(o,i),o=o.sibling;return st(De,De.current&1|2),r.child}i=i.sibling}f.tail!==null&&In()>Kc&&(r.flags|=128,l=!0,Il(f,!1),r.lanes=4194304)}else{if(!l)if(i=Uc(m),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Hc(r,i),Il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!qt)return ae(r),null}else 2*In()-f.renderingStartTime>Kc&&o!==536870912&&(r.flags|=128,l=!0,Il(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=In(),r.sibling=null,i=De.current,st(De,l?i&1|2:i&1),r):(ae(r),null);case 22:case 23:return Xi(r),bd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(o&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),o=r.updateQueue,o!==null&&Hc(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==o&&(r.flags|=2048),i!==null&&lt(Gr),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Qi(Ce),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function V1(i,r){switch(cd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Qi(Ce),ni(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Vi(r),null;case 13:if(Xi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));hl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return lt(De),null;case 4:return ni(),null;case 10:return Qi(r.type),null;case 22:case 23:return Xi(r),bd(),i!==null&&lt(Gr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Qi(Ce),null;case 25:return null;default:return null}}function D_(i,r){switch(cd(r),r.tag){case 3:Qi(Ce),ni();break;case 26:case 27:case 5:Vi(r);break;case 4:ni();break;case 13:Xi(r);break;case 19:lt(De);break;case 10:Qi(r.type);break;case 22:case 23:Xi(r),bd(),i!==null&&lt(Gr);break;case 24:Qi(Ce)}}function Cl(i,r){try{var o=r.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var f=l.next;o=f;do{if((o.tag&i)===i){l=void 0;var m=o.create,T=o.inst;l=m(),T.destroy=l}o=o.next}while(o!==f)}}catch(A){Zt(r,r.return,A)}}function Rs(i,r,o){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var T=l.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=r;var C=o,j=A;try{j()}catch(Y){Zt(f,C,Y)}}}l=l.next}while(l!==m)}}catch(Y){Zt(r,r.return,Y)}}function V_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{yv(r,o)}catch(l){Zt(i,i.return,l)}}}function M_(i,r,o){o.props=Qr(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(l){Zt(i,r,l)}}function Dl(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof o=="function"?i.refCleanup=o(l):o.current=l}}catch(f){Zt(i,r,f)}}function gi(i,r){var o=i.ref,l=i.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(f){Zt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Zt(i,r,f)}else o.current=null}function x_(i){var r=i.type,o=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break t;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(f){Zt(i,i.return,f)}}function Zd(i,r,o){try{var l=i.stateNode;W1(l,i.type,o,r),l[_e]=r}catch(f){Zt(i,i.return,f)}}function O_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ps(i.type)||i.tag===4}function Jd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||O_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ps(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tm(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=eh));else if(l!==4&&(l===27&&Ps(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(tm(i,r,o),i=i.sibling;i!==null;)tm(i,r,o),i=i.sibling}function Fc(i,r,o){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(l!==4&&(l===27&&Ps(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Fc(i,r,o),i=i.sibling;i!==null;)Fc(i,r,o),i=i.sibling}function P_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Fe(r,l,o),r[we]=i,r[_e]=o}catch(m){Zt(i,i.return,m)}}var Zi=!1,pe=!1,em=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Le=null;function M1(i,r){if(i=i.containerInfo,wm=lh,i=Ky(i),Jf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break t}var T=0,A=-1,C=-1,j=0,Y=0,$=i,q=null;e:for(;;){for(var H;$!==o||f!==0&&$.nodeType!==3||(A=T+f),$!==m||l!==0&&$.nodeType!==3||(C=T+l),$.nodeType===3&&(T+=$.nodeValue.length),(H=$.firstChild)!==null;)q=$,$=H;for(;;){if($===i)break e;if(q===o&&++j===f&&(A=T),q===m&&++Y===l&&(C=T),(H=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=H}o=A===-1||C===-1?null:{start:A,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rm={focusedElem:i,selectionRange:o},lh=!1,Le=r;Le!==null;)if(r=Le,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Le=i;else for(;Le!==null;){switch(r=Le,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var Tt=Qr(o.type,f,o.elementType===o.type);i=l.getSnapshotBeforeUpdate(Tt,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(yt){Zt(o,o.return,yt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Dm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Le=i;break}Le=r.return}}function L_(i,r,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Is(i,o),l&4&&Cl(5,o);break;case 1:if(Is(i,o),l&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var f=Qr(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}l&64&&V_(o),l&512&&Dl(o,o.return);break;case 3:if(Is(i,o),l&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{yv(i,r)}catch(T){Zt(o,o.return,T)}}break;case 27:r===null&&l&4&&P_(o);case 26:case 5:Is(i,o),r===null&&l&4&&x_(o),l&512&&Dl(o,o.return);break;case 12:Is(i,o);break;case 13:Is(i,o),l&4&&B_(i,o),l&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=z1.bind(null,o),sI(i,o))));break;case 22:if(l=o.memoizedState!==null||Zi,!l){r=r!==null&&r.memoizedState!==null||pe,f=Zi;var m=pe;Zi=l,(pe=r)&&!m?Cs(i,o,(o.subtreeFlags&8772)!==0):Is(i,o),Zi=f,pe=m}break;case 30:break;default:Is(i,o)}}function k_(i){var r=i.alternate;r!==null&&(i.alternate=null,k_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ps(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var se=null,dn=!1;function Ji(i,r,o){for(o=o.child;o!==null;)U_(i,r,o),o=o.sibling}function U_(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,o)}catch{}switch(o.tag){case 26:pe||gi(o,r),Ji(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pe||gi(o,r);var l=se,f=dn;Ps(o.type)&&(se=o.stateNode,dn=!1),Ji(i,r,o),Ul(o.stateNode),se=l,dn=f;break;case 5:pe||gi(o,r);case 6:if(l=se,f=dn,se=null,Ji(i,r,o),se=l,dn=f,se!==null)if(dn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(o.stateNode)}catch(m){Zt(o,r,m)}else try{se.removeChild(o.stateNode)}catch(m){Zt(o,r,m)}break;case 18:se!==null&&(dn?(i=se,R0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Kl(i)):R0(se,o.stateNode));break;case 4:l=se,f=dn,se=o.stateNode.containerInfo,dn=!0,Ji(i,r,o),se=l,dn=f;break;case 0:case 11:case 14:case 15:pe||Rs(2,o,r),pe||Rs(4,o,r),Ji(i,r,o);break;case 1:pe||(gi(o,r),l=o.stateNode,typeof l.componentWillUnmount=="function"&&M_(o,r,l)),Ji(i,r,o);break;case 21:Ji(i,r,o);break;case 22:pe=(l=pe)||o.memoizedState!==null,Ji(i,r,o),pe=l;break;default:Ji(i,r,o)}}function B_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kl(i)}catch(o){Zt(r,r.return,o)}}function x1(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new N_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new N_),r;default:throw Error(s(435,i.tag))}}function nm(i,r){var o=x1(i);r.forEach(function(l){var f=j1.bind(null,i,l);o.has(l)||(o.add(l),l.then(f,f))})}function En(i,r){var o=r.deletions;if(o!==null)for(var l=0;l<o.length;l++){var f=o[l],m=i,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Ps(A.type)){se=A.stateNode,dn=!1;break t}break;case 5:se=A.stateNode,dn=!1;break t;case 3:case 4:se=A.stateNode.containerInfo,dn=!0;break t}A=A.return}if(se===null)throw Error(s(160));U_(m,T,f),se=null,dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)z_(r,i),r=r.sibling}var Xn=null;function z_(i,r){var o=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(r,i),An(i),l&4&&(Rs(3,i,i.return),Cl(3,i),Rs(5,i,i.return));break;case 1:En(r,i),An(i),l&512&&(pe||o===null||gi(o,o.return)),l&64&&Zi&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var f=Xn;if(En(r,i),An(i),l&512&&(pe||o===null||gi(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=i.memoizedState,o===null)if(l===null)if(i.stateNode===null){t:{l=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ar]||m[we]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Fe(m,l,o),m[we]=i,de(m),l=m;break t;case"link":var T=P0("link","href",f).get(l+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(m=T[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break e}}m=f.createElement(l),Fe(m,l,o),f.head.appendChild(m);break;case"meta":if(T=P0("meta","content",f).get(l+(o.content||""))){for(A=0;A<T.length;A++)if(m=T[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break e}}m=f.createElement(l),Fe(m,l,o),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[we]=i,de(m),l=m}i.stateNode=l}else N0(f,i.type,i.stateNode);else i.stateNode=O0(f,l,i.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?N0(f,i.type,i.stateNode):O0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Zd(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(r,i),An(i),l&512&&(pe||o===null||gi(o,o.return)),o!==null&&l&4&&Zd(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(r,i),An(i),l&512&&(pe||o===null||gi(o,o.return)),i.flags&32){f=i.stateNode;try{Dn(f,"")}catch(H){Zt(i,i.return,H)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Zd(i,f,o!==null?o.memoizedProps:f)),l&1024&&(em=!0);break;case 6:if(En(r,i),An(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,o=i.stateNode;try{o.nodeValue=l}catch(H){Zt(i,i.return,H)}}break;case 3:if(rh=null,f=Xn,Xn=ih(r.containerInfo),En(r,i),Xn=f,An(i),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Kl(r.containerInfo)}catch(H){Zt(i,i.return,H)}em&&(em=!1,j_(i));break;case 4:l=Xn,Xn=ih(i.stateNode.containerInfo),En(r,i),An(i),Xn=l;break;case 12:En(r,i),An(i);break;case 13:En(r,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lm=In()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,nm(i,l)));break;case 22:f=i.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,j=Zi,Y=pe;if(Zi=j||f,pe=Y||C,En(r,i),pe=Y,Zi=j,An(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||C||Zi||pe||Yr(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){C=o=r;try{if(m=C.stateNode,f)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=C.stateNode;var $=C.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Zt(C,C.return,H)}}}else if(r.tag===6){if(o===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(H){Zt(C,C.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,nm(i,o))));break;case 19:En(r,i),An(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,nm(i,l)));break;case 30:break;case 21:break;default:En(r,i),An(i)}}function An(i){var r=i.flags;if(r&2){try{for(var o,l=i.return;l!==null;){if(O_(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=Jd(i);Fc(i,m,f);break;case 5:var T=o.stateNode;o.flags&32&&(Dn(T,""),o.flags&=-33);var A=Jd(i);Fc(i,A,T);break;case 3:case 4:var C=o.stateNode.containerInfo,j=Jd(i);tm(i,j,C);break;default:throw Error(s(161))}}catch(Y){Zt(i,i.return,Y)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function j_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;j_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Is(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)L_(i,r.alternate,r),r=r.sibling}function Yr(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Rs(4,r,r.return),Yr(r);break;case 1:gi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&M_(r,r.return,o),Yr(r);break;case 27:Ul(r.stateNode);case 26:case 5:gi(r,r.return),Yr(r);break;case 22:r.memoizedState===null&&Yr(r);break;case 30:Yr(r);break;default:Yr(r)}i=i.sibling}}function Cs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,T=m.flags;switch(m.tag){case 0:case 11:case 15:Cs(f,m,o),Cl(4,m);break;case 1:if(Cs(f,m,o),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Zt(l,l.return,j)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)gv(C[f],A)}catch(j){Zt(l,l.return,j)}}o&&T&64&&V_(m),Dl(m,m.return);break;case 27:P_(m);case 26:case 5:Cs(f,m,o),o&&l===null&&T&4&&x_(m),Dl(m,m.return);break;case 12:Cs(f,m,o);break;case 13:Cs(f,m,o),o&&T&4&&B_(f,m);break;case 22:m.memoizedState===null&&Cs(f,m,o),Dl(m,m.return);break;case 30:break;default:Cs(f,m,o)}r=r.sibling}}function im(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ml(o))}function sm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ml(i))}function yi(i,r,o,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)q_(i,r,o,l),r=r.sibling}function q_(i,r,o,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:yi(i,r,o,l),f&2048&&Cl(9,r);break;case 1:yi(i,r,o,l);break;case 3:yi(i,r,o,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ml(i)));break;case 12:if(f&2048){yi(i,r,o,l),i=r.stateNode;try{var m=r.memoizedProps,T=m.id,A=m.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){Zt(r,r.return,C)}}else yi(i,r,o,l);break;case 13:yi(i,r,o,l);break;case 23:break;case 22:m=r.stateNode,T=r.alternate,r.memoizedState!==null?m._visibility&2?yi(i,r,o,l):Vl(i,r):m._visibility&2?yi(i,r,o,l):(m._visibility|=2,Ka(i,r,o,l,(r.subtreeFlags&10256)!==0)),f&2048&&im(T,r);break;case 24:yi(i,r,o,l),f&2048&&sm(r.alternate,r);break;default:yi(i,r,o,l)}}function Ka(i,r,o,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,T=r,A=o,C=l,j=T.flags;switch(T.tag){case 0:case 11:case 15:Ka(m,T,A,C,f),Cl(8,T);break;case 23:break;case 22:var Y=T.stateNode;T.memoizedState!==null?Y._visibility&2?Ka(m,T,A,C,f):Vl(m,T):(Y._visibility|=2,Ka(m,T,A,C,f)),f&&j&2048&&im(T.alternate,T);break;case 24:Ka(m,T,A,C,f),f&&j&2048&&sm(T.alternate,T);break;default:Ka(m,T,A,C,f)}r=r.sibling}}function Vl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,l=r,f=l.flags;switch(l.tag){case 22:Vl(o,l),f&2048&&im(l.alternate,l);break;case 24:Vl(o,l),f&2048&&sm(l.alternate,l);break;default:Vl(o,l)}r=r.sibling}}var Ml=8192;function Qa(i){if(i.subtreeFlags&Ml)for(i=i.child;i!==null;)H_(i),i=i.sibling}function H_(i){switch(i.tag){case 26:Qa(i),i.flags&Ml&&i.memoizedState!==null&&yI(Xn,i.memoizedState,i.memoizedProps);break;case 5:Qa(i);break;case 3:case 4:var r=Xn;Xn=ih(i.stateNode.containerInfo),Qa(i),Xn=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Ml,Ml=16777216,Qa(i),Ml=r):Qa(i));break;default:Qa(i)}}function F_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function xl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];Le=l,K_(l,i)}F_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)G_(i),i=i.sibling}function G_(i){switch(i.tag){case 0:case 11:case 15:xl(i),i.flags&2048&&Rs(9,i,i.return);break;case 3:xl(i);break;case 12:xl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Gc(i)):xl(i);break;default:xl(i)}}function Gc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var l=r[o];Le=l,K_(l,i)}F_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Rs(8,r,r.return),Gc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Gc(r));break;default:Gc(r)}i=i.sibling}}function K_(i,r){for(;Le!==null;){var o=Le;switch(o.tag){case 0:case 11:case 15:Rs(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Le=l;else t:for(o=i;Le!==null;){l=Le;var f=l.sibling,m=l.return;if(k_(l),l===o){Le=null;break t}if(f!==null){f.return=m,Le=f;break t}Le=m}}}var O1={getCacheForType:function(i){var r=We(Ce),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},P1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,xt=null,Bt=0,Qt=0,Sn=null,Ds=!1,Ya=!1,rm=!1,ts=0,he=0,Vs=0,Xr=0,am=0,Un=0,Xa=0,Ol=null,mn=null,om=!1,lm=0,Kc=1/0,Qc=null,Ms=null,He=0,xs=null,$a=null,Wa=0,um=0,cm=null,Q_=null,Pl=0,hm=null;function bn(){if((Kt&2)!==0&&Bt!==0)return Bt&-Bt;if(Q.T!==null){var i=Ua;return i!==0?i:vm()}return ds()}function Y_(){Un===0&&(Un=(Bt&536870912)===0||qt?Ho():536870912);var i=kn.current;return i!==null&&(i.flags|=32),Un}function wn(i,r,o){(i===te&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(Za(i,0),Os(i,Bt,Un,!1)),xi(i,o),((Kt&2)===0||i!==te)&&(i===te&&((Kt&2)===0&&(Xr|=o),he===4&&Os(i,Bt,Un,!1)),vi(i))}function X_(i,r,o){if((Kt&6)!==0)throw Error(s(327));var l=!o&&(r&124)===0&&(r&i.expiredLanes)===0||Er(i,r),f=l?k1(i,r):mm(i,r,!0),m=l;do{if(f===0){Ya&&!l&&Os(i,r,0,!1);break}else{if(o=i.current.alternate,m&&!N1(o)){f=mm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=i;f=Ol;var C=A.current.memoizedState.isDehydrated;if(C&&(Za(A,T).flags|=256),T=mm(A,T,!1),T!==2){if(rm&&!C){A.errorRecoveryDisabledLanes|=m,Xr|=m,f=4;break t}m=mn,mn=f,m!==null&&(mn===null?mn=m:mn.push.apply(mn,m))}f=T}if(m=!1,f!==2)continue}}if(f===1){Za(i,0),Os(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Os(l,r,Un,!Ds);break t;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=lm+300-In(),10<f)){if(Os(l,r,Un,!Ds),pa(l,0,!0)!==0)break t;l.timeoutHandle=b0($_.bind(null,l,o,mn,Qc,om,r,Un,Xr,Xa,Ds,m,2,-0,0),f);break t}$_(l,o,mn,Qc,om,r,Un,Xr,Xa,Ds,m,0,-0,0)}}break}while(!0);vi(i)}function $_(i,r,o,l,f,m,T,A,C,j,Y,$,q,H){if(i.timeoutHandle=-1,$=r.subtreeFlags,($&8192||($&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:gI},H_(r),$=vI(),$!==null)){i.cancelPendingCommit=$(i0.bind(null,i,r,m,o,l,f,T,A,C,Y,1,q,H)),Os(i,m,T,!j);return}i0(i,r,m,o,l,f,T,A,C)}function N1(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var f=o[l],m=f.getSnapshot;f=f.value;try{if(!_n(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Os(i,r,o,l){r&=~am,r&=~Xr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-$e(f),T=1<<m;l[m]=-1,f&=~T}o!==0&&ii(i,o,r)}function Yc(){return(Kt&6)===0?(Nl(0),!1):!0}function fm(){if(xt!==null){if(Qt===0)var i=xt.return;else i=xt,Ki=Hr=null,Dd(i),Fa=null,wl=0,i=xt;for(;i!==null;)D_(i.alternate,i),i=i.return;xt=null}}function Za(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,J1(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),fm(),te=i,xt=o=Hi(i.current,null),Bt=r,Qt=0,Sn=null,Ds=!1,Ya=Er(i,r),rm=!1,Xa=Un=am=Xr=Vs=he=0,mn=Ol=null,om=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-$e(l),m=1<<f;r|=i[f],l&=~m}return ts=r,gc(),o}function W_(i,r){Ct=null,Q.H=Nc,r===gl||r===wc?(r=mv(),Qt=3):r===hv?(r=mv(),Qt=4):Qt=r===p_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,xt===null&&(he=1,zc(i,On(r,i.current)))}function Z_(){var i=Q.H;return Q.H=Nc,i===null?Nc:i}function J_(){var i=Q.A;return Q.A=O1,i}function dm(){he=4,Ds||(Bt&4194048)!==Bt&&kn.current!==null||(Ya=!0),(Vs&134217727)===0&&(Xr&134217727)===0||te===null||Os(te,Bt,Un,!1)}function mm(i,r,o){var l=Kt;Kt|=2;var f=Z_(),m=J_();(te!==i||Bt!==r)&&(Qc=null,Za(i,r)),r=!1;var T=he;t:do try{if(Qt!==0&&xt!==null){var A=xt,C=Sn;switch(Qt){case 8:fm(),T=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var j=Qt;if(Qt=0,Sn=null,Ja(i,A,C,j),o&&Ya){T=0;break t}break;default:j=Qt,Qt=0,Sn=null,Ja(i,A,C,j)}}L1(),T=he;break}catch(Y){W_(i,Y)}while(!0);return r&&i.shellSuspendCounter++,Ki=Hr=null,Kt=l,Q.H=f,Q.A=m,xt===null&&(te=null,Bt=0,gc()),T}function L1(){for(;xt!==null;)t0(xt)}function k1(i,r){var o=Kt;Kt|=2;var l=Z_(),f=J_();te!==i||Bt!==r?(Qc=null,Kc=In()+500,Za(i,r)):Ya=Er(i,r);t:do try{if(Qt!==0&&xt!==null){r=xt;var m=Sn;e:switch(Qt){case 1:Qt=0,Sn=null,Ja(i,r,m,1);break;case 2:case 9:if(fv(m)){Qt=0,Sn=null,e0(r);break}r=function(){Qt!==2&&Qt!==9||te!==i||(Qt=7),vi(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:fv(m)?(Qt=0,Sn=null,e0(r)):(Qt=0,Sn=null,Ja(i,r,m,7));break;case 5:var T=null;switch(xt.tag){case 26:T=xt.memoizedState;case 5:case 27:var A=xt;if(!T||L0(T)){Qt=0,Sn=null;var C=A.sibling;if(C!==null)xt=C;else{var j=A.return;j!==null?(xt=j,Xc(j)):xt=null}break e}}Qt=0,Sn=null,Ja(i,r,m,5);break;case 6:Qt=0,Sn=null,Ja(i,r,m,6);break;case 8:fm(),he=6;break t;default:throw Error(s(462))}}U1();break}catch(Y){W_(i,Y)}while(!0);return Ki=Hr=null,Q.H=l,Q.A=f,Kt=o,xt!==null?0:(te=null,Bt=0,gc(),he)}function U1(){for(;xt!==null&&!Bo();)t0(xt)}function t0(i){var r=I_(i.alternate,i,ts);i.memoizedProps=i.pendingProps,r===null?Xc(i):xt=r}function e0(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=E_(o,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=E_(o,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Dd(r);default:D_(o,r),r=xt=nv(r,ts),r=I_(o,r,ts)}i.memoizedProps=i.pendingProps,r===null?Xc(i):xt=r}function Ja(i,r,o,l){Ki=Hr=null,Dd(r),Fa=null,wl=0;var f=r.return;try{if(I1(i,f,r,o,Bt)){he=1,zc(i,On(o,i.current)),xt=null;return}}catch(m){if(f!==null)throw xt=f,m;he=1,zc(i,On(o,i.current)),xt=null;return}r.flags&32768?(qt||l===1?i=!0:Ya||(Bt&536870912)!==0?i=!1:(Ds=i=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),n0(r,i)):Xc(r)}function Xc(i){var r=i;do{if((r.flags&32768)!==0){n0(r,Ds);return}i=r.return;var o=D1(r.alternate,r,ts);if(o!==null){xt=o;return}if(r=r.sibling,r!==null){xt=r;return}xt=r=i}while(r!==null);he===0&&(he=5)}function n0(i,r){do{var o=V1(i.alternate,i);if(o!==null){o.flags&=32767,xt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){xt=i;return}xt=i=o}while(i!==null);he=6,xt=null}function i0(i,r,o,l,f,m,T,A,C){i.cancelPendingCommit=null;do $c();while(He!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=sd,Go(i,o,m,T,A,C),i===te&&(xt=te=null,Bt=0),$a=r,xs=i,Wa=o,um=m,cm=f,Q_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,q1(yr,function(){return l0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=it.p,it.p=2,T=Kt,Kt|=4;try{M1(i,r,o)}finally{Kt=T,it.p=f,Q.T=l}}He=1,s0(),r0(),a0()}}function s0(){if(He===1){He=0;var i=xs,r=$a,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{z_(r,i);var m=Rm,T=Ky(i.containerInfo),A=m.focusedElem,C=m.selectionRange;if(T!==A&&A&&A.ownerDocument&&Gy(A.ownerDocument.documentElement,A)){if(C!==null&&Jf(A)){var j=C.start,Y=C.end;if(Y===void 0&&(Y=j),"selectionStart"in A)A.selectionStart=j,A.selectionEnd=Math.min(Y,A.value.length);else{var $=A.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var H=q.getSelection(),Tt=A.textContent.length,yt=Math.min(C.start,Tt),Wt=C.end===void 0?yt:Math.min(C.end,Tt);!H.extend&&yt>Wt&&(T=Wt,Wt=yt,yt=T);var L=Fy(A,yt),O=Fy(A,Wt);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var B=$.createRange();B.setStart(L.node,L.offset),H.removeAllRanges(),yt>Wt?(H.addRange(B),H.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),H.addRange(B))}}}}for($=[],H=A;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<$.length;A++){var X=$[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}lh=!!wm,Rm=wm=null}finally{Kt=f,it.p=l,Q.T=o}}i.current=r,He=2}}function r0(){if(He===2){He=0;var i=xs,r=$a,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var l=it.p;it.p=2;var f=Kt;Kt|=4;try{L_(i,r.alternate,r)}finally{Kt=f,it.p=l,Q.T=o}}He=3}}function a0(){if(He===4||He===3){He=0,Gu();var i=xs,r=$a,o=Wa,l=Q_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?He=5:(He=0,$a=xs=null,o0(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Ms=null),ga(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=it.p,it.p=2,Q.T=null;try{for(var m=i.onRecoverableError,T=0;T<l.length;T++){var A=l[T];m(A.value,{componentStack:A.stack})}}finally{Q.T=r,it.p=f}}(Wa&3)!==0&&$c(),vi(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===hm?Pl++:(Pl=0,hm=i):Pl=0,Nl(0)}}function o0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ml(r)))}function $c(i){return s0(),r0(),a0(),l0()}function l0(){if(He!==5)return!1;var i=xs,r=um;um=0;var o=ga(Wa),l=Q.T,f=it.p;try{it.p=32>o?32:o,Q.T=null,o=cm,cm=null;var m=xs,T=Wa;if(He=0,$a=xs=null,Wa=0,(Kt&6)!==0)throw Error(s(331));var A=Kt;if(Kt|=4,G_(m.current),q_(m,m.current,T,o),Kt=A,Nl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,m)}catch{}return!0}finally{it.p=f,Q.T=l,o0(i,r)}}function u0(i,r,o){r=On(o,r),r=Hd(i.stateNode,r,2),i=As(i,r,2),i!==null&&(xi(i,2),vi(i))}function Zt(i,r,o){if(i.tag===3)u0(i,i,o);else for(;r!==null;){if(r.tag===3){u0(r,i,o);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ms===null||!Ms.has(l))){i=On(o,i),o=d_(2),l=As(r,o,2),l!==null&&(m_(o,l,r,i),xi(l,2),vi(l));break}}r=r.return}}function pm(i,r,o){var l=i.pingCache;if(l===null){l=i.pingCache=new P1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(o)||(rm=!0,f.add(o),i=B1.bind(null,i,r,o),r.then(i,i))}function B1(i,r,o){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(Bt&o)===o&&(he===4||he===3&&(Bt&62914560)===Bt&&300>In()-lm?(Kt&2)===0&&Za(i,0):am|=o,Xa===Bt&&(Xa=0)),vi(i)}function c0(i,r){r===0&&(r=Fo()),i=Pa(i,r),i!==null&&(xi(i,r),vi(i))}function z1(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),c0(i,o)}function j1(i,r){var o=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),c0(i,o)}function q1(i,r){return pr(i,r)}var Wc=null,to=null,gm=!1,Zc=!1,ym=!1,$r=0;function vi(i){i!==to&&i.next===null&&(to===null?Wc=to=i:to=to.next=i),Zc=!0,gm||(gm=!0,F1())}function Nl(i,r){if(!ym&&Zc){ym=!0;do for(var o=!1,l=Wc;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var T=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-$e(42|i)+1)-1,m&=f&~(T&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,m0(l,m))}else m=Bt,m=pa(l,l===te?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Er(l,m)||(o=!0,m0(l,m));l=l.next}while(o);ym=!1}}function H1(){h0()}function h0(){Zc=gm=!1;var i=0;$r!==0&&(Z1()&&(i=$r),$r=0);for(var r=In(),o=null,l=Wc;l!==null;){var f=l.next,m=f0(l,r);m===0?(l.next=null,o===null?Wc=f:o.next=f,f===null&&(to=o)):(o=l,(i!==0||(m&3)!==0)&&(Zc=!0)),l=f}Nl(i)}function f0(i,r){for(var o=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var T=31-$e(m),A=1<<T,C=f[T];C===-1?((A&o)===0||(A&l)!==0)&&(f[T]=qo(A,r)):C<=r&&(i.expiredLanes|=A),m&=~A}if(r=te,o=Bt,o=pa(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,o===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Er(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(l!==null&&gr(l),ga(o)){case 2:case 8:o=da;break;case 32:o=yr;break;case 268435456:o=ma;break;default:o=yr}return l=d0.bind(null,i),o=pr(o,l),i.callbackPriority=r,i.callbackNode=o,r}return l!==null&&l!==null&&gr(l),i.callbackPriority=2,i.callbackNode=null,2}function d0(i,r){if(He!==0&&He!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if($c()&&i.callbackNode!==o)return null;var l=Bt;return l=pa(i,i===te?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(X_(i,l,r),f0(i,In()),i.callbackNode!=null&&i.callbackNode===o?d0.bind(null,i):null)}function m0(i,r){if($c())return null;X_(i,r,!0)}function F1(){tI(function(){(Kt&6)!==0?pr(zo,H1):h0()})}function vm(){return $r===0&&($r=Ho()),$r}function p0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Aa(""+i)}function g0(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function G1(i,r,o,l,f){if(r==="submit"&&o&&o.stateNode===f){var m=p0((f[_e]||null).action),T=l.submitter;T&&(r=(r=T[_e]||null)?p0(r.formAction):T.getAttribute("formAction"),r!==null&&(m=r,T=null));var A=new Sa("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var C=T?g0(f,T):new FormData(f);Ud(o,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(A.preventDefault(),C=T?g0(f,T):new FormData(f),Ud(o,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var _m=0;_m<id.length;_m++){var Tm=id[_m],K1=Tm.toLowerCase(),Q1=Tm[0].toUpperCase()+Tm.slice(1);Yn(K1,"on"+Q1)}Yn(Xy,"onAnimationEnd"),Yn($y,"onAnimationIteration"),Yn(Wy,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(c1,"onTransitionRun"),Yn(h1,"onTransitionStart"),Yn(f1,"onTransitionCancel"),Yn(Zy,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function y0(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var l=i[o],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var T=l.length-1;0<=T;T--){var A=l[T],C=A.instance,j=A.currentTarget;if(A=A.listener,C!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=j;try{m(f)}catch(Y){Bc(Y)}f.currentTarget=null,m=C}else for(T=0;T<l.length;T++){if(A=l[T],C=A.instance,j=A.currentTarget,A=A.listener,C!==m&&f.isPropagationStopped())break t;m=A,f.currentTarget=j;try{m(f)}catch(Y){Bc(Y)}f.currentTarget=null,m=C}}}}function Ot(i,r){var o=r[Qo];o===void 0&&(o=r[Qo]=new Set);var l=i+"__bubble";o.has(l)||(v0(r,i,2,!1),o.add(l))}function Em(i,r,o){var l=0;r&&(l|=4),v0(o,i,l,r)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Am(i){if(!i[Jc]){i[Jc]=!0,Yo.forEach(function(o){o!=="selectionchange"&&(Y1.has(o)||Em(o,!1,i),Em(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Jc]||(r[Jc]=!0,Em("selectionchange",!1,r))}}function v0(i,r,o,l){switch(q0(r)){case 2:var f=EI;break;case 8:f=AI;break;default:f=Lm}o=f.bind(null,r,o,i),f=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Sm(i,r,o,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var A=l.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=l.return;T!==null;){var C=T.tag;if((C===3||C===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Oi(A),T===null)return;if(C=T.tag,C===5||C===6||C===26||C===27){l=m=T;continue t}A=A.parentNode}}l=l.return}ec(function(){var j=m,Y=Vn(o),$=[];t:{var q=Jy.get(i);if(q!==void 0){var H=Sa,Tt=i;switch(i){case"keypress":if(ui(o)===0)break t;case"keydown":case"keyup":H=Da;break;case"focusin":Tt="focus",H=Ra;break;case"focusout":Tt="blur",H=Ra;break;case"beforeblur":case"afterblur":H=Ra;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=uc;break;case Xy:case $y:case Wy:H=Ia;break;case Zy:H=hc;break;case"scroll":case"scrollend":H=nc;break;case"wheel":H=Va;break;case"copy":case"cut":case"paste":H=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=al;break;case"toggle":case"beforetoggle":H=dc}var yt=(r&4)!==0,Wt=!yt&&(i==="scroll"||i==="scrollend"),L=yt?q!==null?q+"Capture":null:q;yt=[];for(var O=j,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=Dr(O,L),X!=null&&yt.push(kl(O,X,B))),Wt)break;O=O.return}0<yt.length&&(q=new H(q,Tt,null,o,Y),$.push({event:q,listeners:yt}))}}if((r&7)===0){t:{if(q=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",q&&o!==ki&&(Tt=o.relatedTarget||o.fromElement)&&(Oi(Tt)||Tt[Cn]))break t;if((H||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Tt=o.relatedTarget||o.toElement,H=j,Tt=Tt?Oi(Tt):null,Tt!==null&&(Wt=u(Tt),yt=Tt.tag,Tt!==Wt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(H=null,Tt=j),H!==Tt)){if(yt=xn,X="onMouseLeave",L="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(yt=al,X="onPointerLeave",L="onPointerEnter",O="pointer"),Wt=H==null?q:ri(H),B=Tt==null?q:ri(Tt),q=new yt(X,O+"leave",H,o,Y),q.target=Wt,q.relatedTarget=B,X=null,Oi(Y)===j&&(yt=new yt(L,O+"enter",Tt,o,Y),yt.target=B,yt.relatedTarget=Wt,X=yt),Wt=X,H&&Tt)e:{for(yt=H,L=Tt,O=0,B=yt;B;B=eo(B))O++;for(B=0,X=L;X;X=eo(X))B++;for(;0<O-B;)yt=eo(yt),O--;for(;0<B-O;)L=eo(L),B--;for(;O--;){if(yt===L||L!==null&&yt===L.alternate)break e;yt=eo(yt),L=eo(L)}yt=null}else yt=null;H!==null&&_0($,q,H,yt,!1),Tt!==null&&Wt!==null&&_0($,Wt,Tt,yt,!0)}}t:{if(q=j?ri(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ft=Uy;else if(Ie(q))if(By)ft=o1;else{ft=r1;var Mt=s1}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Jo(j.elementType)&&(ft=Uy):ft=a1;if(ft&&(ft=ft(i,j))){qi($,ft,o,Y);break t}Mt&&Mt(i,q,j),i==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&ys(q,"number",q.value)}switch(Mt=j?ri(j):window,i){case"focusin":(Ie(Mt)||Mt.contentEditable==="true")&&(Ma=Mt,td=j,ul=null);break;case"focusout":ul=td=Ma=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Qy($,o,Y);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":Qy($,o,Y)}var mt;if(fi)t:{switch(i){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?G(i,o)&&(vt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(vt="onCompositionStart");vt&&(_&&o.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(mt=el()):(li=Y,vs="value"in li?li.value:li.textContent,kt=!0)),Mt=th(j,vt),0<Mt.length&&(vt=new sl(vt,i,null,o,Y),$.push({event:vt,listeners:Mt}),mt?vt.data=mt:(mt=rt(o),mt!==null&&(vt.data=mt)))),(mt=y?Re(i,o):Ut(i,o))&&(vt=th(j,"onBeforeInput"),0<vt.length&&(Mt=new sl("onBeforeInput","beforeinput",null,o,Y),$.push({event:Mt,listeners:vt}),Mt.data=mt)),G1($,i,j,o,Y)}y0($,r)})}function kl(i,r,o){return{instance:i,listener:r,currentTarget:o}}function th(i,r){for(var o=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Dr(i,o),f!=null&&l.unshift(kl(i,f,m)),f=Dr(i,r),f!=null&&l.push(kl(i,f,m))),i.tag===3)return l;i=i.return}return[]}function eo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _0(i,r,o,l,f){for(var m=r._reactName,T=[];o!==null&&o!==l;){var A=o,C=A.alternate,j=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||j===null||(C=j,f?(j=Dr(o,m),j!=null&&T.unshift(kl(o,j,C))):f||(j=Dr(o,m),j!=null&&T.push(kl(o,j,C)))),o=o.return}T.length!==0&&i.push({event:r,listeners:T})}var X1=/\r\n?/g,$1=/\u0000|\uFFFD/g;function T0(i){return(typeof i=="string"?i:""+i).replace(X1,`
`).replace($1,"")}function E0(i,r){return r=T0(r),T0(i)===r}function eh(){}function $t(i,r,o,l,f,m){switch(o){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(i,""+l);break;case"className":ai(i,"class",l);break;case"tabIndex":ai(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(i,o,l);break;case"style":Zo(i,l,m);break;case"data":if(r!=="object"){ai(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Aa(""+l),i.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&$t(i,r,"name",f.name,f,null),$t(i,r,"formEncType",f.formEncType,f,null),$t(i,r,"formMethod",f.formMethod,f,null),$t(i,r,"formTarget",f.formTarget,f,null)):($t(i,r,"encType",f.encType,f,null),$t(i,r,"method",f.method,f,null),$t(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(o);break}l=Aa(""+l),i.setAttribute(o,l);break;case"onClick":l!=null&&(i.onclick=eh);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}o=Aa(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""+l):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":l===!0?i.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(o,l):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(o,l):i.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(o):i.setAttribute(o,l);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),gs(i,"popover",l);break;case"xlinkActuate":ze(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gs(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Qf.get(o)||o,gs(i,o,l))}}function bm(i,r,o,l,f,m){switch(o){case"style":Zo(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof l=="string"?Dn(i,l):(typeof l=="number"||typeof l=="bigint")&&Dn(i,""+l);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"onClick":l!=null&&(i.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[_e]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,l,f);break t}o in i?i[o]=l:l===!0?i.setAttribute(o,""):gs(i,o,l)}}}function Fe(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var l=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,m,T,o,null)}}f&&$t(i,r,"srcSet",o.srcSet,o,null),l&&$t(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var A=m=T=f=null,C=null,j=null;for(l in o)if(o.hasOwnProperty(l)){var Y=o[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":T=Y;break;case"checked":C=Y;break;case"defaultChecked":j=Y;break;case"value":m=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:$t(i,r,l,Y,o,null)}}Rr(i,m,A,C,j,T,f,!1),Ea(i);return;case"select":Ot("invalid",i),l=T=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":T=A;break;case"multiple":l=A;default:$t(i,r,f,A,o,null)}r=m,o=T,i.multiple=!!l,r!=null?Li(i,!!l,r,!1):o!=null&&Li(i,!!l,o,!0);return;case"textarea":Ot("invalid",i),m=f=l=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:$t(i,r,T,A,o,null)}Ir(i,l,f,m),Ea(i);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(l=o[C],l!=null))switch(C){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(i,r,C,l,o,null)}return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Ot(Ll[l],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(l=o[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$t(i,r,j,l,o,null)}return;default:if(Jo(r)){for(Y in o)o.hasOwnProperty(Y)&&(l=o[Y],l!==void 0&&bm(i,r,Y,l,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(l=o[A],l!=null&&$t(i,r,A,l,o,null))}function W1(i,r,o,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,T=null,A=null,C=null,j=null,Y=null;for(H in o){var $=o[H];if(o.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(H)||$t(i,r,H,null,l,$)}}for(var q in l){var H=l[q];if($=o[q],l.hasOwnProperty(q)&&(H!=null||$!=null))switch(q){case"type":m=H;break;case"name":f=H;break;case"checked":j=H;break;case"defaultChecked":Y=H;break;case"value":T=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==$&&$t(i,r,q,H,l,$)}}vn(i,T,A,C,j,Y,m,f);return;case"select":H=T=A=q=null;for(m in o)if(C=o[m],o.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(m)||$t(i,r,m,null,l,C)}for(f in l)if(m=l[f],C=o[f],l.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":q=m;break;case"defaultValue":A=m;break;case"multiple":T=m;default:m!==C&&$t(i,r,f,m,l,C)}r=A,o=T,l=H,q!=null?Li(i,!!o,q,!1):!!l!=!!o&&(r!=null?Li(i,!!o,r,!0):Li(i,!!o,o?[]:"",!1));return;case"textarea":H=q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:$t(i,r,A,null,l,f)}for(T in l)if(f=l[T],m=o[T],l.hasOwnProperty(T)&&(f!=null||m!=null))switch(T){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&$t(i,r,T,f,l,m)}Yt(i,q,H);return;case"option":for(var Tt in o)if(q=o[Tt],o.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":i.selected=!1;break;default:$t(i,r,Tt,null,l,q)}for(C in l)if(q=l[C],H=o[C],l.hasOwnProperty(C)&&q!==H&&(q!=null||H!=null))switch(C){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(i,r,C,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in o)q=o[yt],o.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&$t(i,r,yt,null,l,q);for(j in l)if(q=l[j],H=o[j],l.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:$t(i,r,j,q,l,H)}return;default:if(Jo(r)){for(var Wt in o)q=o[Wt],o.hasOwnProperty(Wt)&&q!==void 0&&!l.hasOwnProperty(Wt)&&bm(i,r,Wt,void 0,l,q);for(Y in l)q=l[Y],H=o[Y],!l.hasOwnProperty(Y)||q===H||q===void 0&&H===void 0||bm(i,r,Y,q,l,H);return}}for(var L in o)q=o[L],o.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&$t(i,r,L,null,l,q);for($ in l)q=l[$],H=o[$],!l.hasOwnProperty($)||q===H||q==null&&H==null||$t(i,r,$,q,l,H)}var wm=null,Rm=null;function nh(i){return i.nodeType===9?i:i.ownerDocument}function A0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Im(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function Z1(){var i=window.event;return i&&i.type==="popstate"?i===Cm?!1:(Cm=i,!0):(Cm=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,w0=typeof Promise=="function"?Promise:void 0,tI=typeof queueMicrotask=="function"?queueMicrotask:typeof w0<"u"?function(i){return w0.resolve(null).then(i).catch(eI)}:b0;function eI(i){setTimeout(function(){throw i})}function Ps(i){return i==="head"}function R0(i,r){var o=r,l=0,f=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<l&&8>l){o=l;var T=i.ownerDocument;if(o&1&&Ul(T.documentElement),o&2&&Ul(T.body),o&4)for(o=T.head,Ul(o),T=o.firstChild;T;){var A=T.nextSibling,C=T.nodeName;T[Ar]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(f===0){i.removeChild(m),Kl(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:l=o.charCodeAt(0)-48;else l=0;o=m}while(o);Kl(r)}function Dm(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dm(o),ps(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function nI(i,r,o,l){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ar])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=$n(i.nextSibling),i===null)break}return null}function iI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=$n(i.nextSibling),i===null))return null;return i}function Vm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function sI(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var l=function(){r(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function $n(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Mm=null;function I0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function C0(i,r,o){switch(r=nh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ul(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ps(i)}var Bn=new Map,D0=new Set;function ih(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var es=it.d;it.d={f:rI,r:aI,D:oI,C:lI,L:uI,m:cI,X:fI,S:hI,M:dI};function rI(){var i=es.f(),r=Yc();return i||r}function aI(i){var r=si(i);r!==null&&r.tag===5&&r.type==="form"?Xv(r):es.r(i)}var no=typeof document>"u"?null:document;function V0(i,r,o){var l=no;if(l&&typeof r=="string"&&r){var f=Te(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),D0.has(f)||(D0.add(f),i={rel:i,crossOrigin:o,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Fe(r,"link",i),de(r),l.head.appendChild(r)))}}function oI(i){es.D(i),V0("dns-prefetch",i,null)}function lI(i,r){es.C(i,r),V0("preconnect",i,r)}function uI(i,r,o){es.L(i,r,o);var l=no;if(l&&i&&r){var f='link[rel="preload"][as="'+Te(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Te(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Te(o.imageSizes)+'"]')):f+='[href="'+Te(i)+'"]';var m=f;switch(r){case"style":m=io(i);break;case"script":m=so(i)}Bn.has(m)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Bn.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Bl(m))||r==="script"&&l.querySelector(zl(m))||(r=l.createElement("link"),Fe(r,"link",i),de(r),l.head.appendChild(r)))}}function cI(i,r){es.m(i,r);var o=no;if(o&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Te(l)+'"][href="'+Te(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=so(i)}if(!Bn.has(m)&&(i=v({rel:"modulepreload",href:i},r),Bn.set(m,i),o.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zl(m)))return}l=o.createElement("link"),Fe(l,"link",i),de(l),o.head.appendChild(l)}}}function hI(i,r,o){es.S(i,r,o);var l=no;if(l&&i){var f=an(l).hoistableStyles,m=io(i);r=r||"default";var T=f.get(m);if(!T){var A={loading:0,preload:null};if(T=l.querySelector(Bl(m)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Bn.get(m))&&xm(i,o);var C=T=l.createElement("link");de(C),Fe(C,"link",i),C._p=new Promise(function(j,Y){C.onload=j,C.onerror=Y}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,sh(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(m,T)}}}function fI(i,r){es.X(i,r);var o=no;if(o&&i){var l=an(o).hoistableScripts,f=so(i),m=l.get(f);m||(m=o.querySelector(zl(f)),m||(i=v({src:i,async:!0},r),(r=Bn.get(f))&&Om(i,r),m=o.createElement("script"),de(m),Fe(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function dI(i,r){es.M(i,r);var o=no;if(o&&i){var l=an(o).hoistableScripts,f=so(i),m=l.get(f);m||(m=o.querySelector(zl(f)),m||(i=v({src:i,async:!0,type:"module"},r),(r=Bn.get(f))&&Om(i,r),m=o.createElement("script"),de(m),Fe(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function M0(i,r,o,l){var f=(f=St.current)?ih(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=io(o.href),o=an(f).hoistableStyles,l=o.get(r),l||(l={type:"style",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=io(o.href);var m=an(f).hoistableStyles,T=m.get(i);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,T),(m=f.querySelector(Bl(i)))&&!m._p&&(T.instance=m,T.state.loading=5),Bn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(i,o),m||mI(f,i,o,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(o),o=an(f).hoistableScripts,l=o.get(r),l||(l={type:"script",instance:null,count:0,state:null},o.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function io(i){return'href="'+Te(i)+'"'}function Bl(i){return'link[rel="stylesheet"]['+i+"]"}function x0(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function mI(i,r,o,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Fe(r,"link",o),de(r),i.head.appendChild(r))}function so(i){return'[src="'+Te(i)+'"]'}function zl(i){return"script[async]"+i}function O0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+Te(o.href)+'"]');if(l)return r.instance=l,de(l),l;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),de(l),Fe(l,"style",f),sh(l,o.precedence,i),r.instance=l;case"stylesheet":f=io(o.href);var m=i.querySelector(Bl(f));if(m)return r.state.loading|=4,r.instance=m,de(m),m;l=x0(o),(f=Bn.get(f))&&xm(l,f),m=(i.ownerDocument||i).createElement("link"),de(m);var T=m;return T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),Fe(m,"link",l),r.state.loading|=4,sh(m,o.precedence,i),r.instance=m;case"script":return m=so(o.src),(f=i.querySelector(zl(m)))?(r.instance=f,de(f),f):(l=o,(f=Bn.get(m))&&(l=v({},o),Om(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),de(f),Fe(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,sh(l,o.precedence,i));return r.instance}function sh(i,r,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,T=0;T<l.length;T++){var A=l[T];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Om(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var rh=null;function P0(i,r,o){if(rh===null){var l=new Map,f=rh=new Map;f.set(o,l)}else f=rh,l=f.get(o),l||(l=new Map,f.set(o,l));if(l.has(i))return l;for(l.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[Ar]||m[we]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(r)||"";T=i+T;var A=l.get(T);A?A.push(m):l.set(T,[m])}}return l}function N0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function pI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function L0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var jl=null;function gI(){}function yI(i,r,o){if(jl===null)throw Error(s(475));var l=jl;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=io(o.href),m=i.querySelector(Bl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=ah.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=m,de(m);return}m=i.ownerDocument||i,o=x0(o),(f=Bn.get(f))&&xm(o,f),m=m.createElement("link"),de(m);var T=m;T._p=new Promise(function(A,C){T.onload=A,T.onerror=C}),Fe(m,"link",o),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=ah.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function vI(){if(jl===null)throw Error(s(475));var i=jl;return i.stylesheets&&i.count===0&&Pm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Pm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function ah(){if(this.count--,this.count===0){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var oh=null;function Pm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,oh=new Map,r.forEach(_I,i),oh=null,ah.call(i))}function _I(i,r){if(!(r.state.loading&4)){var o=oh.get(i);if(o)var l=o.get(null);else{o=new Map,oh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var T=f[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),l=T)}l&&o.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),m=o.get(T)||l,m===l&&o.set(null,f),o.set(T,f),this.count++,l=ah.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var ql={$$typeof:J,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function TI(i,r,o,l,f,m,T,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function k0(i,r,o,l,f,m,T,A,C,j,Y,$){return i=new TI(i,r,o,T,A,C,j,$),r=1,m===!0&&(r|=24),m=Tn(3,null,null,r),i.current=m,m.stateNode=i,r=pd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:r},_d(m),i}function U0(i){return i?(i=Na,i):Na}function B0(i,r,o,l,f,m){f=U0(f),l.context===null?l.context=f:l.pendingContext=f,l=Es(r),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=As(i,l,r),o!==null&&(wn(o,i,r),vl(o,i,r))}function z0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Nm(i,r){z0(i,r),(i=i.alternate)&&z0(i,r)}function j0(i){if(i.tag===13){var r=Pa(i,67108864);r!==null&&wn(r,i,67108864),Nm(i,67108864)}}var lh=!0;function EI(i,r,o,l){var f=Q.T;Q.T=null;var m=it.p;try{it.p=2,Lm(i,r,o,l)}finally{it.p=m,Q.T=f}}function AI(i,r,o,l){var f=Q.T;Q.T=null;var m=it.p;try{it.p=8,Lm(i,r,o,l)}finally{it.p=m,Q.T=f}}function Lm(i,r,o,l){if(lh){var f=km(l);if(f===null)Sm(i,r,l,uh,o),H0(i,l);else if(bI(f,i,r,o,l))l.stopPropagation();else if(H0(i,l),r&4&&-1<SI.indexOf(i)){for(;f!==null;){var m=si(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Gn(m.pendingLanes);if(T!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var C=1<<31-$e(T);A.entanglements[1]|=C,T&=~C}vi(m),(Kt&6)===0&&(Kc=In()+500,Nl(0))}}break;case 13:A=Pa(m,2),A!==null&&wn(A,m,2),Yc(),Nm(m,2)}if(m=km(l),m===null&&Sm(i,r,l,uh,o),m===f)break;f=m}f!==null&&l.stopPropagation()}else Sm(i,r,l,null,o)}}function km(i){return i=Vn(i),Um(i)}var uh=null;function Um(i){if(uh=null,i=Oi(i),i!==null){var r=u(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return uh=i,null}function q0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jf()){case zo:return 2;case da:return 8;case yr:case qf:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Bm=!1,Ns=null,Ls=null,ks=null,Hl=new Map,Fl=new Map,Us=[],SI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H0(i,r){switch(i){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Gl(i,r,o,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=si(r),r!==null&&j0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function bI(i,r,o,l,f){switch(r){case"focusin":return Ns=Gl(Ns,i,r,o,l,f),!0;case"dragenter":return Ls=Gl(Ls,i,r,o,l,f),!0;case"mouseover":return ks=Gl(ks,i,r,o,l,f),!0;case"pointerover":var m=f.pointerId;return Hl.set(m,Gl(Hl.get(m)||null,i,r,o,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Fl.set(m,Gl(Fl.get(m)||null,i,r,o,l,f)),!0}return!1}function F0(i){var r=Oi(i.target);if(r!==null){var o=u(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Yu(i.priority,function(){if(o.tag===13){var l=bn();l=fs(l);var f=Pa(o,l);f!==null&&wn(f,o,l),Nm(o,l)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ch(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=km(i.nativeEvent);if(o===null){o=i.nativeEvent;var l=new o.constructor(o.type,o);ki=l,o.target.dispatchEvent(l),ki=null}else return r=si(o),r!==null&&j0(r),i.blockedOn=o,!1;r.shift()}return!0}function G0(i,r,o){ch(i)&&o.delete(r)}function wI(){Bm=!1,Ns!==null&&ch(Ns)&&(Ns=null),Ls!==null&&ch(Ls)&&(Ls=null),ks!==null&&ch(ks)&&(ks=null),Hl.forEach(G0),Fl.forEach(G0)}function hh(i,r){i.blockedOn===r&&(i.blockedOn=null,Bm||(Bm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wI)))}var fh=null;function K0(i){fh!==i&&(fh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fh===i&&(fh=null);for(var r=0;r<i.length;r+=3){var o=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(Um(l||o)===null)continue;break}var m=si(o);m!==null&&(i.splice(r,3),r-=3,Ud(m,{pending:!0,data:f,method:o.method,action:l},l,f))}}))}function Kl(i){function r(C){return hh(C,i)}Ns!==null&&hh(Ns,i),Ls!==null&&hh(Ls,i),ks!==null&&hh(ks,i),Hl.forEach(r),Fl.forEach(r);for(var o=0;o<Us.length;o++){var l=Us[o];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Us.length&&(o=Us[0],o.blockedOn===null);)F0(o),o.blockedOn===null&&Us.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var f=o[l],m=o[l+1],T=f[_e]||null;if(typeof m=="function")T||K0(o);else if(T){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,T=m[_e]||null)A=T.formAction;else if(Um(f)!==null)continue}else A=T.action;typeof A=="function"?o[l+1]=A:(o.splice(l,3),l-=3),K0(o)}}}function zm(i){this._internalRoot=i}dh.prototype.render=zm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,l=bn();B0(o,l,i,r,null,null)},dh.prototype.unmount=zm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;B0(i.current,2,null,i,null,null),Yc(),r[Cn]=null}};function dh(i){this._internalRoot=i}dh.prototype.unstable_scheduleHydration=function(i){if(i){var r=ds();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Us.length&&r!==0&&r<Us[o].priority;o++);Us.splice(o,0,i),o===0&&F0(i)}};var Q0=t.version;if(Q0!=="19.1.0")throw Error(s(527,Q0,"19.1.0"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var RI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{ue=mh.inject(RI),Gt=mh}catch{}}return Yl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,l="",f=u_,m=c_,T=h_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=k0(i,1,!1,null,null,o,l,f,m,T,A,null),i[Cn]=r.current,Am(i),new zm(r)},Yl.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var l=!1,f="",m=u_,T=c_,A=h_,C=null,j=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks),o.formState!==void 0&&(j=o.formState)),r=k0(i,1,!0,r,o??null,l,f,m,T,A,C,j),r.context=U0(null),o=r.current,l=bn(),l=fs(l),f=Es(l),f.callback=null,As(o,f,l),o=l,r.current.lanes=o,xi(r,o),vi(r),i[Cn]=r.current,Am(i),new dh(r)},Yl.version="19.1.0",Yl}var iT;function LI(){if(iT)return Hm.exports;iT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Hm.exports=NI(),Hm.exports}var kI=LI();const UI=()=>{};var sT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},BI=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[e++];t[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[e++],c=n[e++],d=n[e++],p=((a&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=n[e++],c=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|c&63)}}return t.join("")},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const u=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=u>>2,E=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,R=g&63;p||(R=64,c||(S=64)),s.push(e[v],e[E],e[S],e[R])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(nS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):BI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const u=e[n.charAt(a++)],d=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const E=a<n.length?e[n.charAt(a)]:64;if(++a,u==null||d==null||g==null||E==null)throw new zI;const S=u<<2|d>>4;if(s.push(S),g!==64){const R=d<<4&240|g>>2;if(s.push(R),E!==64){const N=g<<6&192|E;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jI=function(n){const t=nS(n);return iS.encodeByteArray(t,!0)},Bh=function(n){return jI(n).replace(/\./g,"")},sS=function(n){try{return iS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=()=>qI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof sT>"u")return;const n=sT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},GI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&sS(n[1]);return t&&JSON.parse(t)},hf=()=>{try{return UI()||HI()||FI()||GI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rS=n=>{var t,e;return(e=(t=hf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},KI=n=>{const t=rS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},aS=()=>{var n;return(n=hf())===null||n===void 0?void 0:n.config},oS=n=>{var t;return(t=hf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bh(JSON.stringify(e)),Bh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function $I(){var n;const t=(n=hf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tC(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eC(){return!$I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nC(){try{return typeof indexedDB=="object"}catch{return!1}}function iC(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var u;t(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="FirebaseError";class cs extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=sC,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,u=this.errors[t],c=u?rC(u,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new cs(a,d,s)}}function rC(n,t){return n.replace(aC,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const aC=/\{\$([^}]+)}/g;function oC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ra(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const u=n[a],c=t[a];if(rT(u)&&rT(c)){if(!ra(u,c))return!1}else if(u!==c)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function rT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function lC(n,t){const e=new uC(n,t);return e.subscribe.bind(e)}class uC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let a;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");cC(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:s},a.next===void 0&&(a.next=Qm),a.error===void 0&&(a.error=Qm),a.complete===void 0&&(a.complete=Qm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n){return n&&n._delegate?n._delegate:n}class aa{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new QI;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dC(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(a,u);const c=this.instances.get(a);return c&&t(c,a),()=>{u.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fC(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fC(n){return n===Zr?void 0:n}function dC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new hC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pt||(Pt={}));const pC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},gC=Pt.INFO,yC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},vC=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=yC[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cg{constructor(t){this.name=t,this._logLevel=gC,this._logHandler=vC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const _C=(n,t)=>t.some(e=>n instanceof e);let aT,oT;function TC(){return aT||(aT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EC(){return oT||(oT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lS=new WeakMap,yp=new WeakMap,uS=new WeakMap,Ym=new WeakMap,hg=new WeakMap;function AC(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{e(Qs(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&lS.set(e,n)}).catch(()=>{}),hg.set(t,n),t}function SC(n){if(yp.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{e(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});yp.set(n,t)}let vp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return yp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||uS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Qs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function bC(n){vp=n(vp)}function wC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Xm(this),t,...e);return uS.set(s,t.sort?t.sort():[t]),Qs(s)}:EC().includes(n)?function(...t){return n.apply(Xm(this),t),Qs(lS.get(this))}:function(...t){return Qs(n.apply(Xm(this),t))}}function RC(n){return typeof n=="function"?wC(n):(n instanceof IDBTransaction&&SC(n),_C(n,TC())?new Proxy(n,vp):n)}function Qs(n){if(n instanceof IDBRequest)return AC(n);if(Ym.has(n))return Ym.get(n);const t=RC(n);return t!==n&&(Ym.set(n,t),hg.set(t,n)),t}const Xm=n=>hg.get(n);function IC(n,t,{blocked:e,upgrade:s,blocking:a,terminated:u}={}){const c=indexedDB.open(n,t),d=Qs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Qs(c.result),p.oldVersion,p.newVersion,Qs(c.transaction),p)}),e&&c.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const CC=["get","getKey","getAll","getAllKeys","count"],DC=["put","add","delete","clear"],$m=new Map;function lT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if($m.get(t))return $m.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=DC.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||CC.includes(e)))return;const u=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[e](...d),a&&p.done]))[0]};return $m.set(t,u),u}bC(n=>({...n,get:(t,e,s)=>lT(t,e)||n.get(t,e,s),has:(t,e)=>!!lT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(MC(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function MC(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _p="@firebase/app",uT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new cg("@firebase/app"),xC="@firebase/app-compat",OC="@firebase/analytics-compat",PC="@firebase/analytics",NC="@firebase/app-check-compat",LC="@firebase/app-check",kC="@firebase/auth",UC="@firebase/auth-compat",BC="@firebase/database",zC="@firebase/data-connect",jC="@firebase/database-compat",qC="@firebase/functions",HC="@firebase/functions-compat",FC="@firebase/installations",GC="@firebase/installations-compat",KC="@firebase/messaging",QC="@firebase/messaging-compat",YC="@firebase/performance",XC="@firebase/performance-compat",$C="@firebase/remote-config",WC="@firebase/remote-config-compat",ZC="@firebase/storage",JC="@firebase/storage-compat",tD="@firebase/firestore",eD="@firebase/vertexai",nD="@firebase/firestore-compat",iD="firebase",sD="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",rD={[_p]:"fire-core",[xC]:"fire-core-compat",[PC]:"fire-analytics",[OC]:"fire-analytics-compat",[LC]:"fire-app-check",[NC]:"fire-app-check-compat",[kC]:"fire-auth",[UC]:"fire-auth-compat",[BC]:"fire-rtdb",[zC]:"fire-data-connect",[jC]:"fire-rtdb-compat",[qC]:"fire-fn",[HC]:"fire-fn-compat",[FC]:"fire-iid",[GC]:"fire-iid-compat",[KC]:"fire-fcm",[QC]:"fire-fcm-compat",[YC]:"fire-perf",[XC]:"fire-perf-compat",[$C]:"fire-rc",[WC]:"fire-rc-compat",[ZC]:"fire-gcs",[JC]:"fire-gcs-compat",[tD]:"fire-fst",[nD]:"fire-fst-compat",[eD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,aD=new Map,Ep=new Map;function cT(n,t){try{n.container.addComponent(t)}catch(e){ss.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function To(n){const t=n.name;if(Ep.has(t))return ss.debug(`There were multiple attempts to register component ${t}.`),!1;Ep.set(t,n);for(const e of zh.values())cT(e,n);for(const e of aD.values())cT(e,n);return!0}function fg(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Mu("app","Firebase",oD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=sD;function cS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Tp,automaticDataCollectionEnabled:!1},t),a=s.name;if(typeof a!="string"||!a)throw Ys.create("bad-app-name",{appName:String(a)});if(e||(e=aS()),!e)throw Ys.create("no-options");const u=zh.get(a);if(u){if(ra(e,u.options)&&ra(s,u.config))return u;throw Ys.create("duplicate-app",{appName:a})}const c=new mC(a);for(const p of Ep.values())c.addComponent(p);const d=new lD(e,s,c);return zh.set(a,d),d}function hS(n=Tp){const t=zh.get(n);if(!t&&n===Tp&&aS())return cS();if(!t)throw Ys.create("no-app",{appName:n});return t}function Xs(n,t,e){var s;let a=(s=rD[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const u=a.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const d=[`Unable to register library "${a}" with version "${t}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}To(new aa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="firebase-heartbeat-database",cD=1,fu="firebase-heartbeat-store";let Wm=null;function fS(){return Wm||(Wm=IC(uD,cD,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(fu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ys.create("idb-open",{originalErrorMessage:n.message})})),Wm}async function hD(n){try{const e=(await fS()).transaction(fu),s=await e.objectStore(fu).get(dS(n));return await e.done,s}catch(t){if(t instanceof cs)ss.warn(t.message);else{const e=Ys.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ss.warn(e.message)}}}async function hT(n,t){try{const s=(await fS()).transaction(fu,"readwrite");await s.objectStore(fu).put(t,dS(n)),await s.done}catch(e){if(e instanceof cs)ss.warn(e.message);else{const s=Ys.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ss.warn(s.message)}}}function dS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=1024,dD=30;class mD{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new gD(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=fT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>dD){const c=yD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ss.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fT(),{heartbeatsToSend:s,unsentEntries:a}=pD(this._heartbeatsCache.heartbeats),u=Bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ss.warn(e),""}}}function fT(){return new Date().toISOString().substring(0,10)}function pD(n,t=fD){const e=[];let s=n.slice();for(const a of n){const u=e.find(c=>c.agent===a.agent);if(u){if(u.dates.push(a.date),dT(e)>t){u.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),dT(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class gD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nC()?iC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await hD(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return hT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return hT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function dT(n){return Bh(JSON.stringify({version:2,heartbeats:n})).length}function yD(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){To(new aa("platform-logger",t=>new VC(t),"PRIVATE")),To(new aa("heartbeat",t=>new mD(t),"PRIVATE")),Xs(_p,uT,n),Xs(_p,uT,"esm2017"),Xs("fire-js","")}vD("");function dg(n,t){var e={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(e[s[a]]=n[s[a]]);return e}function mS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _D=mS,pS=new Mu("auth","Firebase",mS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new cg("@firebase/auth");function TD(n,...t){jh.logLevel<=Pt.WARN&&jh.warn(`Auth (${Vo}): ${n}`,...t)}function wh(n,...t){jh.logLevel<=Pt.ERROR&&jh.error(`Auth (${Vo}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,...t){throw mg(n,...t)}function Ei(n,...t){return mg(n,...t)}function gS(n,t,e){const s=Object.assign(Object.assign({},_D()),{[t]:e});return new Mu("auth","Firebase",s).create(t,{appName:n.name})}function $s(n){return gS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(n,...t){if(typeof n!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(e,...s)}return pS.create(n,...t)}function At(n,t,...e){if(!n)throw mg(t,...e)}function ns(n){const t="INTERNAL ASSERTION FAILED: "+n;throw wh(t),new Error(t)}function as(n,t){n||ns(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ED(){return mT()==="http:"||mT()==="https:"}function mT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ED()||ZI()||"connection"in navigator)?navigator.onLine:!0}function SD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,e){this.shortDelay=t,this.longDelay=e,as(e>t,"Short delay should be less than long delay!"),this.isMobile=XI()||JI()}get(){return AD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(n,t){as(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RD=new Ou(3e4,6e4);function ff(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Mo(n,t,e,s,a={}){return vS(n,a,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=xu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:p},u);return WI()||(g.referrerPolicy="no-referrer"),yS.fetch()(await TS(n,n.config.apiHost,e,d),g)})}async function vS(n,t,e){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},bD),t);try{const a=new ID(n),u=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw ph(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ph(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ph(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gS(n,v,g);rs(n,v)}}catch(a){if(a instanceof cs)throw a;rs(n,"network-request-failed",{message:String(a)})}}async function _S(n,t,e,s,a={}){const u=await Mo(n,t,e,s,a);return"mfaPendingCredential"in u&&rs(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function TS(n,t,e,s){const a=`${t}${e}?${s}`,u=n,c=u.config.emulator?pg(n.config,a):`${n.config.apiScheme}://${a}`;return wD.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class ID{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),RD.get())})}}function ph(n,t,e){const s={appName:n.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const a=Ei(n,t,s);return a.customData._tokenResponse=e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(n,t){return Mo(n,"POST","/v1/accounts:delete",t)}async function qh(n,t){return Mo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DD(n,t=!1){const e=Be(n),s=await e.getIdToken(t),a=gg(s);At(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:iu(Zm(a.auth_time)),issuedAtTime:iu(Zm(a.iat)),expirationTime:iu(Zm(a.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Zm(n){return Number(n)*1e3}function gg(n){const[t,e,s]=n.split(".");if(t===void 0||e===void 0||s===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const a=sS(e);return a?JSON.parse(a):(wh("Failed to decode base64 JWT payload"),null)}catch(a){return wh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function pT(n){const t=gg(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof cs&&VD(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function VD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(n){var t;const e=n.auth,s=await n.getIdToken(),a=await du(n,qh(e,{idToken:s}));At(a==null?void 0:a.users.length,e,"internal-error");const u=a.users[0];n._notifyReloadListener(u);const c=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?ES(u.providerUserInfo):[],d=OD(n.providerData,c),p=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,E={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Sp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function xD(n){const t=Be(n);await Hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function OD(n,t){return[...n.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function ES(n){return n.map(t=>{var{providerId:e}=t,s=dg(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(n,t){const e=await vS(n,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,c=await TS(n,a,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",yS.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function ND(n,t){return Mo(n,"POST","/v2/accounts:revokeToken",ff(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=pT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:a,expiresIn:u}=await PD(t,e);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:a,expirationTime:u}=e,c=new go;return s&&(At(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(At(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),u&&(At(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ti{constructor(t){var{uid:e,auth:s,stsTokenManager:a}=t,u=dg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Sp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const e=await du(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return DD(this,t)}reload(){return xD(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ti(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject($s(this.auth));const t=await this.getIdToken();return await du(this,CD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,a,u,c,d,p,g,v;const E=(s=e.displayName)!==null&&s!==void 0?s:void 0,S=(a=e.email)!==null&&a!==void 0?a:void 0,R=(u=e.phoneNumber)!==null&&u!==void 0?u:void 0,N=(c=e.photoURL)!==null&&c!==void 0?c:void 0,F=(d=e.tenantId)!==null&&d!==void 0?d:void 0,z=(p=e._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=e.createdAt)!==null&&g!==void 0?g:void 0,nt=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:J,emailVerified:dt,isAnonymous:tt,providerData:at,stsTokenManager:V}=e;At(J&&V,t,"internal-error");const w=go.fromJSON(this.name,V);At(typeof J=="string",t,"internal-error"),zs(E,t.name),zs(S,t.name),At(typeof dt=="boolean",t,"internal-error"),At(typeof tt=="boolean",t,"internal-error"),zs(R,t.name),zs(N,t.name),zs(F,t.name),zs(z,t.name),zs(K,t.name),zs(nt,t.name);const I=new ti({uid:J,auth:t,email:S,emailVerified:dt,displayName:E,isAnonymous:tt,photoURL:N,phoneNumber:R,tenantId:F,stsTokenManager:w,createdAt:K,lastLoginAt:nt});return at&&Array.isArray(at)&&(I.providerData=at.map(x=>Object.assign({},x))),z&&(I._redirectEventId=z),I}static async _fromIdTokenResponse(t,e,s=!1){const a=new go;a.updateFromServerResponse(e);const u=new ti({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(t,e,s){const a=e.users[0];At(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?ES(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),d=new go;d.updateFromIdToken(s);const p=new ti({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Sp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;function is(n){as(n instanceof Function,"Expected a class definition");let t=gT.get(n);return t?(as(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,gT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}AS.type="NONE";const yT=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n,t,e){return`firebase:${n}:${t}:${e}`}class yo{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Rh(this.userKey,a.apiKey,u),this.fullPersistenceKey=Rh("persistence",a.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await qh(this.auth,{idToken:t}).catch(()=>{});return e?ti._fromGetAccountInfoResponse(this.auth,e,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new yo(is(yT),t,s);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=a[0]||is(yT);const c=Rh(s,t.config.apiKey,t.name);let d=null;for(const g of e)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const S=await qh(t,{idToken:v}).catch(()=>{});if(!S)break;E=await ti._fromGetAccountInfoResponse(t,S,v)}else E=ti._fromJSON(t,v);g!==u&&(d=E),u=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(e.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new yo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(RS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CS(t))return"Blackberry";if(DS(t))return"Webos";if(bS(t))return"Safari";if((t.includes("chrome/")||wS(t))&&!t.includes("edge/"))return"Chrome";if(IS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function SS(n=rn()){return/firefox\//i.test(n)}function bS(n=rn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wS(n=rn()){return/crios\//i.test(n)}function RS(n=rn()){return/iemobile/i.test(n)}function IS(n=rn()){return/android/i.test(n)}function CS(n=rn()){return/blackberry/i.test(n)}function DS(n=rn()){return/webos/i.test(n)}function yg(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LD(n=rn()){var t;return yg(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function kD(){return tC()&&document.documentMode===10}function VS(n=rn()){return yg(n)||IS(n)||DS(n)||CS(n)||/windows phone/i.test(n)||RS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(n,t=[]){let e;switch(n){case"Browser":e=vT(rn());break;case"Worker":e=`${vT(rn())}-${n}`;break;default:e=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=e,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,t={}){return Mo(n,"GET","/v2/passwordPolicy",ff(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=6;class jD{constructor(t){var e,s,a,u;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:zD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,a,u,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(e=p.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e,s,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _T(this),this.idTokenSubscription=new _T(this),this.beforeStateQueue=new UD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=is(e)),this._initializationPromise=this.queue(async()=>{var s,a,u;if(!this._deleted&&(this.persistenceManager=await yo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await qh(this,{idToken:t}),s=await ti._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Hh(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject($s(this));const e=t?Be(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BD(this),e=new jD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Mu("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await ND(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&is(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[is(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,a){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof e=="function"){const p=t.addObserver(e,s,a);return()=>{c=!0,p()}}else{const p=t.addObserver(e);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var t;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&TD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function df(n){return Be(n)}class _T{constructor(t){this.auth=t,this.observer=null,this.addObserver=lC(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HD(n){vg=n}function FD(n){return vg.loadJS(n)}function GD(){return vg.gapiScript}function KD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n,t){const e=fg(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),u=e.getOptions();if(ra(u,t??{}))return a;rs(a,"already-initialized")}return e.initialize({options:t})}function YD(n,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(is);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function XD(n,t,e){const s=df(n);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,u=xS(t),{host:c,port:d}=$D(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(ra(g,s.config.emulator)&&ra(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,WD()}function xS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function $D(n){const t=xS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:TT(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:TT(c)}}}function TT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function WD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ns("not implemented")}_getIdTokenResponse(t){return ns("not implemented")}_linkToIdToken(t,e){return ns("not implemented")}_getReauthenticationResolver(t){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(n,t){return _S(n,"POST","/v1/accounts:signInWithIdp",ff(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="http://localhost";class oa extends OS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):rs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=e,u=dg(e,["providerId","signInMethod"]);if(!s||!a)return null;const c=new oa(s,a);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return vo(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,vo(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,vo(t,e)}buildRequest(){const t={requestUri:ZD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends PS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Pu{constructor(){super("facebook.com")}static credential(t){return oa._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return oa._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return Hs.credential(e,s)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Pu{constructor(){super("github.com")}static credential(t){return oa._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Pu{constructor(){super("twitter.com")}static credential(t,e){return oa._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return Gs.credential(e,s)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(n,t){return _S(n,"POST","/v1/accounts:signUp",ff(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,a=!1){const u=await ti._fromIdTokenResponse(t,s,a),c=ET(s);return new tr({user:u,providerId:c,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const a=ET(s);return new tr({user:t,providerId:a,_tokenResponse:s,operationType:e})}}function ET(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(n){var t;if(Jn(n.app))return Promise.reject($s(n));const e=df(n);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new tr({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await JD(e,{returnSecureToken:!0}),a=await tr._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends cs{constructor(t,e,s,a){var u;super(e.code,e.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,a){return new Fh(t,e,s,a)}}function NS(n,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(n,u,t,s):u})}async function eV(n,t,e=!1){const s=await du(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return tr._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(n,t,e=!1){const{auth:s}=n;if(Jn(s.app))return Promise.reject($s(s));const a="reauthenticate";try{const u=await du(n,NS(s,a,t,n),e);At(u.idToken,s,"internal-error");const c=gg(u.idToken);At(c,s,"internal-error");const{sub:d}=c;return At(n.uid===d,s,"user-mismatch"),tr._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&rs(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(n,t,e=!1){if(Jn(n.app))return Promise.reject($s(n));const s="signIn",a=await NS(n,s,t),u=await tr._fromIdTokenResponse(n,s,a);return e||await n._updateCurrentUser(u.user),u}function sV(n,t,e,s){return Be(n).onIdTokenChanged(t,e,s)}function rV(n,t,e){return Be(n).beforeAuthStateChanged(t,e)}function aV(n,t,e,s){return Be(n).onAuthStateChanged(t,e,s)}function oV(n){return Be(n).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=1e3,uV=10;class kS extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),a=this.localCache[e];s!==a&&t(e,a,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!e&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);kD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,uV):a()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},lV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}kS.type="LOCAL";const cV=kS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}US.type="SESSION";const BS=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const s=new mf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:a,data:u}=e.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(e.origin,u)),p=await hV(d);e.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(n="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=_g("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(E){const S=E;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function dV(n){Ai().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function mV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gV(){return zS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebaseLocalStorageDb",yV=1,Kh="firebaseLocalStorage",qS="fbase_key";class Nu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function pf(n,t){return n.transaction([Kh],t?"readwrite":"readonly").objectStore(Kh)}function vV(){const n=indexedDB.deleteDatabase(jS);return new Nu(n).toPromise()}function bp(){const n=indexedDB.open(jS,yV);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Kh,{keyPath:qS})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Kh)?t(s):(s.close(),await vV(),t(await bp()))})})}async function AT(n,t,e){const s=pf(n,!0).put({[qS]:t,value:e});return new Nu(s).toPromise()}async function _V(n,t){const e=pf(n,!1).get(t),s=await new Nu(e).toPromise();return s===void 0?null:s.value}function ST(n,t){const e=pf(n,!0).delete(t);return new Nu(e).toPromise()}const TV=800,EV=3;class HS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>EV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(gV()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await mV(),!this.activeServiceWorker)return;this.sender=new fV(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bp();return await AT(t,Gh,"1"),await ST(t,Gh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>AT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>_V(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>ST(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const u=pf(a,!1).getAll();return new Nu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:u}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HS.type="LOCAL";const AV=HS;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(n,t){return t?is(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends OS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return vo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return vo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bV(n){return iV(n.auth,new Tg(n),n.bypassAuthState)}function wV(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),nV(e,new Tg(n),n.bypassAuthState)}async function RV(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),eV(e,new Tg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,e,s,a,u=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:a,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:e,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bV;case"linkViaPopup":case"linkViaRedirect":return RV;case"reauthViaPopup":case"reauthViaRedirect":return wV;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=new Ou(2e3,1e4);class uo extends FS{constructor(t,e,s,a,u){super(t,e,a,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IV.get())};t()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="pendingRedirect",Ih=new Map;class DV extends FS{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=Ih.get(this.auth._key());if(!t){try{const s=await VV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}Ih.set(this.auth._key(),t)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VV(n,t){const e=OV(t),s=xV(n);if(!await s._isAvailable())return!1;const a=await s._get(e)==="true";return await s._remove(e),a}function MV(n,t){Ih.set(n._key(),t)}function xV(n){return is(n._redirectPersistence)}function OV(n){return Rh(CV,n.config.apiKey,n.name)}async function PV(n,t,e=!1){if(Jn(n.app))return Promise.reject($s(n));const s=df(n),a=SV(s,t),c=await new DV(s,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=10*60*1e3;class LV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!GS(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Ei(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NV&&this.cachedEventUids.clear(),this.cachedEventUids.has(bT(t))}saveEventToCache(t){this.cachedEventUids.add(bT(t)),this.lastProcessedEventTime=Date.now()}}function bT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function GS({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function kV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(n,t={}){return Mo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zV=/^https?/;async function jV(n){if(n.config.emulator)return;const{authorizedDomains:t}=await UV(n);for(const e of t)try{if(qV(e))return}catch{}rs(n,"unauthorized-domain")}function qV(n){const t=Ap(),{protocol:e,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===s}if(!zV.test(e))return!1;if(BV.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new Ou(3e4,6e4);function wT(){const n=Ai().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function FV(n){return new Promise((t,e)=>{var s,a,u;function c(){wT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wT(),e(Ei(n,"network-request-failed"))},timeout:HV.get()})}if(!((a=(s=Ai().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((u=Ai().gapi)===null||u===void 0)&&u.load)c();else{const d=KD("iframefcb");return Ai()[d]=()=>{gapi.load?c():e(Ei(n,"network-request-failed"))},FD(`${GD()}?onload=${d}`).catch(p=>e(p))}}).catch(t=>{throw Ch=null,t})}let Ch=null;function GV(n){return Ch=Ch||FV(n),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new Ou(5e3,15e3),QV="__/auth/iframe",YV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$V=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WV(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?pg(t,YV):`https://${n.config.authDomain}/${QV}`,s={apiKey:t.apiKey,appName:n.name,v:Vo},a=$V.get(n.config.apiHost);a&&(s.eid=a);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${e}?${xu(s).slice(1)}`}async function ZV(n){const t=await GV(n),e=Ai().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:WV(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const c=Ei(n,"network-request-failed"),d=Ai().setTimeout(()=>{u(c)},KV.get());function p(){Ai().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,eM=600,nM="_blank",iM="http://localhost";class RT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sM(n,t,e,s=tM,a=eM){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},JV),{width:s.toString(),height:a.toString(),top:u,left:c}),g=rn().toLowerCase();e&&(d=wS(g)?nM:e),SS(g)&&(t=t||iM,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[R,N])=>`${S}${R}=${N},`,"");if(LD(g)&&d!=="_self")return rM(t||"",d),new RT(null);const E=window.open(t||"",d,v);At(E,n,"popup-blocked");try{E.focus()}catch{}return new RT(E)}function rM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="__/auth/handler",oM="emulator/auth/handler",lM=encodeURIComponent("fac");async function IT(n,t,e,s,a,u){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:s,v:Vo,eventId:a};if(t instanceof PS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",oC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Pu){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${lM}=${encodeURIComponent(p)}`:"";return`${uM(n)}?${xu(d).slice(1)}${g}`}function uM({config:n}){return n.emulator?pg(n,oM):`https://${n.authDomain}/${aM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="webStorageSupport";class cM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BS,this._completeRedirectFn=PV,this._overrideRedirectResult=MV}async _openPopup(t,e,s,a){var u;as((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await IT(t,e,s,Ap(),a);return sM(t,c,_g())}async _openRedirect(t,e,s,a){await this._originValidation(t);const u=await IT(t,e,s,Ap(),a);return dV(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:u}=this.eventManagers[e];return a?Promise.resolve(a):(as(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await ZV(t),s=new LV(t);return e.register("authEvent",a=>(At(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Jm,{type:Jm},a=>{var u;const c=(u=a==null?void 0:a[0])===null||u===void 0?void 0:u[Jm];c!==void 0&&e(!!c),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=jV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return VS()||bS()||yg()}}const hM=cM;var CT="@firebase/auth",DT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mM(n){To(new aa("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(n)},g=new qD(s,a,u,p);return YD(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),To(new aa("auth-internal",t=>{const e=df(t.getProvider("auth").getImmediate());return(s=>new fM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(CT,DT,dM(n)),Xs(CT,DT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=5*60,gM=oS("authIdTokenMaxAge")||pM;let VT=null;const yM=n=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>gM)return;const a=e==null?void 0:e.token;VT!==a&&(VT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function vM(n=hS()){const t=fg(n,"auth");if(t.isInitialized())return t.getImmediate();const e=QD(n,{popupRedirectResolver:hM,persistence:[AV,cV,BS]}),s=oS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=yM(u.toString());rV(e,c,()=>c(e.currentUser)),sV(e,d=>c(d))}}const a=rS("auth");return a&&XD(e,`http://${a}`),e}function _M(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}HD({loadJS(n){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=a=>{const u=Ei("internal-error");u.customData=a,e(u)},s.type="text/javascript",s.charset="UTF-8",_M().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mM("Browser");var TM="firebase",EM="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(TM,EM,"app");var MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,KS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function I(){}I.prototype=w.prototype,V.D=w.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(x,P,k){for(var D=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)D[ve-2]=arguments[ve];return w.prototype[P].apply(x,D)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,w,I){I||(I=0);var x=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)x[P]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(P=0;16>P;++P)x[P]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=V.g[0],I=V.g[1],P=V.g[2];var k=V.g[3],D=w+(k^I&(P^k))+x[0]+3614090360&4294967295;w=I+(D<<7&4294967295|D>>>25),D=k+(P^w&(I^P))+x[1]+3905402710&4294967295,k=w+(D<<12&4294967295|D>>>20),D=P+(I^k&(w^I))+x[2]+606105819&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(w^P&(k^w))+x[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=w+(k^I&(P^k))+x[4]+4118548399&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(P^w&(I^P))+x[5]+1200080426&4294967295,k=w+(D<<12&4294967295|D>>>20),D=P+(I^k&(w^I))+x[6]+2821735955&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(w^P&(k^w))+x[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=w+(k^I&(P^k))+x[8]+1770035416&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(P^w&(I^P))+x[9]+2336552879&4294967295,k=w+(D<<12&4294967295|D>>>20),D=P+(I^k&(w^I))+x[10]+4294925233&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(w^P&(k^w))+x[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=w+(k^I&(P^k))+x[12]+1804603682&4294967295,w=I+(D<<7&4294967295|D>>>25),D=k+(P^w&(I^P))+x[13]+4254626195&4294967295,k=w+(D<<12&4294967295|D>>>20),D=P+(I^k&(w^I))+x[14]+2792965006&4294967295,P=k+(D<<17&4294967295|D>>>15),D=I+(w^P&(k^w))+x[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=w+(P^k&(I^P))+x[1]+4129170786&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(w^I))+x[6]+3225465664&4294967295,k=w+(D<<9&4294967295|D>>>23),D=P+(w^I&(k^w))+x[11]+643717713&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(P^k))+x[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=w+(P^k&(I^P))+x[5]+3593408605&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(w^I))+x[10]+38016083&4294967295,k=w+(D<<9&4294967295|D>>>23),D=P+(w^I&(k^w))+x[15]+3634488961&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(P^k))+x[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=w+(P^k&(I^P))+x[9]+568446438&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(w^I))+x[14]+3275163606&4294967295,k=w+(D<<9&4294967295|D>>>23),D=P+(w^I&(k^w))+x[3]+4107603335&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(P^k))+x[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=w+(P^k&(I^P))+x[13]+2850285829&4294967295,w=I+(D<<5&4294967295|D>>>27),D=k+(I^P&(w^I))+x[2]+4243563512&4294967295,k=w+(D<<9&4294967295|D>>>23),D=P+(w^I&(k^w))+x[7]+1735328473&4294967295,P=k+(D<<14&4294967295|D>>>18),D=I+(k^w&(P^k))+x[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=w+(I^P^k)+x[5]+4294588738&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^P)+x[8]+2272392833&4294967295,k=w+(D<<11&4294967295|D>>>21),D=P+(k^w^I)+x[11]+1839030562&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^w)+x[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=w+(I^P^k)+x[1]+2763975236&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^P)+x[4]+1272893353&4294967295,k=w+(D<<11&4294967295|D>>>21),D=P+(k^w^I)+x[7]+4139469664&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^w)+x[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=w+(I^P^k)+x[13]+681279174&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^P)+x[0]+3936430074&4294967295,k=w+(D<<11&4294967295|D>>>21),D=P+(k^w^I)+x[3]+3572445317&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^w)+x[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=w+(I^P^k)+x[9]+3654602809&4294967295,w=I+(D<<4&4294967295|D>>>28),D=k+(w^I^P)+x[12]+3873151461&4294967295,k=w+(D<<11&4294967295|D>>>21),D=P+(k^w^I)+x[15]+530742520&4294967295,P=k+(D<<16&4294967295|D>>>16),D=I+(P^k^w)+x[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=w+(P^(I|~k))+x[0]+4096336452&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~P))+x[7]+1126891415&4294967295,k=w+(D<<10&4294967295|D>>>22),D=P+(w^(k|~I))+x[14]+2878612391&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~w))+x[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=w+(P^(I|~k))+x[12]+1700485571&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~P))+x[3]+2399980690&4294967295,k=w+(D<<10&4294967295|D>>>22),D=P+(w^(k|~I))+x[10]+4293915773&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~w))+x[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=w+(P^(I|~k))+x[8]+1873313359&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~P))+x[15]+4264355552&4294967295,k=w+(D<<10&4294967295|D>>>22),D=P+(w^(k|~I))+x[6]+2734768916&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~w))+x[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=w+(P^(I|~k))+x[4]+4149444226&4294967295,w=I+(D<<6&4294967295|D>>>26),D=k+(I^(w|~P))+x[11]+3174756917&4294967295,k=w+(D<<10&4294967295|D>>>22),D=P+(w^(k|~I))+x[2]+718787259&4294967295,P=k+(D<<15&4294967295|D>>>17),D=I+(k^(P|~w))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+k&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var I=w-this.blockSize,x=this.B,P=this.h,k=0;k<w;){if(P==0)for(;k<=I;)a(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<w;)if(x[P++]=V.charCodeAt(k++),P==this.blockSize){a(this,x),P=0;break}}else for(;k<w;)if(x[P++]=V[k++],P==this.blockSize){a(this,x),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var I=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=I&255,I/=256;for(this.u(V),V=Array(16),w=I=0;4>w;++w)for(var x=0;32>x;x+=8)V[I++]=this.g[w]>>>x&255;return V};function u(V,w){var I=d;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=w(V)}function c(V,w){this.h=w;for(var I=[],x=!0,P=V.length-1;0<=P;P--){var k=V[P]|0;x&&k==w||(I[P]=k,x=!1)}this.g=I}var d={};function p(V){return-128<=V&&128>V?u(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return z(g(-V));for(var w=[],I=1,x=0;V>=I;x++)w[x]=V/I|0,I*=4294967296;return new c(w,0)}function v(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return z(v(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(w,8)),x=E,P=0;P<V.length;P+=8){var k=Math.min(8,V.length-P),D=parseInt(V.substring(P,P+k),w);8>k?(k=g(Math.pow(w,k)),x=x.j(k).add(g(D))):(x=x.j(I),x=x.add(g(D)))}return x}var E=p(0),S=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(F(this))return-z(this).m();for(var V=0,w=1,I=0;I<this.g.length;I++){var x=this.i(I);V+=(0<=x?x:4294967296+x)*w,w*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(F(this))return"-"+z(this).toString(V);for(var w=g(Math.pow(V,6)),I=this,x="";;){var P=dt(I,w).g;I=K(I,P.j(w));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=P,N(I))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function F(V){return V.h==-1}n.l=function(V){return V=K(this,V),F(V)?-1:N(V)?0:1};function z(V){for(var w=V.g.length,I=[],x=0;x<w;x++)I[x]=~V.g[x];return new c(I,~V.h).add(S)}n.abs=function(){return F(this)?z(this):this},n.add=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],x=0,P=0;P<=w;P++){var k=x+(this.i(P)&65535)+(V.i(P)&65535),D=(k>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);x=D>>>16,k&=65535,D&=65535,I[P]=D<<16|k}return new c(I,I[I.length-1]&-2147483648?-1:0)};function K(V,w){return V.add(z(w))}n.j=function(V){if(N(this)||N(V))return E;if(F(this))return F(V)?z(this).j(z(V)):z(z(this).j(V));if(F(V))return z(this.j(z(V)));if(0>this.l(R)&&0>V.l(R))return g(this.m()*V.m());for(var w=this.g.length+V.g.length,I=[],x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<V.g.length;P++){var k=this.i(x)>>>16,D=this.i(x)&65535,ve=V.i(P)>>>16,re=V.i(P)&65535;I[2*x+2*P]+=D*re,nt(I,2*x+2*P),I[2*x+2*P+1]+=k*re,nt(I,2*x+2*P+1),I[2*x+2*P+1]+=D*ve,nt(I,2*x+2*P+1),I[2*x+2*P+2]+=k*ve,nt(I,2*x+2*P+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new c(I,0)};function nt(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function J(V,w){this.g=V,this.h=w}function dt(V,w){if(N(w))throw Error("division by zero");if(N(V))return new J(E,E);if(F(V))return w=dt(z(V),w),new J(z(w.g),z(w.h));if(F(w))return w=dt(V,z(w)),new J(z(w.g),w.h);if(30<V.g.length){if(F(V)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var I=S,x=w;0>=x.l(V);)I=tt(I),x=tt(x);var P=at(I,1),k=at(x,1);for(x=at(x,2),I=at(I,2);!N(x);){var D=k.add(x);0>=D.l(V)&&(P=P.add(I),k=D),x=at(x,1),I=at(I,1)}return w=K(V,P.j(w)),new J(P,w)}for(P=E;0<=V.l(w);){for(I=Math.max(1,Math.floor(V.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=g(I),D=k.j(w);F(D)||0<D.l(V);)I-=x,k=g(I),D=k.j(w);N(k)&&(k=S),P=P.add(k),V=K(V,D)}return new J(P,V)}n.A=function(V){return dt(this,V).h},n.and=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],x=0;x<w;x++)I[x]=this.i(x)&V.i(x);return new c(I,this.h&V.h)},n.or=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],x=0;x<w;x++)I[x]=this.i(x)|V.i(x);return new c(I,this.h|V.h)},n.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),I=[],x=0;x<w;x++)I[x]=this.i(x)^V.i(x);return new c(I,this.h^V.h)};function tt(V){for(var w=V.g.length+1,I=[],x=0;x<w;x++)I[x]=V.i(x)<<1|V.i(x-1)>>>31;return new c(I,V.h)}function at(V,w){var I=w>>5;w%=32;for(var x=V.g.length-I,P=[],k=0;k<x;k++)P[k]=0<w?V.i(k+I)>>>w|V.i(k+I+1)<<32-w:V.i(k+I);return new c(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,KS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ws=c}).apply(typeof MT<"u"?MT:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,$l,YS,Dh,wp,XS,$S,WS;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=e(this);function a(h,y){if(y)t:{var _=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in _))break t;_=_[U]}h=h[h.length-1],b=_[h],y=y(b),y!=b&&y!=null&&t(_,h,{configurable:!0,writable:!0,value:y})}}function u(h,y){h instanceof String&&(h+="");var _=0,b=!1,U={next:function(){if(!b&&_<h.length){var G=_++;return{value:y(G,h[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}a("Array.prototype.values",function(h){return h||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function E(h,y,_){if(!h)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,b),h.apply(y,U)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,S.apply(null,arguments)}function R(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function N(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(b,U,G){for(var rt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)rt[kt-2]=arguments[kt];return y.prototype[U].apply(b,rt)}}function F(h){const y=h.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=h[b];return _}return[]}function z(h,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const U=h.length||0,G=b.length||0;h.length=U+G;for(let rt=0;rt<G;rt++)h[U+rt]=b[rt]}else h.push(b)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function nt(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function dt(h){return dt[" "](h),h}dt[" "]=function(){};var tt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function at(h,y,_){for(const b in h)y.call(_,h[b],b,h)}function V(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function w(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(h,y){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)h[_]=b[_];for(let G=0;G<I.length;G++)_=I[G],Object.prototype.hasOwnProperty.call(b,_)&&(h[_]=b[_])}}function P(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function k(h){d.setTimeout(()=>{throw h},0)}function D(){var h=Lt;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,_){const b=re.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var re=new K(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ht=!1,Lt=new ve,M=()=>{const h=d.Promise.resolve(void 0);it=()=>{h.then(et)}};var et=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){k(_)}var y=re;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ht=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function Vt(h,y){if(st.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(tt){t:{try{dt(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Vt.aa.h.call(this)}}N(Vt,st);var St={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function ni(h,y,_,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=U,this.key=++Jt,this.da=this.fa=!1}function hs(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vi(h){this.src=h,this.g={},this.h=0}Vi.prototype.add=function(h,y,_,b,U){var G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);var rt=pr(h,y,b,U);return-1<rt?(y=h[rt],_||(y.fa=!1)):(y=new ni(y,this.src,G,!!b,U),y.fa=_,h.push(y)),y};function mr(h,y){var _=y.type;if(_ in h.g){var b=h.g[_],U=Array.prototype.indexOf.call(b,y,void 0),G;(G=0<=U)&&Array.prototype.splice.call(b,U,1),G&&(hs(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function pr(h,y,_,b){for(var U=0;U<h.length;++U){var G=h[U];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==b)return U}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),Bo={};function Gu(h,y,_,b,U){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Gu(h,y[G],_,b,U);return null}return _=Ku(_),h&&h[xe]?h.K(y,_,g(b)?!!b.capture:!1,U):In(h,y,_,!1,b,U)}function In(h,y,_,b,U,G){if(!y)throw Error("Invalid event type");var rt=g(U)?!!U.capture:!!U,kt=ma(h);if(kt||(h[gr]=kt=new Vi(h)),_=kt.add(y,_,b,rt,G),_.proxy)return _;if(b=jf(),_.proxy=b,b.src=h,b.listener=_,h.addEventListener)gt||(U=rt),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(yr(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jf(){function h(_){return y.call(h.src,h.listener,_)}const y=qf;return h}function zo(h,y,_,b,U){if(Array.isArray(y))for(var G=0;G<y.length;G++)zo(h,y[G],_,b,U);else b=g(b)?!!b.capture:!!b,_=Ku(_),h&&h[xe]?(h=h.i,y=String(y).toString(),y in h.g&&(G=h.g[y],_=pr(G,_,b,U),-1<_&&(hs(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete h.g[y],h.h--)))):h&&(h=ma(h))&&(y=h.g[y.toString()],h=-1,y&&(h=pr(y,_,b,U)),(_=-1<h?y[h]:null)&&da(_))}function da(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[xe])mr(y.i,h);else{var _=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(_,b,h.capture):y.detachEvent?y.detachEvent(yr(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ma(y))?(mr(_,h),_.h==0&&(_.src=null,y[gr]=null)):hs(h)}}}function yr(h){return h in Bo?Bo[h]:Bo[h]="on"+h}function qf(h,y){if(h.da)h=!0;else{y=new Vt(y,this);var _=h.listener,b=h.ha||h.src;h.fa&&da(h),h=_.call(b,y)}return h}function ma(h){return h=h[gr],h instanceof Vi?h:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(h){return typeof h=="function"?h:(h[jo]||(h[jo]=function(y){return h.handleEvent(y)}),h[jo])}function ue(){lt.call(this),this.i=new Vi(this),this.M=this,this.F=null}N(ue,lt),ue.prototype[xe]=!0,ue.prototype.removeEventListener=function(h,y,_,b){zo(this,h,y,_,b)};function Gt(h,y){var _,b=h.F;if(b)for(_=[];b;b=b.F)_.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new st(y,h);else if(y instanceof st)y.target=y.target||h;else{var U=y;y=new st(b,h),x(y,U)}if(U=!0,_)for(var G=_.length-1;0<=G;G--){var rt=y.g=_[G];U=yn(rt,b,!0,y)&&U}if(rt=y.g=h,U=yn(rt,b,!0,y)&&U,U=yn(rt,b,!1,y)&&U,_)for(G=0;G<_.length;G++)rt=y.g=_[G],U=yn(rt,b,!1,y)&&U}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],b=0;b<_.length;b++)hs(_[b]);delete h.g[y],h.h--}}this.F=null},ue.prototype.K=function(h,y,_,b){return this.i.add(String(h),y,!1,_,b)},ue.prototype.L=function(h,y,_,b){return this.i.add(String(h),y,!0,_,b)};function yn(h,y,_,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,G=0;G<y.length;++G){var rt=y[G];if(rt&&!rt.da&&rt.capture==_){var kt=rt.listener,Re=rt.ha||rt.src;rt.fa&&mr(h.i,rt),U=kt.call(Re,b)!==!1&&U}}return U&&!b.defaultPrevented}function $e(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Qu(h){h.g=$e(()=>{h.g=null,h.i&&(h.i=!1,Qu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Hf extends lt{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(h){lt.call(this),this.h=h,this.g={}}N(vr,lt);var _r=[];function Tr(h){at(h.g,function(y,_){this.g.hasOwnProperty(_)&&da(y)},h),h.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Tr(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=d.JSON.stringify,pa=d.JSON.parse,Er=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function qo(){}qo.prototype.h=null;function Ho(h){return h.h||(h.h=h.i())}function Fo(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){st.call(this,"d")}N(xi,st);function Go(){st.call(this,"c")}N(Go,st);var ii={},Ko=null;function fs(){return Ko=Ko||new ue}ii.La="serverreachability";function ga(h){st.call(this,ii.La,h)}N(ga,st);function ds(h){const y=fs();Gt(y,new ga(y))}ii.STAT_EVENT="statevent";function Yu(h,y){st.call(this,ii.STAT_EVENT,h),this.stat=y}N(Yu,st);function ie(h){const y=fs();Gt(y,new Yu(y,h))}ii.Ma="timingevent";function we(h,y){st.call(this,ii.Ma,h),this.size=y}N(we,st);function _e(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Cn(){this.g=!0}Cn.prototype.xa=function(){this.g=!1};function Qo(h,y,_,b,U,G){h.info(function(){if(h.g)if(G)for(var rt="",kt=G.split("&"),Re=0;Re<kt.length;Re++){var Ut=kt[Re].split("=");if(1<Ut.length){var Pe=Ut[0];Ut=Ut[1];var Ie=Pe.split("_");rt=2<=Ie.length&&Ie[1]=="type"?rt+(Pe+"="+Ut+"&"):rt+(Pe+"=redacted&")}}else rt=null;else rt=G;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+_+`
`+rt})}function Ff(h,y,_,b,U,G,rt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+_+`
`+G+" "+rt})}function ms(h,y,_,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ar(h,_)+(b?" "+b:"")})}function Xu(h,y){h.info(function(){return"TIMEOUT: "+y})}Cn.prototype.info=function(){};function Ar(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var b=_[h];if(!(2>b.length)){var U=b[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var rt=1;rt<U.length;rt++)U[rt]=""}}}}return Gn(_)}catch{return y}}var ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function ri(){}N(ri,qo),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},si=new ri;function an(h,y,_,b){this.j=h,this.i=y,this.l=_,this.R=b||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new de}function de(){this.i=null,this.g="",this.h=!1}var Yo={},ya={};function Kn(h,y,_){h.L=1,h.v=Ir(vn(y)),h.m=_,h.P=!0,Pi(h,null)}function Pi(h,y){h.F=Date.now(),Sr(h),h.A=vn(h.v);var _=h.A,b=h.R;Array.isArray(b)||(b=[String(b)]),tl(_.i,"t",b),h.C=0,_=h.j.J,h.h=new de,h.g=hc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Hf(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,b=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(_r[0]=U.toString()),U=_r);for(var G=0;G<U.length;G++){var rt=Gu(_,U[G],b||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ds(),Qo(h.i,h.u,h.A,h.l,h.R,h.m)}an.prototype.ca=function(h){h=h.target;const y=this.M;y&&xn(h)==3?y.j():this.Y(h)},an.prototype.Y=function(h){try{if(h==this.g)t:{const Ie=xn(this.g);var y=this.g.Ba();const qi=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||Ie!=4||y==7||(y==8||0>=qi?ds(3):ds(2)),gs(this);var _=this.g.Z();this.X=_;e:if($u(this)){var b=ic(this.g);h="";var U=b.length,G=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),ai(this);var rt="";break e}this.h.i=new d.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,h+=this.h.i.decode(b[y],{stream:!(G&&y==U-1)});b.length=0,this.h.g+=h,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=_==200,Ff(this.i,this.u,this.A,this.l,this.R,Ie,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Re=this.g;if((kt=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(kt)){var Ut=kt;break e}}Ut=null}if(_=Ut)ms(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,_);else{this.o=!1,this.s=3,ie(12),ze(this),ai(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<rt.length;)if(je=Wu(this,rt),je==ya){Ie==4&&(this.s=4,ie(14),_=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(je==Yo){this.s=4,ie(15),ms(this.i,this.l,rt,"[Invalid Chunk]"),_=!1;break}else ms(this.i,this.l,je,null),br(this,je);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||rt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)ms(this.i,this.l,rt,"[Invalid Chunked Response]"),ze(this),ai(this);else if(0<rt.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Nr(Pe),Pe.M=!0,ie(11))}}else ms(this.i,this.l,rt,null),br(this,rt);Ie==4&&ze(this),this.o&&!this.J&&(Ie==4?lc(this.j,this):(this.o=!1,Sr(this)))}else Xf(this.g),_==400&&0<rt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),ze(this),ai(this)}}}catch{}finally{}};function $u(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Wu(h,y){var _=h.C,b=y.indexOf(`
`,_);return b==-1?ya:(_=Number(y.substring(_,b)),isNaN(_)?Yo:(b+=1,b+_>y.length?ya:(y=y.slice(b,b+_),h.C=b+_,y)))}an.prototype.cancel=function(){this.J=!0,ze(this)};function Sr(h){h.S=Date.now()+h.I,Zu(h,h.I)}function Zu(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=_e(S(h.ba,h),y)}function gs(h){h.B&&(d.clearTimeout(h.B),h.B=null)}an.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Xu(this.i,this.A),this.L!=2&&(ds(),ie(17)),ze(this),this.s=2,ai(this)):Zu(this,this.S-h)};function ai(h){h.j.G==0||h.J||lc(h.j,h)}function ze(h){gs(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Tr(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function br(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Xo(_.h,h))){if(!h.K&&Xo(_.h,h)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Da(_),Ia(_);else break t;rl(_),ie(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(S(_.Za,_),6e3));if(1>=_a(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ji(_,11)}else if((h.K||_.g==h)&&Da(_),!nt(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let Ut=U[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Pe=Ut[3];Pe!=null&&(_.la=Pe,_.j.info("VER="+_.la));const Ie=Ut[4];Ie!=null&&(_.Aa=Ie,_.j.info("SVER="+_.Aa));const qi=Ut[5];qi!=null&&typeof qi=="number"&&0<qi&&(b=1.5*qi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const je=h.g;if(je){const di=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var G=b.h;G.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ta(G,G.h),G.h=null))}if(b.D){const ol=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(b.ya=ol,Yt(b.I,b.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var rt=h;if(b.qa=cc(b,b.J?b.ia:null,b.W),rt.K){on(b.h,rt);var kt=rt,Re=b.L;Re&&(kt.I=Re),kt.B&&(gs(kt),Sr(kt)),b.g=rt}else ac(b);0<_.i.length&&Ca(_)}else Ut[0]!="stop"&&Ut[0]!="close"||ji(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?ji(_,7):il(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}ds(4)}catch{}}var Ju=class{constructor(h,y){this.g=h,this.map=y}};function Ni(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _a(h){return h.h?1:h.g?h.g.size:0}function Xo(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ta(h,y){h.g?h.g.add(y):h.h=y}function on(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ni.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function $o(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return F(h.i)}function Gf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,b=0;b<_;b++)y.push(h[b]);return y}y=[],_=0;for(b in h)y[_++]=h[b];return y}function Ea(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const b in h)y[_++]=b;return y}}}function Wo(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ea(h),b=Gf(h),U=b.length,G=0;G<U;G++)y.call(void 0,b[G],_&&_[G],h)}var wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var b=h[_].indexOf("="),U=null;if(0<=b){var G=h[_].substring(0,b);U=h[_].substring(b+1)}else G=h[_];y(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Te(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Te){this.h=h.h,Rr(this,h.j),this.o=h.o,this.g=h.g,ys(this,h.s),this.l=h.l;var y=h.i,_=new ki;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Li(this,_),this.m=h.m}else h&&(y=String(h).match(wr))?(this.h=!1,Rr(this,y[1]||"",!0),this.o=Dn(y[2]||""),this.g=Dn(y[3]||"",!0),ys(this,y[4]),this.l=Dn(y[5]||"",!0),Li(this,y[6]||"",!0),this.m=Dn(y[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}Te.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Cr(y,Zo,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Cr(y,Zo,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Cr(_,_.charAt(0)=="/"?Qf:Jo,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Cr(_,Aa)),h.join("")};function vn(h){return new Te(h)}function Rr(h,y,_){h.j=_?Dn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ys(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Li(h,y,_){y instanceof ki?(h.i=y,ec(h.i,h.h)):(_||(y=Cr(y,Yf)),h.i=new ki(y,h.h))}function Yt(h,y,_){h.i.set(y,_)}function Ir(h){return Yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Dn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Cr(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,tc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function tc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Zo=/[#\/\?@]/g,Jo=/[#\?:]/g,Qf=/[#\?]/g,Yf=/[#\?@]/g,Aa=/#/g;function ki(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Vn(h){h.g||(h.g=new Map,h.h=0,h.i&&Kf(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=ki.prototype,n.add=function(h,y){Vn(this),this.i=null,h=oi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function Ui(h,y){Vn(h),y=oi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Bi(h,y){return Vn(h),y=oi(h,y),h.g.has(y)}n.forEach=function(h,y){Vn(this),this.g.forEach(function(_,b){_.forEach(function(U){h.call(y,U,b,this)},this)},this)},n.na=function(){Vn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const U=h[b];for(let G=0;G<U.length;G++)_.push(y[b])}return _},n.V=function(h){Vn(this);let y=[];if(typeof h=="string")Bi(this,h)&&(y=y.concat(this.g.get(oi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Vn(this),this.i=null,h=oi(this,h),Bi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function tl(h,y,_){Ui(h,y),0<_.length&&(h.i=null,h.g.set(oi(h,y),F(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const G=encodeURIComponent(String(b)),rt=this.V(b);for(b=0;b<rt.length;b++){var U=G;rt[b]!==""&&(U+="="+encodeURIComponent(String(rt[b]))),h.push(U)}}return this.i=h.join("&")};function oi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ec(h,y){y&&!h.j&&(Vn(h),h.i=null,h.g.forEach(function(_,b){var U=b.toLowerCase();b!=U&&(Ui(this,b),tl(this,U,_))},h)),h.j=y}function Dr(h,y){const _=new Cn;if(d.Image){const b=new Image;b.onload=R(Mn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=R(Mn,_,"TestLoadImage: error",!1,y,b),b.onabort=R(Mn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=R(Mn,_,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Qn(h,y){const _=new Cn,b=new AbortController,U=setTimeout(()=>{b.abort(),Mn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(U),G.ok?Mn(_,"TestPingServer: ok",!0,y):Mn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Mn(_,"TestPingServer: error",!1,y)})}function Mn(h,y,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Vr(){this.g=new Er}function li(h,y,_){const b=_||"";try{Wo(h,function(U,G){let rt=U;g(U)&&(rt=Gn(U)),y.push(b+G+"="+encodeURIComponent(rt))})}catch(U){throw y.push(b+"type="+encodeURIComponent("_badmap")),U}}function vs(h){this.l=h.Ub||null,this.j=h.eb||!1}N(vs,qo),vs.prototype.g=function(){return new zi(this.l,this.j)},vs.prototype.i=function(h){return function(){return h}}({});function zi(h,y){ue.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(zi,ue),n=zi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ci(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ui(this):ci(this),this.readyState==3&&el(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ui(this))},n.Qa=function(h){this.g&&(this.response=h,ui(this))},n.ga=function(){this.g&&ui(this)};function ui(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ci(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function nl(h){let y="";return at(h,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Oe(h,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=nl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Yt(h,y,_))}function Ht(h){ue.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ht,ue);var Sa=/^https?$/i,Mr=["POST","PUT"];n=Ht.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?Ho(this.o):Ho(si),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){nc(this,G);return}if(h=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),U=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Mr,y,void 0))||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of _)this.g.setRequestHeader(G,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xr(this),this.u=!0,this.g.send(h),this.u=!1}catch(G){nc(this,G)}};function nc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,ba(h),hi(h)}function ba(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),hi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},n.bb=function(){wa(this)};function wa(h){if(h.h&&typeof c<"u"&&(!h.v[1]||xn(h)!=4||h.Z()!=2)){if(h.u&&xn(h)==4)$e(h.Ea,0,h);else if(Gt(h,"readystatechange"),xn(h)==4){h.h=!1;try{const rt=h.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=rt===0){var U=String(h.D).match(wr)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),b=!Sa.test(U?U.toLowerCase():"")}_=b}if(_)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var G=2<xn(h)?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.Z()+"]",ba(h)}}finally{hi(h)}}}}function hi(h,y){if(h.g){xr(h);const _=h.g,b=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Gt(h,"ready");try{_.onreadystatechange=b}catch{}}}function xr(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function xn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),pa(y)}};function ic(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xf(h){const y={};h=(h.g&&2<=xn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(nt(h[b]))continue;var _=P(h[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[U]||[];y[U]=G,G.push(_)}V(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Ra(h){this.Aa=0,this.i=[],this.j=new Cn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Or("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Or("baseRetryDelayMs",5e3,h),this.cb=Or("retryDelaySeedMs",1e4,h),this.Wa=Or("forwardChannelMaxRetries",2,h),this.wa=Or("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(h&&h.concurrentRequestLimit),this.Da=new Vr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ra.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,b){ie(0),this.W=h,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=cc(this,null,this.W),Ca(this)};function il(h){if(sc(h),h.G==3){var y=h.U++,_=vn(h.I);if(Yt(_,"SID",h.K),Yt(_,"RID",y),Yt(_,"TYPE","terminate"),Pr(h,_),y=new an(h,h.j,y),y.L=2,y.v=Ir(vn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=hc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Sr(y)}uc(h)}function Ia(h){h.g&&(Nr(h),h.g.cancel(),h.g=null)}function sc(h){Ia(h),h.u&&(d.clearTimeout(h.u),h.u=null),Da(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ca(h){if(!va(h.h)&&!h.s){h.s=!0;var y=h.Ga;it||M(),ht||(it(),ht=!0),Lt.add(y,h),h.B=0}}function $f(h,y){return _a(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=_e(S(h.Ga,h,y),al(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new an(this,this.j,h);let G=this.o;if(this.S&&(G?(G=w(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=rc(this,U,y),_=vn(this.I),Yt(_,"RID",h),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),Pr(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(nl(G)))+"&"+y:this.m&&Oe(_,this.m,G)),Ta(this.h,U),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",y),Yt(_,"SID","null"),U.T=!0,Kn(U,_,null)):Kn(U,_,y),this.G=2}}else this.G==3&&(h?sl(this,h):this.i.length==0||va(this.h)||sl(this))};function sl(h,y){var _;y?_=y.l:_=h.U++;const b=vn(h.I);Yt(b,"SID",h.K),Yt(b,"RID",_),Yt(b,"AID",h.T),Pr(h,b),h.m&&h.o&&Oe(b,h.m,h.o),_=new an(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=rc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ta(h.h,_),Kn(_,b,y)}function Pr(h,y){h.H&&at(h.H,function(_,b){Yt(y,b,_)}),h.l&&Wo({},function(_,b){Yt(y,b,_)})}function rc(h,y,_){_=Math.min(h.i.length,_);var b=h.l?S(h.l.Na,h.l,h):null;t:{var U=h.i;let G=-1;for(;;){const rt=["count="+_];G==-1?0<_?(G=U[0].g,rt.push("ofs="+G)):G=0:rt.push("ofs="+G);let kt=!0;for(let Re=0;Re<_;Re++){let Ut=U[Re].g;const Pe=U[Re].map;if(Ut-=G,0>Ut)G=Math.max(0,U[Re].g-100),kt=!1;else try{li(Pe,rt,"req"+Ut+"_")}catch{b&&b(Pe)}}if(kt){b=rt.join("&");break t}}}return h=h.i.splice(0,_),y.D=h,b}function ac(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;it||M(),ht||(it(),ht=!0),Lt.add(y,h),h.v=0}}function rl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=_e(S(h.Fa,h),al(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,oc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=_e(S(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Ia(this),oc(this))};function Nr(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function oc(h){h.g=new an(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=vn(h.qa);Yt(y,"RID","rpc"),Yt(y,"SID",h.K),Yt(y,"AID",h.T),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Yt(y,"TO",h.ja),Yt(y,"TYPE","xmlhttp"),Pr(h,y),h.m&&h.o&&Oe(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ir(vn(y)),_.m=null,_.P=!0,Pi(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Ia(this),rl(this),ie(19))};function Da(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function lc(h,y){var _=null;if(h.g==y){Da(h),Nr(h),h.g=null;var b=2}else if(Xo(h.h,y))_=y.D,on(h.h,y),b=1;else return;if(h.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=h.B;b=fs(),Gt(b,new we(b,_)),Ca(h)}else ac(h);else if(U=y.s,U==3||U==0&&0<y.X||!(b==1&&$f(h,y)||b==2&&rl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),U){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function al(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function ji(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),b=h.Xa;const U=!b;b=new Te(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Rr(b,"https"),Ir(b),U?Dr(b.toString(),_):Qn(b.toString(),_)}else ie(2);h.G=0,h.l&&h.l.sa(y),uc(h),sc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function uc(h){if(h.G=0,h.ka=[],h.l){const y=$o(h.h);(y.length!=0||h.i.length!=0)&&(z(h.ka,y),z(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function cc(h,y,_){var b=_ instanceof Te?vn(_):new Te(_);if(b.g!="")y&&(b.g=y+"."+b.g),ys(b,b.s);else{var U=d.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var G=new Te(null);b&&Rr(G,b),y&&(G.g=y),U&&ys(G,U),_&&(G.l=_),b=G}return _=h.D,y=h.ya,_&&y&&Yt(b,_,y),Yt(b,"VER",h.la),Pr(h,b),b}function hc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ht(new vs({eb:_})):new Ht(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}n=fc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Va(){}Va.prototype.g=function(h,y){return new ln(h,y)};function ln(h,y){ue.call(this),this.g=new Ra(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!nt(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!nt(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new fi(this)}N(ln,ue),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){il(this.g)},ln.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Gn(h),h=_);y.i.push(new Ju(y.Ya++,h)),y.G==3&&Ca(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,ln.aa.N.call(this)};function dc(h){xi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const _ in y){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}N(dc,xi);function mc(){Go.call(this),this.status=1}N(mc,Go);function fi(h){this.g=h}N(fi,fc),fi.prototype.ua=function(){Gt(this.g,"a")},fi.prototype.ta=function(h){Gt(this.g,new dc(h))},fi.prototype.sa=function(h){Gt(this.g,new mc)},fi.prototype.ra=function(){Gt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,WS=function(){return new Va},$S=function(){return fs()},XS=ii,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Dh=ps,Oi.COMPLETE="complete",YS=Oi,Fo.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,$l=Fo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,QS=Ht}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const xT="@firebase/firestore",OT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new cg("@firebase/firestore");function ro(){return la.logLevel}function ut(n,...t){if(la.logLevel<=Pt.DEBUG){const e=t.map(Eg);la.debug(`Firestore (${xo}): ${n}`,...e)}}function os(n,...t){if(la.logLevel<=Pt.ERROR){const e=t.map(Eg);la.error(`Firestore (${xo}): ${n}`,...e)}}function Eo(n,...t){if(la.logLevel<=Pt.WARN){const e=t.map(Eg);la.warn(`Firestore (${xo}): ${n}`,...e)}}function Eg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n="Unexpected state"){const t=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+n;throw os(t),new Error(t)}function Ft(n,t){n||Et()}function wt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends cs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(en.UNAUTHENTICATED))}shutdown(){}}class SM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class bM{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ft(this.o===void 0);let s=this.i;const a=p=>this.i!==s?(s=this.i,e(p)):Promise.resolve();let u=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new ZS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new en(t)}}class wM{constructor(t,e,s){this.l=t,this.h=e,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RM{constructor(t,e,s){this.l=t,this.h=e,this.P=s}getToken(){return Promise.resolve(new wM(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IM{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Jn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Ft(this.o===void 0);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const a=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new PT(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ft(typeof e.token=="string"),this.R=e.token,new PT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=CM(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<e&&(s+=t.charAt(a[u]%62))}return s}}function Dt(n,t){return n<t?-1:n>t?1:0}function Rp(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return Dt(s,a);{const u=JS(),c=DM(u.encode(NT(n,e)),u.encode(NT(t,e)));return c!==0?c:Dt(s,a)}}e+=s>65535?2:1}return Dt(n.length,t.length)}function NT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function DM(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Dt(n[e],t[e]);return Dt(n.length,t.length)}function Ao(n,t,e){return n.length===t.length&&n.every((s,a)=>e(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=-62135596800,kT=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*kT);return new Ve(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<LT)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kT}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-LT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new Ve(0,0))}static max(){return new bt(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__name__";class Ti{constructor(t,e,s){e===void 0?e=0:e>t.length&&Et(),s===void 0?s=t.length-e:s>t.length-e&&Et(),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const u=Ti.compareSegments(t.get(a),e.get(a));if(u!==0)return u}return Dt(t.length,e.length)}static compareSegments(t,e){const s=Ti.isNumericId(t),a=Ti.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?Ti.extractNumericId(t).compare(Ti.extractNumericId(e)):Rp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class ne extends Ti{construct(t,e,s){return new ne(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(a=>a.length>0))}return new ne(e)}static emptyPath(){return new ne([])}}const VM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ti{construct(t,e,s){return new Ye(t,e,s)}static isValidIdentifier(t){return VM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UT}static keyField(){return new Ye([UT])}static fromServerFormat(t){const e=[];let s="",a=0;const u=()=>{if(s.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(u(),a++)}if(u(),c)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(e)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ne.fromString(t))}static fromName(t){return new pt(ne.fromString(t).popFirst(5))}static empty(){return new pt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ne.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function MM(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=bt.fromTimestamp(s===1e9?new Ve(e+1,0):new Ve(e,s));return new er(a,pt.empty(),t)}function xM(n){return new er(n.readTime,n.key,mu)}class er{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new er(bt.min(),pt.empty(),mu)}static max(){return new er(bt.max(),pt.empty(),mu)}}function OM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=pt.comparator(n.documentKey,t.documentKey),e!==0?e:Dt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==PM)throw n;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new W((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(e,u).next(s,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof W?e:W.resolve(e)}catch(e){return W.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):W.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):W.reject(e)}static resolve(t){return new W((e,s)=>{e(t)})}static reject(t){return new W((e,s)=>{s(t)})}static waitFor(t){return new W((e,s)=>{let a=0,u=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++u,c&&u===a&&e()},p=>s(p))}),c=!0,u===a&&e()})}static or(t){let e=W.resolve(!1);for(const s of t)e=e.next(a=>a?W.resolve(a):s());return e}static forEach(t,e){const s=[];return t.forEach((a,u)=>{s.push(e.call(this,a,u))}),this.waitFor(s)}static mapArray(t,e){return new W((s,a)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;e(t[g]).next(v=>{c[g]=v,++d,d===u&&s(c)},v=>a(v))}})}static doWhile(t,e){return new W((s,a)=>{const u=()=>{t()===!0?e().next(()=>{u()},a):s()};u()})}}function LM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Po(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.oe(s),this._e=s=>e.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}gf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function yf(n){return n==null}function Qh(n){return n===0&&1/n==-1/0}function kM(n){return typeof n=="number"&&Number.isInteger(n)&&!Qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="";function UM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=BT(t)),t=BM(n.get(e),t);return BT(t)}function BM(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const u=n.charAt(a);switch(u){case"\0":e+="";break;case eb:e+="";break;default:e+=u}}return e}function BT(n){return n+eb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function cr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function nb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,e){this.comparator=t,this.root=e||Ke.EMPTY}insert(t,e){return new le(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yh(this.root,t,this.comparator,!0)}}class yh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?s(t.key,e):1,e&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ke{constructor(t,e,s,a,u){this.key=t,this.value=e,this.color=s??Ke.RED,this.left=a??Ke.EMPTY,this.right=u??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,u){return new Ke(t??this.key,e??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const u=s(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,e,s),null):u===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Ke.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,e,s,a,u){return this}insert(t,e,s){return new Ke(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(t){return new jT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Me(this.comparator);return e.data=t,e}}class jT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new Rn([])}unionWith(t){let e=new Me(Ye.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Rn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ao(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ib("Invalid base64 string: "+u):u}}(t);return new Xe(e)}static fromUint8Array(t){const e=function(a){let u="";for(let c=0;c<a.length;++c)u+=String.fromCharCode(a[c]);return u}(t);return new Xe(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const zM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(n){if(Ft(!!n),typeof n=="string"){let t=0;const e=zM.exec(n);if(Ft(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(n.seconds),nanos:ye(n.nanos)}}function ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ir(n){return typeof n=="string"?Xe.fromBase64String(n):Xe.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="server_timestamp",rb="__type__",ab="__previous_value__",ob="__local_write_time__";function Sg(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[rb])===null||e===void 0?void 0:e.stringValue)===sb}function vf(n){const t=n.mapValue.fields[ab];return Sg(t)?vf(t):t}function pu(n){const t=nr(n.mapValue.fields[ob].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,e,s,a,u,c,d,p,g){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Yh="(default)";class gu{constructor(t,e){this.projectId=t,this.database=e||Yh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(t){return t instanceof gu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="__type__",qM="__max__",vh={mapValue:{}},ub="__vector__",Xh="value";function sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sg(n)?4:FM(n)?9007199254740991:HM(n)?10:11:Et()}function Di(n,t){if(n===t)return!0;const e=sr(n);if(e!==sr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return pu(n).isEqual(pu(t));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const c=nr(a.timestampValue),d=nr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,u){return ir(a.bytesValue).isEqual(ir(u.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,u){return ye(a.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(a.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(n,t);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return ye(a.integerValue)===ye(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const c=ye(a.doubleValue),d=ye(u.doubleValue);return c===d?Qh(c)===Qh(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Ao(n.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return function(a,u){const c=a.mapValue.fields||{},d=u.mapValue.fields||{};if(zT(c)!==zT(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Di(c[p],d[p])))return!1;return!0}(n,t);default:return Et()}}function yu(n,t){return(n.values||[]).find(e=>Di(e,t))!==void 0}function So(n,t){if(n===t)return 0;const e=sr(n),s=sr(t);if(e!==s)return Dt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,t.booleanValue);case 2:return function(u,c){const d=ye(u.integerValue||u.doubleValue),p=ye(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return qT(n.timestampValue,t.timestampValue);case 4:return qT(pu(n),pu(t));case 5:return Rp(n.stringValue,t.stringValue);case 6:return function(u,c){const d=ir(u),p=ir(c);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Dt(d[g],p[g]);if(v!==0)return v}return Dt(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(u,c){const d=Dt(ye(u.latitude),ye(c.latitude));return d!==0?d:Dt(ye(u.longitude),ye(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return HT(n.arrayValue,t.arrayValue);case 10:return function(u,c){var d,p,g,v;const E=u.fields||{},S=c.fields||{},R=(d=E[Xh])===null||d===void 0?void 0:d.arrayValue,N=(p=S[Xh])===null||p===void 0?void 0:p.arrayValue,F=Dt(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return F!==0?F:HT(R,N)}(n.mapValue,t.mapValue);case 11:return function(u,c){if(u===vh.mapValue&&c===vh.mapValue)return 0;if(u===vh.mapValue)return 1;if(c===vh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let E=0;E<p.length&&E<v.length;++E){const S=Rp(p[E],v[E]);if(S!==0)return S;const R=So(d[p[E]],g[v[E]]);if(R!==0)return R}return Dt(p.length,v.length)}(n.mapValue,t.mapValue);default:throw Et()}}function qT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Dt(n,t);const e=nr(n),s=nr(t),a=Dt(e.seconds,s.seconds);return a!==0?a:Dt(e.nanos,s.nanos)}function HT(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const u=So(e[a],s[a]);if(u)return u}return Dt(e.length,s.length)}function bo(n){return Ip(n)}function Ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=nr(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ir(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return pt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",a=!0;for(const u of e.values||[])a?a=!1:s+=",",s+=Ip(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let a="{",u=!0;for(const c of s)u?u=!1:a+=",",a+=`${c}:${Ip(e.fields[c])}`;return a+"}"}(n.mapValue):Et()}function Vh(n){switch(sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vf(n);return t?16+Vh(t):16;case 5:return 2*n.stringValue.length;case 6:return ir(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Vh(u),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return cr(s.fields,(u,c)=>{a+=u.length+Vh(c)}),a}(n.mapValue);default:throw Et()}}function FT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Cp(n){return!!n&&"integerValue"in n}function bg(n){return!!n&&"arrayValue"in n}function GT(n){return!!n&&"nullValue"in n}function KT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mh(n){return!!n&&"mapValue"in n}function HM(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[lb])===null||e===void 0?void 0:e.stringValue)===ub}function su(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return cr(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=su(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=su(n.arrayValue.values[e]);return t}return Object.assign({},n)}function FM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Mh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=su(e)}setAll(t){let e=Ye.emptyPath(),s={},a=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,s,a),s={},a=[],e=d.popLast()}c?s[d.lastSegment()]=su(c):a.push(d.lastSegment())});const u=this.getFieldsMap(e);this.applyChanges(u,s,a)}delete(t){const e=this.field(t.popLast());Mh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];Mh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){cr(e,(a,u)=>t[a]=u);for(const a of s)delete t[a]}clone(){return new gn(su(this.value))}}function cb(n){const t=[];return cr(n.fields,(e,s)=>{const a=new Ye([e]);if(Mh(s)){const u=cb(s.mapValue).fields;if(u.length===0)t.push(a);else for(const c of u)t.push(a.child(c))}else t.push(a)}),new Rn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e,s,a,u,c,d){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new nn(t,0,bt.min(),bt.min(),bt.min(),gn.empty(),0)}static newFoundDocument(t,e,s,a){return new nn(t,1,e,bt.min(),s,a,0)}static newNoDocument(t,e){return new nn(t,2,e,bt.min(),bt.min(),gn.empty(),0)}static newUnknownDocument(t,e){return new nn(t,3,e,bt.min(),bt.min(),gn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,e){this.position=t,this.inclusive=e}}function QT(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const u=t[a],c=n.position[a];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(c.referenceValue),e.key):s=So(c,e.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function YT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Di(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,e="asc"){this.field=t,this.dir=e}}function GM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{}class be extends hb{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new QM(t,e,s):e==="array-contains"?new $M(t,s):e==="in"?new WM(t,s):e==="not-in"?new ZM(t,s):e==="array-contains-any"?new JM(t,s):new be(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new YM(t,s):new XM(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(So(e,this.value)):e!==null&&sr(this.value)===sr(e)&&this.matchesComparison(So(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends hb{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new ei(t,e)}matches(t){return fb(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fb(n){return n.op==="and"}function db(n){return KM(n)&&fb(n)}function KM(n){for(const t of n.filters)if(t instanceof ei)return!1;return!0}function Dp(n){if(n instanceof be)return n.field.canonicalString()+n.op.toString()+bo(n.value);if(db(n))return n.filters.map(t=>Dp(t)).join(",");{const t=n.filters.map(e=>Dp(e)).join(",");return`${n.op}(${t})`}}function mb(n,t){return n instanceof be?function(s,a){return a instanceof be&&s.op===a.op&&s.field.isEqual(a.field)&&Di(s.value,a.value)}(n,t):n instanceof ei?function(s,a){return a instanceof ei&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,c,d)=>u&&mb(c,a.filters[d]),!0):!1}(n,t):void Et()}function pb(n){return n instanceof be?function(e){return`${e.field.canonicalString()} ${e.op} ${bo(e.value)}`}(n):n instanceof ei?function(e){return e.op.toString()+" {"+e.getFilters().map(pb).join(" ,")+"}"}(n):"Filter"}class QM extends be{constructor(t,e,s){super(t,e,s),this.key=pt.fromName(s.referenceValue)}matches(t){const e=pt.comparator(t.key,this.key);return this.matchesComparison(e)}}class YM extends be{constructor(t,e){super(t,"in",e),this.keys=gb("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class XM extends be{constructor(t,e){super(t,"not-in",e),this.keys=gb("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function gb(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>pt.fromName(s.referenceValue))}class $M extends be{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return bg(e)&&yu(e.arrayValue,this.value)}}class WM extends be{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&yu(this.value.arrayValue,e)}}class ZM extends be{constructor(t,e){super(t,"not-in",e)}matches(t){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!yu(this.value.arrayValue,e)}}class JM extends be{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!bg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,e=null,s=[],a=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=c,this.endAt=d,this.le=null}}function XT(n,t=null,e=[],s=[],a=null,u=null,c=null){return new tx(n,t,e,s,a,u,c)}function wg(n){const t=wt(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Dp(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),yf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>bo(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>bo(s)).join(",")),t.le=e}return t.le}function Rg(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!GM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!mb(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YT(n.startAt,t.startAt)&&YT(n.endAt,t.endAt)}function Vp(n){return pt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,e=null,s=[],a=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ex(n,t,e,s,a,u,c,d){return new No(n,t,e,s,a,u,c,d)}function Ig(n){return new No(n)}function $T(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yb(n){return n.collectionGroup!==null}function ru(n){const t=wt(n);if(t.he===null){t.he=[];const e=new Set;for(const u of t.explicitOrderBy)t.he.push(u),e.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Me(Ye.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{e.has(u.canonicalString())||u.isKeyField()||t.he.push(new vu(u,s))}),e.has(Ye.keyField().canonicalString())||t.he.push(new vu(Ye.keyField(),s))}return t.he}function Si(n){const t=wt(n);return t.Pe||(t.Pe=nx(t,ru(n))),t.Pe}function nx(n,t){if(n.limitType==="F")return XT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new vu(a.field,u)});const e=n.endAt?new $h(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new $h(n.startAt.position,n.startAt.inclusive):null;return XT(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Mp(n,t){const e=n.filters.concat([t]);return new No(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function xp(n,t,e){return new No(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function _f(n,t){return Rg(Si(n),Si(t))&&n.limitType===t.limitType}function vb(n){return`${wg(Si(n))}|lt:${n.limitType}`}function ao(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(a=>pb(a)).join(", ")}]`),yf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>bo(a)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>bo(a)).join(",")),`Target(${s})`}(Si(n))}; limitType=${n.limitType})`}function Tf(n,t){return t.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(n,t)&&function(s,a){for(const u of ru(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(n,t)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(n,t)&&function(s,a){return!(s.startAt&&!function(c,d,p){const g=QT(c,d,p);return c.inclusive?g<=0:g<0}(s.startAt,ru(s),a)||s.endAt&&!function(c,d,p){const g=QT(c,d,p);return c.inclusive?g>=0:g>0}(s.endAt,ru(s),a))}(n,t)}function ix(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _b(n){return(t,e)=>{let s=!1;for(const a of ru(n)){const u=sx(a,t,e);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function sx(n,t,e){const s=n.field.isKeyField()?pt.comparator(t.key,e.key):function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?So(p,g):Et()}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],t))return void(a[u]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){cr(this.inner,(e,s)=>{for(const[a,u]of s)t(a,u)})}isEmpty(){return nb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=new le(pt.comparator);function ls(){return rx}const Tb=new le(pt.comparator);function Wl(...n){let t=Tb;for(const e of n)t=t.insert(e.key,e);return t}function Eb(n){let t=Tb;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function ea(){return au()}function Ab(){return au()}function au(){return new ca(n=>n.toString(),(n,t)=>n.isEqual(t))}const ax=new le(pt.comparator),ox=new Me(pt.comparator);function Nt(...n){let t=ox;for(const e of n)t=t.add(e);return t}const lx=new Me(Dt);function ux(){return lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(t)?"-0":t}}function Sb(n){return{integerValue:""+n}}function cx(n,t){return kM(t)?Sb(t):Cg(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this._=void 0}}function hx(n,t,e){return n instanceof _u?function(a,u){const c={fields:{[rb]:{stringValue:sb},[ob]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&Sg(u)&&(u=vf(u)),u&&(c.fields[ab]=u),{mapValue:c}}(e,t):n instanceof Tu?wb(n,t):n instanceof Eu?Rb(n,t):function(a,u){const c=bb(a,u),d=WT(c)+WT(a.Ie);return Cp(c)&&Cp(a.Ie)?Sb(d):Cg(a.serializer,d)}(n,t)}function fx(n,t,e){return n instanceof Tu?wb(n,t):n instanceof Eu?Rb(n,t):e}function bb(n,t){return n instanceof Wh?function(s){return Cp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class _u extends Ef{}class Tu extends Ef{constructor(t){super(),this.elements=t}}function wb(n,t){const e=Ib(t);for(const s of n.elements)e.some(a=>Di(a,s))||e.push(s);return{arrayValue:{values:e}}}class Eu extends Ef{constructor(t){super(),this.elements=t}}function Rb(n,t){let e=Ib(t);for(const s of n.elements)e=e.filter(a=>!Di(a,s));return{arrayValue:{values:e}}}class Wh extends Ef{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function WT(n){return ye(n.integerValue||n.doubleValue)}function Ib(n){return bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t,e){this.field=t,this.transform=e}}function mx(n,t){return n.field.isEqual(t.field)&&function(s,a){return s instanceof Tu&&a instanceof Tu||s instanceof Eu&&a instanceof Eu?Ao(s.elements,a.elements,Di):s instanceof Wh&&a instanceof Wh?Di(s.Ie,a.Ie):s instanceof _u&&a instanceof _u}(n.transform,t.transform)}class px{constructor(t,e){this.version=t,this.transformResults=e}}class qn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new qn}static exists(t){return new qn(void 0,t)}static updateTime(t){return new qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Af{}function Cb(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Dg(n.key,qn.none()):new Lu(n.key,n.data,qn.none());{const e=n.data,s=gn.empty();let a=new Me(Ye.comparator);for(let u of t.fields)if(!a.has(u)){let c=e.field(u);c===null&&u.length>1&&(u=u.popLast(),c=e.field(u)),c===null?s.delete(u):s.set(u,c),a=a.add(u)}return new hr(n.key,s,new Rn(a.toArray()),qn.none())}}function gx(n,t,e){n instanceof Lu?function(a,u,c){const d=a.value.clone(),p=JT(a.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof hr?function(a,u,c){if(!xh(a.precondition,u))return void u.convertToUnknownDocument(c.version);const d=JT(a.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Db(a)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,t,e):function(a,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function ou(n,t,e,s){return n instanceof Lu?function(u,c,d,p){if(!xh(u.precondition,c))return d;const g=u.value.clone(),v=tE(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,s):n instanceof hr?function(u,c,d,p){if(!xh(u.precondition,c))return d;const g=tE(u.fieldTransforms,p,c),v=c.data;return v.setAll(Db(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(n,t,e,s):function(u,c,d){return xh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,t,e)}function yx(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),u=bb(s.transform,a||null);u!=null&&(e===null&&(e=gn.empty()),e.set(s.field,u))}return e||null}function ZT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ao(s,a,(u,c)=>mx(u,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Lu extends Af{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hr extends Af{constructor(t,e,s,a,u=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Db(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function JT(n,t,e){const s=new Map;Ft(n.length===e.length);for(let a=0;a<e.length;a++){const u=n[a],c=u.transform,d=t.data.field(u.field);s.set(u.field,fx(c,d,e[a]))}return s}function tE(n,t,e){const s=new Map;for(const a of n){const u=a.transform,c=e.data.field(a.field);s.set(a.field,hx(u,c,t))}return s}class Dg extends Af{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vx extends Af{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(t.key)&&gx(u,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=ou(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=ou(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=Ab();return this.mutations.forEach(a=>{const u=t.get(a.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=e.has(a.key)?null:d;const p=Cb(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(bt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Ao(this.mutations,t.mutations,(e,s)=>ZT(e,s))&&Ao(this.baseMutations,t.baseMutations,(e,s)=>ZT(e,s))}}class Vg{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Ft(t.mutations.length===s.length);let a=function(){return ax}();const u=t.mutations;for(let c=0;c<u.length;c++)a=a.insert(u[c].key,s[c].version);return new Vg(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,zt;function Ax(n){switch(n){case Z.OK:return Et();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et()}}function Vb(n){if(n===void 0)return os("GRPC error has no .code"),Z.UNKNOWN;switch(n){case Se.OK:return Z.OK;case Se.CANCELLED:return Z.CANCELLED;case Se.UNKNOWN:return Z.UNKNOWN;case Se.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Se.INTERNAL:return Z.INTERNAL;case Se.UNAVAILABLE:return Z.UNAVAILABLE;case Se.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Se.NOT_FOUND:return Z.NOT_FOUND;case Se.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Se.ABORTED:return Z.ABORTED;case Se.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Se.DATA_LOSS:return Z.DATA_LOSS;default:return Et()}}(zt=Se||(Se={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new Ws([4294967295,4294967295],0);function eE(n){const t=JS().encode(n),e=new KS;return e.update(t),new Uint8Array(e.digest())}function nE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ws([e,s],0),new Ws([a,u],0)]}class Mg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Zl(`Invalid padding: ${e}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Ws.fromNumber(this.Ee)}Ae(t,e,s){let a=t.add(e.multiply(Ws.fromNumber(s)));return a.compare(Sx)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=eE(t),[s,a]=nE(e);for(let u=0;u<this.hashCount;u++){const c=this.Ae(s,a,u);if(!this.Re(c))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Mg(u,a,e);return s.forEach(d=>c.insert(d)),c}insert(t){if(this.Ee===0)return;const e=eE(t),[s,a]=nE(e);for(let u=0;u<this.hashCount;u++){const c=this.Ae(s,a,u);this.Ve(c)}}Ve(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,e,s,a,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,ku.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Sf(bt.min(),a,new le(Dt),ls(),Nt())}}class ku{constructor(t,e,s,a,u){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new ku(s,e,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,e,s,a){this.me=t,this.removedTargetIds=e,this.key=s,this.fe=a}}class Mb{constructor(t,e){this.targetId=t,this.ge=e}}class xb{constructor(t,e,s=Xe.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class iE{constructor(){this.pe=0,this.ye=sE(),this.we=Xe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Nt(),e=Nt(),s=Nt();return this.ye.forEach((a,u)=>{switch(u){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:Et()}}),new ku(this.we,this.Se,t,e,s)}Me(){this.be=!1,this.ye=sE()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class bx{constructor(t){this.ke=t,this.qe=new Map,this.Qe=ls(),this.$e=_h(),this.Ue=_h(),this.Ke=new le(Dt)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const s=this.He(e);switch(t.state){case 0:this.Je(e)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(e);break;case 3:this.Je(e)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),s.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((s,a)=>{this.Je(a)&&e(a)})}Ze(t){const e=t.targetId,s=t.ge.count,a=this.Xe(e);if(a){const u=a.target;if(Vp(u))if(s===0){const c=new pt(u.path);this.ze(e,c,nn.newNoDocument(c,bt.min()))}else Ft(s===1);else{const c=this.et(e);if(c!==s){const d=this.tt(t),p=d?this.nt(d,t,c):1;if(p!==0){this.Ye(e);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,g)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=e;let c,d;try{c=ir(s).toUint8Array()}catch(p){if(p instanceof ib)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Mg(c,a,u)}catch(p){return Eo(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(t,e,s){return e.ge.count===s-this.st(t,e.targetId)?0:2}st(t,e){const s=this.ke.getRemoteKeysForTarget(e);let a=0;return s.forEach(u=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.ze(e,u,null),a++)}),a}ot(t){const e=new Map;this.qe.forEach((u,c)=>{const d=this.Xe(c);if(d){if(u.current&&Vp(d.target)){const p=new pt(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,nn.newNoDocument(p,t))}u.ve&&(e.set(c,u.Fe()),u.Me())}});let s=Nt();this.Ue.forEach((u,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,c)=>c.setReadTime(t));const a=new Sf(t,e,this.Ke,this.Qe,s);return this.Qe=ls(),this.$e=_h(),this.Ue=_h(),this.Ke=new le(Dt),a}Ge(t,e){if(!this.Je(t))return;const s=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,s),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,s){if(!this.Je(t))return;const a=this.He(t);this.ut(t,e)?a.xe(e,1):a.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),s&&(this.Qe=this.Qe.insert(e,s))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new iE,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new Me(Dt),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Me(Dt),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||ut("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new iE),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function _h(){return new le(pt.comparator)}function sE(){return new le(pt.comparator)}const wx={asc:"ASCENDING",desc:"DESCENDING"},Rx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ix={and:"AND",or:"OR"};class Cx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Op(n,t){return n.useProto3Json||yf(t)?t:{value:t}}function Zh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ob(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Dx(n,t){return Zh(n,t.toTimestamp())}function bi(n){return Ft(!!n),bt.fromTimestamp(function(e){const s=nr(e);return new Ve(s.seconds,s.nanos)}(n))}function xg(n,t){return Pp(n,t).canonicalString()}function Pp(n,t){const e=function(a){return new ne(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Pb(n){const t=ne.fromString(n);return Ft(Bb(t)),t}function Np(n,t){return xg(n.databaseId,t.path)}function tp(n,t){const e=Pb(t);if(e.get(1)!==n.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new pt(Lb(e))}function Nb(n,t){return xg(n.databaseId,t)}function Vx(n){const t=Pb(n);return t.length===4?ne.emptyPath():Lb(t)}function Lp(n){return new ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lb(n){return Ft(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function rE(n,t,e){return{name:Np(n,t),fields:e.value.mapValue.fields}}function Mx(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Ft(v===void 0||typeof v=="string"),Xe.fromBase64String(v||"")):(Ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Xe.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const v=g.code===void 0?Z.UNKNOWN:Vb(g.code);return new ct(v,g.message||"")}(c);e=new xb(s,a,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=tp(n,s.document.name),u=bi(s.document.updateTime),c=s.document.createTime?bi(s.document.createTime):bt.min(),d=new gn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(a,u,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];e=new Oh(g,v,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=tp(n,s.document),u=s.readTime?bi(s.readTime):bt.min(),c=nn.newNoDocument(a,u),d=s.removedTargetIds||[];e=new Oh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=tp(n,s.document),u=s.removedTargetIds||[];e=new Oh([],u,a,null)}else{if(!("filter"in t))return Et();{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,c=new Ex(a,u),d=s.targetId;e=new Mb(d,c)}}return e}function xx(n,t){let e;if(t instanceof Lu)e={update:rE(n,t.key,t.value)};else if(t instanceof Dg)e={delete:Np(n,t.key)};else if(t instanceof hr)e={update:rE(n,t.key,t.data),updateMask:jx(t.fieldMask)};else{if(!(t instanceof vx))return Et();e={verify:Np(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(u,c){const d=c.transform;if(d instanceof _u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Et()}(0,s))),t.precondition.isNone||(e.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:Dx(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(n,t.precondition)),e}function Ox(n,t){return n&&n.length>0?(Ft(t!==void 0),n.map(e=>function(a,u){let c=a.updateTime?bi(a.updateTime):bi(u);return c.isEqual(bt.min())&&(c=bi(u)),new px(c,a.transformResults||[])}(e,t))):[]}function Px(n,t){return{documents:[Nb(n,t.path)]}}function Nx(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=Nb(n,a);const u=function(g){if(g.length!==0)return Ub(ei.create(g,"and"))}(t.filters);u&&(e.structuredQuery.where=u);const c=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:oo(S.field),direction:Ux(S.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=Op(n,t.limit);return d!==null&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:e,parent:a}}function Lx(n){let t=Vx(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Ft(s===1);const v=e.from[0];v.allDescendants?a=v.collectionId:t=t.child(v.collectionId)}let u=[];e.where&&(u=function(E){const S=kb(E);return S instanceof ei&&db(S)?S.getFilters():[S]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(S=>function(N){return new vu(lo(N.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(e.orderBy));let d=null;e.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,yf(S)?null:S}(e.limit));let p=null;e.startAt&&(p=function(E){const S=!!E.before,R=E.values||[];return new $h(R,S)}(e.startAt));let g=null;return e.endAt&&(g=function(E){const S=!E.before,R=E.values||[];return new $h(R,S)}(e.endAt)),ex(t,a,c,u,d,"F",p,g)}function kx(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function kb(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=lo(e.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=lo(e.unaryFilter.field);return be.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(e.unaryFilter.field);return be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=lo(e.unaryFilter.field);return be.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(n):n.fieldFilter!==void 0?function(e){return be.create(lo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return ei.create(e.compositeFilter.filters.map(s=>kb(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et()}}(e.compositeFilter.op))}(n):Et()}function Ux(n){return wx[n]}function Bx(n){return Rx[n]}function zx(n){return Ix[n]}function oo(n){return{fieldPath:n.canonicalString()}}function lo(n){return Ye.fromServerFormat(n.fieldPath)}function Ub(n){return n instanceof be?function(e){if(e.op==="=="){if(KT(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NAN"}};if(GT(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(KT(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NAN"}};if(GT(e.value))return{unaryFilter:{field:oo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(e.field),op:Bx(e.op),value:e.value}}}(n):n instanceof ei?function(e){const s=e.getFilters().map(a=>Ub(a));return s.length===1?s[0]:{compositeFilter:{op:zx(e.op),filters:s}}}(n):Et()}function jx(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Bb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t,e,s,a,u=bt.min(),c=bt.min(),d=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.Tt=t}}function Hx(n){const t=Lx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.Tn=new Gx}addToCollectionParentIndex(t,e){return this.Tn.add(e),W.resolve()}getCollectionParents(t,e){return W.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return W.resolve()}deleteFieldIndex(t,e){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,e){return W.resolve()}getDocumentsMatchingTarget(t,e){return W.resolve(null)}getIndexType(t,e){return W.resolve(0)}getFieldIndexes(t,e){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,e){return W.resolve(er.min())}getMinOffsetFromCollectionGroup(t,e){return W.resolve(er.min())}updateCollectionGroup(t,e,s){return W.resolve()}updateIndexEntries(t,e){return W.resolve()}}class Gx{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Me(ne.comparator),u=!a.has(s);return this.index[e]=a.add(s),u}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zb=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(zb,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new wo(0)}static Kn(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",Kx=1048576;function lE([n,t],[e,s]){const a=Dt(n,e);return a===0?Dt(t,s):a}class Qx{constructor(t){this.Hn=t,this.buffer=new Me(lE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();lE(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Yx{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(oE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Po(e)?ut(oE,"Ignoring IndexedDB error during garbage collection: ",e):await Oo(e)}await this.er(3e5)})}}class Xx{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return W.resolve(gf.ae);const s=new Qx(e);return this.tr.forEachTarget(t,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.tr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(aE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let s,a,u,c,d,p,g;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(t,a))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,e))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),ro()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:E})))}}function $x(n,t){return new Xx(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.changes=new ca(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?W.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(s!==null&&ou(s.mutation,a,Rn.empty(),Ve.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=Nt()){const a=ea();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,s).next(u=>{let c=Wl();return u.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const s=ea();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,Nt()))}populateOverlays(t,e,s){const a=[];return s.forEach(u=>{e.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(t,a).next(u=>{u.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,s,a){let u=ls();const c=au(),d=function(){return au()}();return e.forEach((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof hr)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ou(v.mutation,g,v.mutation.getFieldMask(),Ve.now())):c.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,v)=>c.set(g,v)),e.forEach((g,v)=>{var E;return d.set(g,new Zx(v,(E=c.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,e){const s=au();let a=new le((c,d)=>c-d),u=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=e.get(p);if(g===null)return;let v=s.get(p)||Rn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const E=(a.get(d.batchId)||Nt()).add(p);a=a.insert(d.batchId,E)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,E=Ab();v.forEach(S=>{if(!u.has(S)){const R=Cb(e.get(S),s.get(S));R!==null&&E.set(S,R),u=u.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return W.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,a){return function(c){return pt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):yb(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next(u=>{const c=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-u.size):W.resolve(ea());let d=mu,p=u;return c.next(g=>W.forEach(g,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(v)?W.resolve():this.remoteDocumentCache.getEntry(t,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Nt())).next(v=>({batchId:d,changes:Eb(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new pt(e)).next(s=>{let a=Wl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const u=e.collectionGroup;let c=Wl();return this.indexManager.getCollectionParents(t,u).next(d=>W.forEach(d,p=>{const g=function(E,S){return new No(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,a).next(v=>{v.forEach((E,S)=>{c=c.insert(E,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,u,a))).next(c=>{u.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,nn.newInvalidDocument(v)))});let d=Wl();return c.forEach((p,g)=>{const v=u.get(p);v!==void 0&&ou(v.mutation,g,Rn.empty(),Ve.now()),Tf(e,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return W.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:bi(a.createTime)}}(e)),W.resolve()}getNamedQuery(t,e){return W.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(a){return{name:a.name,query:Hx(a.bundledQuery),readTime:bi(a.readTime)}}(e)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.overlays=new le(pt.comparator),this.Rr=new Map}getOverlay(t,e){return W.resolve(this.overlays.get(e))}getOverlays(t,e){const s=ea();return W.forEach(e,a=>this.getOverlay(t,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((a,u)=>{this.Et(t,e,u)}),W.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(t,e,s){const a=ea(),u=e.length+1,c=new pt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&a.set(p.getKey(),p)}return W.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let u=new le((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ea(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return W.resolve(d)}Et(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Tx(e,s));let u=this.Rr.get(e);u===void 0&&(u=Nt(),this.Rr.set(e,u)),this.Rr.set(e,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Vr=new Me(Ue.mr),this.gr=new Me(Ue.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const s=new Ue(t,e);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.wr(new Ue(t,e))}Sr(t,e){t.forEach(s=>this.removeReference(s,e))}br(t){const e=new pt(new ne([])),s=new Ue(e,t),a=new Ue(e,t+1),u=[];return this.gr.forEachInRange([s,a],c=>{this.wr(c),u.push(c.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new pt(new ne([])),s=new Ue(e,t),a=new Ue(e,t+1);let u=Nt();return this.gr.forEachInRange([s,a],c=>{u=u.add(c.key)}),u}containsKey(t){const e=new Ue(t,0),s=this.Vr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return pt.comparator(t.key,e.key)||Dt(t.Cr,e.Cr)}static pr(t,e){return Dt(t.Cr,e.Cr)||pt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Me(Ue.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _x(u,e,s,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Ue(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return W.resolve(c)}lookupMutationBatch(t,e){return W.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Nr(s),u=a<0?0:a;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Ag:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ue(e,0),a=new Ue(e,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,a],c=>{const d=this.Or(c.Cr);u.push(d)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Me(Dt);return e.forEach(a=>{const u=new Ue(a,0),c=new Ue(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,c],d=>{s=s.add(d.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const c=new Ue(new pt(u),0);let d=new Me(Dt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Cr)),!0)},c),W.resolve(this.Br(d))}Br(t){const e=[];return t.forEach(s=>{const a=this.Or(s);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Ft(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(e.mutations,a=>{const u=new Ue(a.key,e.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,e){const s=new Ue(e,0),a=this.Mr.firstAfterOrEqual(s);return W.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.kr=t,this.docs=function(){return new le(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),u=a?a.size:0,c=this.kr(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return W.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(e))}getEntries(t,e){let s=ls();return e.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():nn.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let u=ls();const c=e.path,d=new pt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||OM(xM(v),s)<=0||(a.has(v.key)||Tf(e,v))&&(u=u.insert(v.key,v.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,e,s,a){Et()}qr(t,e){return W.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new rO(this)}getSize(t){return W.resolve(this.size)}}class rO extends Wx{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?e.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(s)}),W.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t){this.persistence=t,this.Qr=new ca(e=>wg(e),Rg),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Og,this.targetCount=0,this.Kr=wo.Un()}forEachTarget(t,e){return this.Qr.forEach((s,a)=>e(a)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.$r&&(this.$r=e),W.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new wo(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,W.resolve()}updateTargetData(t,e){return this.zn(e),W.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,e,s){let a=0;const u=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=e&&s.get(d.targetId)===null&&(this.Qr.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),W.waitFor(u).next(()=>a)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,e){const s=this.Qr.get(e)||null;return W.resolve(s)}addMatchingKeys(t,e,s){return this.Ur.yr(e,s),W.resolve()}removeMatchingKeys(t,e,s){this.Ur.Sr(e,s);const a=this.persistence.referenceDelegate,u=[];return a&&e.forEach(c=>{u.push(a.markPotentiallyOrphaned(t,c))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),W.resolve()}getMatchingKeysForTargetId(t,e){const s=this.Ur.vr(e);return W.resolve(s)}containsKey(t,e){return W.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new gf(0),this.zr=!1,this.zr=!0,this.jr=new nO,this.referenceDelegate=t(this),this.Hr=new aO(this),this.indexManager=new Fx,this.remoteDocumentCache=function(a){return new sO(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new qx(e),this.Yr=new tO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new eO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.Wr[t.toKey()];return s||(s=new iO(e,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,s){ut("MemoryPersistence","Starting transaction:",t);const a=new oO(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(u=>this.referenceDelegate.Xr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}ei(t,e){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,e)))}}class oO extends NM{constructor(t){super(),this.currentSequenceNumber=t}}class Pg{constructor(t){this.persistence=t,this.ti=new Og,this.ni=null}static ri(t){return new Pg(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,e,s){return this.ti.addReference(s,e),this.ii.delete(s.toString()),W.resolve()}removeReference(t,e,s){return this.ti.removeReference(s,e),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),W.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const a=pt.fromPath(s);return this.si(t,a).next(u=>{u||e.removeEntry(a,bt.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(s=>{s?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return W.or([()=>W.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Jh{constructor(t,e){this.persistence=t,this.oi=new ca(s=>UM(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=$x(this,e)}static ri(t,e){return new Jh(t,e)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(a=>s+a))}sr(t){let e=0;return this.rr(t,s=>{e++}).next(()=>e)}rr(t,e){return W.forEach(this.oi,(s,a)=>this.ar(t,s,a).next(u=>u?W.resolve():e(a)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.qr(t,c=>this.ar(t,c,e).next(d=>{d||(s++,u.removeEntry(c,bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),W.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,e,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),W.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Vh(t.data.value)),e}ar(t,e,s){return W.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.oi.get(e);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Hi=s,this.Ji=a}static Yi(t,e){let s=Nt(),a=Nt();for(const u of e.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Ng(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eC()?8:LM(rn())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,s,a){const u={result:null};return this.rs(t,e).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.ss(t,e,a,s).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new lO;return this._s(t,e,c).next(d=>{if(u.result=d,this.Xi)return this.us(t,e,c,d.size)})}).next(()=>u.result)}us(t,e,s,a){return s.documentReadCount<this.es?(ro()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",ao(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(ro()<=Pt.DEBUG&&ut("QueryEngine","Query:",ao(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(ro()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",ao(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(e))):W.resolve())}rs(t,e){if($T(e))return W.resolve(null);let s=Si(e);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=xp(e,null,"F"),s=Si(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const c=Nt(...u);return this.ns.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(e,d);return this.ls(e,g,c,p.readTime)?this.rs(t,xp(e,null,"F")):this.hs(t,g,e,p)}))})))}ss(t,e,s,a){return $T(e)||a.isEqual(bt.min())?W.resolve(null):this.ns.getDocuments(t,s).next(u=>{const c=this.cs(e,u);return this.ls(e,c,s,a)?W.resolve(null):(ro()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ao(e)),this.hs(t,c,e,MM(a,mu)).next(d=>d))})}cs(t,e){let s=new Me(_b(t));return e.forEach((a,u)=>{Tf(t,u)&&(s=s.add(u))}),s}ls(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}_s(t,e,s){return ro()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",ao(e)),this.ns.getDocumentsMatchingQuery(t,e,er.min(),s)}hs(t,e,s,a){return this.ns.getDocumentsMatchingQuery(t,s,a).next(u=>(e.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",cO=3e8;class hO{constructor(t,e,s,a){this.persistence=t,this.Ps=e,this.serializer=a,this.Ts=new le(Dt),this.Is=new ca(u=>wg(u),Rg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function fO(n,t,e,s){return new hO(n,t,e,s)}async function qb(n,t){const e=wt(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,e.As(t),e.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],d=[];let p=Nt();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return e.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function dO(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),u=e.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const E=g.batch,S=E.keys();let R=W.resolve();return S.forEach(N=>{R=R.next(()=>v.getEntry(p,N)).next(F=>{const z=g.docVersions.get(N);Ft(z!==null),F.version.compareTo(z)<0&&(E.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(e,s,t,u).next(()=>u.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Nt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>e.localDocuments.getDocuments(s,a))})}function Hb(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function mO(n,t){const e=wt(n),s=t.snapshotVersion;let a=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=e.ds.newChangeBuffer({trackRemovals:!0});a=e.Ts;const d=[];t.targetChanges.forEach((v,E)=>{const S=a.get(E);if(!S)return;d.push(e.Hr.removeMatchingKeys(u,v.removedDocuments,E).next(()=>e.Hr.addMatchingKeys(u,v.addedDocuments,E)));let R=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken(Xe.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(E,R),function(F,z,K){return F.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=cO?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,R,v)&&d.push(e.Hr.updateTargetData(u,R))});let p=ls(),g=Nt();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(pO(u,c,t.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!s.isEqual(bt.min())){const v=e.Hr.getLastRemoteSnapshotVersion(u).next(E=>e.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return W.waitFor(d).next(()=>c.apply(u)).next(()=>e.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(e.Ts=a,u))}function pO(n,t,e){let s=Nt(),a=Nt();return e.forEach(u=>s=s.add(u)),t.getEntries(n,s).next(u=>{let c=ls();return e.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(bt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ut(Lg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function gO(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Ag),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function yO(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return e.Hr.getTargetData(s,t).next(u=>u?(a=u,W.resolve(a)):e.Hr.allocateTargetId(s).next(c=>(a=new Ks(t,c,"TargetPurposeListen",s.currentSequenceNumber),e.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=e.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(s.targetId,s),e.Is.set(t,s.targetId)),s})}async function kp(n,t,e){const s=wt(n),a=s.Ts.get(t),u=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Po(c))throw c;ut(Lg,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ts=s.Ts.remove(t),s.Is.delete(a.target)}function uE(n,t,e){const s=wt(n);let a=bt.min(),u=Nt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const E=wt(p),S=E.Is.get(v);return S!==void 0?W.resolve(E.Ts.get(S)):E.Hr.getTargetData(g,v)}(s,c,Si(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,t,e?a:bt.min(),e?u:Nt())).next(d=>(vO(s,ix(t),d),{documents:d,gs:u})))}function vO(n,t,e){let s=n.Es.get(t)||bt.min();e.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),n.Es.set(t,s)}class cE{constructor(){this.activeTargetIds=ux()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _O{constructor(){this.ho=new cE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,s){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new cE,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(hE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(hE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Up(){return Th===null?Th=function(){return 268435456+Math.round(2147483648*Math.random())}():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",EO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AO{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(t,e,s,a,u){const c=Up(),d=this.bo(t,e.toUriEncodedString());ut(ep,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,u),this.vo(t,d,p,s).then(g=>(ut(ep,`Received RPC '${t}' ${c}: `,g),g),g=>{throw Eo(ep,`RPC '${t}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Co(t,e,s,a,u,c){return this.So(t,e,s,a,u)}Do(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}bo(t,e){const s=EO[t];return`${this.po}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class bO extends AO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,s,a){const u=Up();return new Promise((c,d)=>{const p=new QS;p.setWithCredentials(!0),p.listenOnce(YS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Dh.NO_ERROR:const v=p.getResponseJson();ut(Je,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),c(v);break;case Dh.TIMEOUT:ut(Je,`RPC '${t}' ${u} timed out`),d(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const E=p.getStatus();if(ut(Je,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const N=function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(K)>=0?K:Z.UNKNOWN}(R.status);d(new ct(N,R.message))}else d(new ct(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ut(Je,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(a);ut(Je,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",g,s,15)})}Wo(t,e,s){const a=Up(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=WS(),d=$S(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,e,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ut(Je,`Creating RPC '${t}' stream ${a}: ${v}`,p);const E=c.createWebChannel(v,p);let S=!1,R=!1;const N=new SO({Fo:z=>{R?ut(Je,`Not sending because RPC '${t}' stream ${a} is closed:`,z):(S||(ut(Je,`Opening RPC '${t}' stream ${a} transport.`),E.open(),S=!0),ut(Je,`RPC '${t}' stream ${a} sending:`,z),E.send(z))},Mo:()=>E.close()}),F=(z,K,nt)=>{z.listen(K,J=>{try{nt(J)}catch(dt){setTimeout(()=>{throw dt},0)}})};return F(E,$l.EventType.OPEN,()=>{R||(ut(Je,`RPC '${t}' stream ${a} transport opened.`),N.Qo())}),F(E,$l.EventType.CLOSE,()=>{R||(R=!0,ut(Je,`RPC '${t}' stream ${a} transport closed`),N.Uo())}),F(E,$l.EventType.ERROR,z=>{R||(R=!0,Eo(Je,`RPC '${t}' stream ${a} transport errored:`,z),N.Uo(new ct(Z.UNAVAILABLE,"The operation could not be completed")))}),F(E,$l.EventType.MESSAGE,z=>{var K;if(!R){const nt=z.data[0];Ft(!!nt);const J=nt,dt=(J==null?void 0:J.error)||((K=J[0])===null||K===void 0?void 0:K.error);if(dt){ut(Je,`RPC '${t}' stream ${a} received error:`,dt);const tt=dt.status;let at=function(I){const x=Se[I];if(x!==void 0)return Vb(x)}(tt),V=dt.message;at===void 0&&(at=Z.INTERNAL,V="Unknown error status: "+tt+" with message "+dt.message),R=!0,N.Uo(new ct(at,V)),E.close()}else ut(Je,`RPC '${t}' stream ${a} received:`,nt),N.Ko(nt)}}),F(d,XS.STAT_EVENT,z=>{z.stat===wp.PROXY?ut(Je,`RPC '${t}' stream ${a} detected buffering proxy`):z.stat===wp.NOPROXY&&ut(Je,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n){return new Cx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,e,s=1e3,a=1.5,u=6e4){this.Ti=t,this.timerId=e,this.Go=s,this.zo=a,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,e-s);a>0&&ut("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class Gb{constructor(t,e,s,a,u,c,d,p){this.Ti=t,this.n_=s,this.r_=a,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Fb(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(os(e.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===e&&this.V_(s,a)},s=>{t(()=>{const a=new ct(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(t,e){const s=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(dE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(ut(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wO extends Gb{constructor(t,e,s,a,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=Mx(this.serializer,t),s=function(u){if(!("targetChange"in u))return bt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?bt.min():c.readTime?bi(c.readTime):bt.min()}(t);return this.listener.p_(e,s)}y_(t){const e={};e.database=Lp(this.serializer),e.addTarget=function(u,c){let d;const p=c.target;if(d=Vp(p)?{documents:Px(u,p)}:{query:Nx(u,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Ob(u,c.resumeToken);const g=Op(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(bt.min())>0){d.readTime=Zh(u,c.snapshotVersion.toTimestamp());const g=Op(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=kx(this.serializer,t);s&&(e.labels=s),this.I_(e)}w_(t){const e={};e.database=Lp(this.serializer),e.removeTarget=t,this.I_(e)}}class RO extends Gb{constructor(t,e,s,a,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,c),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=Ox(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.v_(s,e)}C_(){const t={};t.database=Lp(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>xx(this.serializer,s))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{}class CO extends IO{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.So(t,Pp(e,s),a,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())})}Co(t,e,s,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,Pp(e,s),a,c,d,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class DO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(os(e),this.N_=!1):ut("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class VO{constructor(t,e,s,a,u){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(c=>{s.enqueueAndForget(async()=>{ha(this)&&(ut(ua,"Restarting streams for network reachability change."),await async function(p){const g=wt(p);g.W_.add(4),await Uu(g),g.j_.set("Unknown"),g.W_.delete(4),await wf(g)}(this))})}),this.j_=new DO(s,a)}}async function wf(n){if(ha(n))for(const t of n.G_)await t(!0)}async function Uu(n){for(const t of n.G_)await t(!1)}function Kb(n,t){const e=wt(n);e.K_.has(t.targetId)||(e.K_.set(t.targetId,t),zg(e)?Bg(e):Lo(e).c_()&&Ug(e,t))}function kg(n,t){const e=wt(n),s=Lo(e);e.K_.delete(t),s.c_()&&Qb(e,t),e.K_.size===0&&(s.c_()?s.P_():ha(e)&&e.j_.set("Unknown"))}function Ug(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Lo(n).y_(t)}function Qb(n,t){n.H_.Ne(t),Lo(n).w_(t)}function Bg(n){n.H_=new bx({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.K_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Lo(n).start(),n.j_.B_()}function zg(n){return ha(n)&&!Lo(n).u_()&&n.K_.size>0}function ha(n){return wt(n).W_.size===0}function Yb(n){n.H_=void 0}async function MO(n){n.j_.set("Online")}async function xO(n){n.K_.forEach((t,e)=>{Ug(n,t)})}async function OO(n,t){Yb(n),zg(n)?(n.j_.q_(t),Bg(n)):n.j_.set("Unknown")}async function PO(n,t,e){if(n.j_.set("Online"),t instanceof xb&&t.state===2&&t.cause)try{await async function(a,u){const c=u.cause;for(const d of u.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(n,t)}catch(s){ut(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await tf(n,s)}else if(t instanceof Oh?n.H_.We(t):t instanceof Mb?n.H_.Ze(t):n.H_.je(t),!e.isEqual(bt.min()))try{const s=await Hb(n.localStore);e.compareTo(s)>=0&&await function(u,c){const d=u.H_.ot(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(Xe.EMPTY_BYTE_STRING,v.snapshotVersion)),Qb(u,p);const E=new Ks(v.target,p,g,v.sequenceNumber);Ug(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(n,e)}catch(s){ut(ua,"Failed to raise snapshot:",s),await tf(n,s)}}async function tf(n,t,e){if(!Po(t))throw t;n.W_.add(1),await Uu(n),n.j_.set("Offline"),e||(e=()=>Hb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ut(ua,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await wf(n)})}function Xb(n,t){return t().catch(e=>tf(n,e,t))}async function Rf(n){const t=wt(n),e=rr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Ag;for(;NO(t);)try{const a=await gO(t.localStore,s);if(a===null){t.U_.length===0&&e.P_();break}s=a.batchId,LO(t,a)}catch(a){await tf(t,a)}$b(t)&&Wb(t)}function NO(n){return ha(n)&&n.U_.length<10}function LO(n,t){n.U_.push(t);const e=rr(n);e.c_()&&e.S_&&e.b_(t.mutations)}function $b(n){return ha(n)&&!rr(n).u_()&&n.U_.length>0}function Wb(n){rr(n).start()}async function kO(n){rr(n).C_()}async function UO(n){const t=rr(n);for(const e of n.U_)t.b_(e.mutations)}async function BO(n,t,e){const s=n.U_.shift(),a=Vg.from(s,t,e);await Xb(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Rf(n)}async function zO(n,t){t&&rr(n).S_&&await async function(s,a){if(function(c){return Ax(c)&&c!==Z.ABORTED}(a.code)){const u=s.U_.shift();rr(s).h_(),await Xb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await Rf(s)}}(n,t),$b(n)&&Wb(n)}async function mE(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),ut(ua,"RemoteStore received new credentials");const s=ha(e);e.W_.add(3),await Uu(e),s&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await wf(e)}async function jO(n,t){const e=wt(n);t?(e.W_.delete(2),await wf(e)):t||(e.W_.add(2),await Uu(e),e.j_.set("Unknown"))}function Lo(n){return n.J_||(n.J_=function(e,s,a){const u=wt(e);return u.M_(),new wO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{xo:MO.bind(null,n),No:xO.bind(null,n),Lo:OO.bind(null,n),p_:PO.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),zg(n)?Bg(n):n.j_.set("Unknown")):(await n.J_.stop(),Yb(n))})),n.J_}function rr(n){return n.Y_||(n.Y_=function(e,s,a){const u=wt(e);return u.M_(),new RO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:kO.bind(null,n),Lo:zO.bind(null,n),D_:UO.bind(null,n),v_:BO.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await Rf(n)):(await n.Y_.stop(),n.U_.length>0&&(ut(ua,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t,e,s,a,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,u){const c=Date.now()+s,d=new jg(t,e,c,a,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(n,t){if(os("AsyncQueue",`${t}: ${n}`),Po(n))return new ct(Z.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(t){return new _o(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||pt.comparator(e.key,s.key):(e,s)=>pt.comparator(e.key,s.key),this.keyedMap=Wl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _o)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new _o;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.Z_=new le(pt.comparator)}track(t){const e=t.doc.key,s=this.Z_.get(e);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(e):t.type===1&&s.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,s)=>{t.push(s)}),t}}class Ro{constructor(t,e,s,a,u,c,d,p,g){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,e,s,a,u){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new Ro(t,e,_o.emptySet(e),c,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class HO{constructor(){this.queries=gE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,s){const a=wt(e),u=a.queries;a.queries=gE(),u.forEach((c,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function gE(){return new ca(n=>vb(n),_f)}async function Zb(n,t){const e=wt(n);let s=3;const a=t.query;let u=e.queries.get(a);u?!u.na()&&t.ra()&&(s=2):(u=new qO,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await e.onListen(a,!0);break;case 1:u.ea=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const d=qg(c,`Initialization of query '${ao(t.query)}' failed`);return void t.onError(d)}e.queries.set(a,u),u.ta.push(t),t.sa(e.onlineState),u.ea&&t.oa(u.ea)&&Hg(e)}async function Jb(n,t){const e=wt(n),s=t.query;let a=3;const u=e.queries.get(s);if(u){const c=u.ta.indexOf(t);c>=0&&(u.ta.splice(c,1),u.ta.length===0?a=t.ra()?0:1:!u.na()&&t.ra()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function FO(n,t){const e=wt(n);let s=!1;for(const a of t){const u=a.query,c=e.queries.get(u);if(c){for(const d of c.ta)d.oa(a)&&(s=!0);c.ea=a}}s&&Hg(e)}function GO(n,t,e){const s=wt(n),a=s.queries.get(t);if(a)for(const u of a.ta)u.onError(e);s.queries.delete(t)}function Hg(n){n.ia.forEach(t=>{t.next()})}var Bp,yE;(yE=Bp||(Bp={}))._a="default",yE.Cache="cache";class tw{constructor(t,e,s){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new Ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const s=e!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t){this.key=t}}class nw{constructor(t){this.key=t}}class KO{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=_b(t),this.wa=new _o(this.ya)}get Sa(){return this.fa}ba(t,e){const s=e?e.Da:new pE,a=e?e.wa:this.wa;let u=e?e.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((v,E)=>{const S=a.get(v),R=Tf(this.query,E)?E:null,N=!!S&&this.mutatedKeys.has(S.key),F=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;S&&R?S.data.isEqual(R.data)?N!==F&&(s.track({type:3,doc:R}),z=!0):this.va(S,R)||(s.track({type:2,doc:R}),z=!0,(p&&this.ya(R,p)>0||g&&this.ya(R,g)<0)&&(d=!0)):!S&&R?(s.track({type:0,doc:R}),z=!0):S&&!R&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(d=!0)),z&&(R?(c=c.add(R),u=F?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:c,Da:s,ls:d,mutatedKeys:u}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((v,E)=>function(R,N){const F=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return F(R)-F(N)}(v.type,E.type)||this.ya(v.doc,E.doc)),this.Ca(s),a=a!=null&&a;const d=e&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new Ro(this.query,t.wa,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const e=[];return t.forEach(s=>{this.pa.has(s)||e.push(new nw(s))}),this.pa.forEach(s=>{t.has(s)||e.push(new ew(s))}),e}Oa(t){this.fa=t.gs,this.pa=Nt();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return Ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fg="SyncEngine";class QO{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class YO{constructor(t){this.key=t,this.Ba=!1}}class XO{constructor(t,e,s,a,u,c){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ca(d=>vb(d),_f),this.qa=new Map,this.Qa=new Set,this.$a=new le(pt.comparator),this.Ua=new Map,this.Ka=new Og,this.Wa={},this.Ga=new Map,this.za=wo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function $O(n,t,e=!0){const s=lw(n);let a;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Na()):a=await iw(s,t,e,!0),a}async function WO(n,t){const e=lw(n);await iw(e,t,!0,!1)}async function iw(n,t,e,s){const a=await yO(n.localStore,Si(t)),u=a.targetId,c=n.sharedClientState.addLocalQueryTarget(u,e);let d;return s&&(d=await ZO(n,t,u,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&Kb(n.remoteStore,a),d}async function ZO(n,t,e,s,a){n.Ha=(E,S,R)=>async function(F,z,K,nt){let J=z.view.ba(K);J.ls&&(J=await uE(F.localStore,z.query,!1).then(({documents:V})=>z.view.ba(V,J)));const dt=nt&&nt.targetChanges.get(z.targetId),tt=nt&&nt.targetMismatches.get(z.targetId)!=null,at=z.view.applyChanges(J,F.isPrimaryClient,dt,tt);return _E(F,z.targetId,at.Ma),at.snapshot}(n,E,S,R);const u=await uE(n.localStore,t,!0),c=new KO(t,u.gs),d=c.ba(u.documents),p=ku.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);_E(n,e,g.Ma);const v=new QO(t,e,c);return n.ka.set(t,v),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),g.snapshot}async function JO(n,t,e){const s=wt(n),a=s.ka.get(t),u=s.qa.get(a.targetId);if(u.length>1)return s.qa.set(a.targetId,u.filter(c=>!_f(c,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await kp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),e&&kg(s.remoteStore,a.targetId),zp(s,a.targetId)}).catch(Oo)):(zp(s,a.targetId),await kp(s.localStore,a.targetId,!0))}async function t2(n,t){const e=wt(n),s=e.ka.get(t),a=e.qa.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),kg(e.remoteStore,s.targetId))}async function e2(n,t,e){const s=l2(n);try{const a=await function(c,d){const p=wt(c),g=Ve.now(),v=d.reduce((R,N)=>R.add(N.key),Nt());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=ls(),F=Nt();return p.ds.getEntries(R,v).next(z=>{N=z,N.forEach((K,nt)=>{nt.isValidDocument()||(F=F.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(R,N)).next(z=>{E=z;const K=[];for(const nt of d){const J=yx(nt,E.get(nt.key).overlayedDocument);J!=null&&K.push(new hr(nt.key,J,cb(J.value.mapValue),qn.exists(!0)))}return p.mutationQueue.addMutationBatch(R,g,K,d)}).next(z=>{S=z;const K=z.applyToLocalDocumentSet(E,F);return p.documentOverlayCache.saveOverlays(R,z.batchId,K)})}).then(()=>({batchId:S.batchId,changes:Eb(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new le(Dt)),g=g.insert(d,p),c.Wa[c.currentUser.toKey()]=g}(s,a.batchId,e),await Bu(s,a.changes),await Rf(s.remoteStore)}catch(a){const u=qg(a,"Failed to persist write");e.reject(u)}}async function sw(n,t){const e=wt(n);try{const s=await mO(e.localStore,t);t.targetChanges.forEach((a,u)=>{const c=e.Ua.get(u);c&&(Ft(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Ft(c.Ba):a.removedDocuments.size>0&&(Ft(c.Ba),c.Ba=!1))}),await Bu(e,s,t)}catch(s){await Oo(s)}}function vE(n,t,e){const s=wt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.ka.forEach((u,c)=>{const d=c.view.sa(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach((v,E)=>{for(const S of E.ta)S.sa(d)&&(g=!0)}),g&&Hg(p)}(s.eventManager,t),a.length&&s.La.p_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function n2(n,t,e){const s=wt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Ua.get(t),u=a&&a.key;if(u){let c=new le(pt.comparator);c=c.insert(u,nn.newNoDocument(u,bt.min()));const d=Nt().add(u),p=new Sf(bt.min(),new Map,new le(Dt),c,d);await sw(s,p),s.$a=s.$a.remove(u),s.Ua.delete(t),Gg(s)}else await kp(s.localStore,t,!1).then(()=>zp(s,t,e)).catch(Oo)}async function i2(n,t){const e=wt(n),s=t.batch.batchId;try{const a=await dO(e.localStore,t);aw(e,s,null),rw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(e,a)}catch(a){await Oo(a)}}async function s2(n,t,e){const s=wt(n);try{const a=await function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>(Ft(E!==null),v=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,t);aw(s,t,e),rw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Bu(s,a)}catch(a){await Oo(a)}}function rw(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function aw(n,t,e){const s=wt(n);let a=s.Wa[s.currentUser.toKey()];if(a){const u=a.get(t);u&&(e?u.reject(e):u.resolve(),a=a.remove(t)),s.Wa[s.currentUser.toKey()]=a}}function zp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.qa.get(t))n.ka.delete(s),e&&n.La.Ja(s,e);n.qa.delete(t),n.isPrimaryClient&&n.Ka.br(t).forEach(s=>{n.Ka.containsKey(s)||ow(n,s)})}function ow(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(kg(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ua.delete(e),Gg(n))}function _E(n,t,e){for(const s of e)s instanceof ew?(n.Ka.addReference(s.key,t),r2(n,s)):s instanceof nw?(ut(Fg,"Document no longer in limbo: "+s.key),n.Ka.removeReference(s.key,t),n.Ka.containsKey(s.key)||ow(n,s.key)):Et()}function r2(n,t){const e=t.key,s=e.path.canonicalString();n.$a.get(e)||n.Qa.has(s)||(ut(Fg,"New document in limbo: "+e),n.Qa.add(s),Gg(n))}function Gg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new pt(ne.fromString(t)),s=n.za.next();n.Ua.set(s,new YO(e)),n.$a=n.$a.insert(e,s),Kb(n.remoteStore,new Ks(Si(Ig(e.path)),s,"TargetPurposeLimboResolution",gf.ae))}}async function Bu(n,t,e){const s=wt(n),a=[],u=[],c=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{c.push(s.Ha(p,t,e).then(g=>{var v;if((g||e)&&s.isPrimaryClient){const E=g?!g.fromCache:(v=e==null?void 0:e.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){a.push(g);const E=Ng.Yi(p.targetId,g);u.push(E)}}))}),await Promise.all(c),s.La.p_(a),await async function(p,g){const v=wt(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>W.forEach(g,S=>W.forEach(S.Hi,R=>v.persistence.referenceDelegate.addReference(E,S.targetId,R)).next(()=>W.forEach(S.Ji,R=>v.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))}catch(E){if(!Po(E))throw E;ut(Lg,"Failed to update sequence numbers: "+E)}for(const E of g){const S=E.targetId;if(!E.fromCache){const R=v.Ts.get(S),N=R.snapshotVersion,F=R.withLastLimboFreeSnapshotVersion(N);v.Ts=v.Ts.insert(S,F)}}}(s.localStore,u))}async function a2(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){ut(Fg,"User change. New user:",t.toKey());const s=await qb(e.localStore,t);e.currentUser=t,function(u,c){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ct(Z.CANCELLED,c))})}),u.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bu(e,s.Rs)}}function o2(n,t){const e=wt(n),s=e.Ua.get(t);if(s&&s.Ba)return Nt().add(s.key);{let a=Nt();const u=e.qa.get(t);if(!u)return a;for(const c of u){const d=e.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function lw(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=sw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=o2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=n2.bind(null,t),t.La.p_=FO.bind(null,t.eventManager),t.La.Ja=GO.bind(null,t.eventManager),t}function l2(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=i2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s2.bind(null,t),t}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return fO(this.persistence,new uO,t.initialUser,this.serializer)}Xa(t){return new jb(Pg.ri,this.serializer)}Za(t){return new _O}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class u2 extends ef{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Ft(this.persistence.referenceDelegate instanceof Jh);const s=this.persistence.referenceDelegate.garbageCollector;return new Yx(s,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new jb(s=>Jh.ri(s,e),this.serializer)}}class jp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=a2.bind(null,this.syncEngine),await jO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new HO}()}createDatastore(t){const e=bf(t.databaseInfo.databaseId),s=function(u){return new bO(u)}(t.databaseInfo);return function(u,c,d,p){return new CO(u,c,d,p)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,a,u,c,d){return new VO(s,a,u,c,d)}(this.localStore,this.datastore,t.asyncQueue,e=>vE(this.syncEngine,e,0),function(){return fE.D()?new fE:new TO}())}createSyncEngine(t,e){return function(a,u,c,d,p,g,v){const E=new XO(a,u,c,d,p,g);return v&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const u=wt(a);ut(ua,"RemoteStore shutting down."),u.W_.add(5),await Uu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="FirestoreClient";class c2{constructor(t,e,s,a,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=tb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async c=>{ut(ar,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ut(ar,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=qg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ip(n,t){n.asyncQueue.verifyOperationInProgress(),ut(ar,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await qb(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function TE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await h2(n);ut(ar,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>mE(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>mE(t.remoteStore,a)),n._onlineComponents=t}async function h2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ut(ar,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;Eo("Error using user provided cache. Falling back to memory cache: "+e),await ip(n,new ef)}}else ut(ar,"Using default OfflineComponentProvider"),await ip(n,new u2(void 0));return n._offlineComponents}async function cw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ut(ar,"Using user provided OnlineComponentProvider"),await TE(n,n._uninitializedComponentsProvider._online)):(ut(ar,"Using default OnlineComponentProvider"),await TE(n,new jp))),n._onlineComponents}function f2(n){return cw(n).then(t=>t.syncEngine)}async function qp(n){const t=await cw(n),e=t.eventManager;return e.onListen=$O.bind(null,t.syncEngine),e.onUnlisten=JO.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=WO.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=t2.bind(null,t.syncEngine),e}function d2(n,t,e={}){const s=new Zs;return n.asyncQueue.enqueueAndForget(async()=>function(u,c,d,p,g){const v=new uw({next:S=>{v.su(),c.enqueueAndForget(()=>Jb(u,E)),S.fromCache&&p.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new tw(d,v,{includeMetadataChanges:!0,Ta:!0});return Zb(u,E)}(await qp(n),n.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n,t,e){if(!e)throw new ct(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function m2(n,t,e,s){if(t===!0&&s===!0)throw new ct(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function AE(n){if(!pt.isDocumentKey(n))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SE(n){if(pt.isDocumentKey(n))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function If(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Et()}function Hn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=If(n);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firestore.googleapis.com",bE=!0;class wE{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dw,this.ssl=bE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:bE;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kx)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}m2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hw((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cf{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AM;switch(s.type){case"firstParty":return new RM(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=EE.get(e);s&&(ut("ComponentProvider","Removing Datastore"),EE.delete(e),s.terminate())}(this),Promise.resolve()}}function p2(n,t,e,s={}){var a;const u=(n=Hn(n,Cf))._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${e}`;u.host!==dw&&u.host!==d&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!ra(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=en.MOCK_USER;else{g=YI(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(E)}n._authCredentials=new SM(new ZS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new fr(this.firestore,t,this._query)}}class hn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class Js extends fr{constructor(t,e,s){super(t,e,Ig(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new pt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function Ph(n,t,...e){if(n=Be(n),fw("collection","path",t),n instanceof Cf){const s=ne.fromString(t,...e);return SE(s),new Js(n,null,s)}{if(!(n instanceof hn||n instanceof Js))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ne.fromString(t,...e));return SE(s),new Js(n.firestore,null,s)}}function ta(n,t,...e){if(n=Be(n),arguments.length===1&&(t=tb.newId()),fw("doc","path",t),n instanceof Cf){const s=ne.fromString(t,...e);return AE(s),new hn(n,null,new pt(s))}{if(!(n instanceof hn||n instanceof Js))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ne.fromString(t,...e));return AE(s),new hn(n.firestore,n instanceof Js?n.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class IE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Fb(this,"async_queue_retry"),this.Su=()=>{const s=np();s&&ut(RE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Zs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Po(t))throw t;ut(RE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw os("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=e,e}enqueueAfterDelay(t,e,s){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const a=jg.createAndSchedule(this,t,e,s,u=>this.Fu(u));return this.fu.push(a),a}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function CE(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const u of s)if(u in a&&typeof a[u]=="function")return!0;return!1}(n,["next","error","complete"])}class or extends Cf{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new IE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IE(t),this._firestoreClient=void 0,await t}}}function g2(n,t){const e=typeof n=="object"?n:hS(),s=typeof n=="string"?n:Yh,a=fg(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=KI("firestore");u&&p2(a,...u)}return a}function Kg(n){if(n._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||y2(n),n._firestoreClient}function y2(n){var t,e,s;const a=n._freezeSettings(),u=function(d,p,g,v){return new jM(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,hw(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new c2(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Io(Xe.fromBase64String(t))}catch(e){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Io(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^__.*__$/;class _2{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new hr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Lu(t,this.data,e,this.fieldTransforms)}}class mw{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new hr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function pw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Xg{constructor(t,e,s,a,u,c){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Xg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:s,Qu:!1});return a.$u(t),a}Uu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return nf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(pw(this.Lu)&&v2.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class T2{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||bf(t)}ju(t,e,s,a=!1){return new Xg({Lu:t,methodName:e,zu:s,path:Ye.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mf(n){const t=n._freezeSettings(),e=bf(n._databaseId);return new T2(n._databaseId,!!t.ignoreUndefinedProperties,e)}function gw(n,t,e,s,a,u={}){const c=n.ju(u.merge||u.mergeFields?2:0,t,e,a);Wg("Data must be an object, but it was:",c,s);const d=yw(s,c);let p,g;if(u.merge)p=new Rn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const E of u.mergeFields){const S=Hp(t,E,e);if(!c.contains(S))throw new ct(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);_w(v,S)||v.push(S)}p=new Rn(v),g=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=c.fieldTransforms;return new _2(new gn(d),p,g)}class xf extends Vf{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xf}}class $g extends Vf{_toFieldTransform(t){return new dx(t.path,new _u)}isEqual(t){return t instanceof $g}}function E2(n,t,e,s){const a=n.ju(1,t,e);Wg("Data must be an object, but it was:",a,s);const u=[],c=gn.empty();cr(s,(p,g)=>{const v=Zg(t,p,e);g=Be(g);const E=a.Uu(v);if(g instanceof xf)u.push(v);else{const S=zu(g,E);S!=null&&(u.push(v),c.set(v,S))}});const d=new Rn(u);return new mw(c,d,a.fieldTransforms)}function A2(n,t,e,s,a,u){const c=n.ju(1,t,e),d=[Hp(t,s,e)],p=[a];if(u.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)d.push(Hp(t,u[S])),p.push(u[S+1]);const g=[],v=gn.empty();for(let S=d.length-1;S>=0;--S)if(!_w(g,d[S])){const R=d[S];let N=p[S];N=Be(N);const F=c.Uu(R);if(N instanceof xf)g.push(R);else{const z=zu(N,F);z!=null&&(g.push(R),v.set(R,z))}}const E=new Rn(g);return new mw(v,E,c.fieldTransforms)}function S2(n,t,e,s=!1){return zu(e,n.ju(s?4:3,t))}function zu(n,t){if(vw(n=Be(n)))return Wg("Unsupported field value:",t,n),yw(n,t);if(n instanceof Vf)return function(s,a){if(!pw(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,a){const u=[];let c=0;for(const d of s){let p=zu(d,a.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}}(n,t)}return function(s,a){if((s=Be(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cx(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ve.fromDate(s);return{timestampValue:Zh(a.serializer,u)}}if(s instanceof Ve){const u=new Ve(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(a.serializer,u)}}if(s instanceof Qg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Io)return{bytesValue:Ob(a.serializer,s._byteString)};if(s instanceof hn){const u=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Yg)return function(c,d){return{mapValue:{fields:{[lb]:{stringValue:ub},[Xh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Cg(d.serializer,g)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${If(s)}`)}(n,t)}function yw(n,t){const e={};return nb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cr(n,(s,a)=>{const u=zu(a,t.qu(s));u!=null&&(e[s]=u)}),{mapValue:{fields:e}}}function vw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ve||n instanceof Qg||n instanceof Io||n instanceof hn||n instanceof Vf||n instanceof Yg)}function Wg(n,t,e){if(!vw(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const s=If(e);throw s==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+s)}}function Hp(n,t,e){if((t=Be(t))instanceof Df)return t._internalPath;if(typeof t=="string")return Zg(n,t);throw nf("Field path arguments must be of type string or ",n,!1,void 0,e)}const b2=new RegExp("[~\\*/\\[\\]]");function Zg(n,t,e){if(t.search(b2)>=0)throw nf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Df(...t.split("."))._internalPath}catch{throw nf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function nf(n,t,e,s,a){const u=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new ct(Z.INVALID_ARGUMENT,d+n+p)}function _w(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,e,s,a,u){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new w2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Of("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class w2 extends Tw{data(){return super.data()}}function Of(n,t){return typeof t=="string"?Zg(n,t):t instanceof Df?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class Aw extends Jg{}function DE(n,t,...e){let s=[];t instanceof Jg&&s.push(t),s=s.concat(e),function(u){const c=u.filter(p=>p instanceof ty).length,d=u.filter(p=>p instanceof Pf).length;if(c>1||c>0&&d>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Pf extends Aw{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Pf(t,e,s)}_apply(t){const e=this._parse(t);return Sw(t._query,e),new fr(t.firestore,t.converter,Mp(t._query,e))}_parse(t){const e=Mf(t.firestore);return function(u,c,d,p,g,v,E){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){OE(E,v);const N=[];for(const F of E)N.push(xE(p,u,F));S={arrayValue:{values:N}}}else S=xE(p,u,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||OE(E,v),S=S2(d,c,E,v==="in"||v==="not-in");return be.create(g,v,S)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function VE(n,t,e){const s=t,a=Of("where",n);return Pf._create(a,s,e)}class ty extends Jg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new ty(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:ei.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,u){let c=a;const d=u.getFlattenedFilters();for(const p of d)Sw(c,p),c=Mp(c,p)}(t._query,e),new fr(t.firestore,t.converter,Mp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends Aw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new ey(t,e)}_apply(t){const e=function(a,u,c){if(a.startAt!==null)throw new ct(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(u,c)}(t._query,this._field,this._direction);return new fr(t.firestore,t.converter,function(a,u){const c=a.explicitOrderBy.concat([u]);return new No(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function ME(n,t="asc"){const e=t,s=Of("orderBy",n);return ey._create(s,e)}function xE(n,t,e){if(typeof(e=Be(e))=="string"){if(e==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yb(t)&&e.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ne.fromString(e));if(!pt.isDocumentKey(s))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return FT(n,new pt(s))}if(e instanceof hn)return FT(n,e._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(e)}.`)}function OE(n,t){if(!Array.isArray(n)||n.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Sw(n,t){const e=function(a,u){for(const c of a)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class R2{convertValue(t,e="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return cr(t,(a,u)=>{s[a]=this.convertValue(u,e)}),s}convertVectorValue(t){var e,s,a;const u=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[Xh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>ye(c.doubleValue));return new Yg(u)}convertGeoPoint(t){return new Qg(ye(t.latitude),ye(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=vf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(pu(t));default:return null}}convertTimestamp(t){const e=nr(t);return new Ve(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ne.fromString(t);Ft(Bb(s));const a=new gu(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return a.isEqual(e)||os(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ww extends Tw{constructor(t,e,s,a,u,c){super(t,e,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Of("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Nh extends ww{data(t={}){return super.data(t)}}class Rw{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Jl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new Nh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Nh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Jl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Nh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Jl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:I2(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function I2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}class ny extends R2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Io(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,e)}}function C2(n){n=Hn(n,fr);const t=Hn(n.firestore,or),e=Kg(t),s=new ny(t);return Ew(n._query),d2(e,n._query).then(a=>new Rw(t,s,n,a))}function Iw(n,t,e){n=Hn(n,hn);const s=Hn(n.firestore,or),a=bw(n.converter,t,e);return Nf(s,[gw(Mf(s),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,qn.none())])}function PE(n,t,e,...s){n=Hn(n,hn);const a=Hn(n.firestore,or),u=Mf(a);let c;return c=typeof(t=Be(t))=="string"||t instanceof Df?A2(u,"updateDoc",n._key,t,e,s):E2(u,"updateDoc",n._key,t),Nf(a,[c.toMutation(n._key,qn.exists(!0))])}function NE(n){return Nf(Hn(n.firestore,or),[new Dg(n._key,qn.none())])}function D2(n,t){const e=Hn(n.firestore,or),s=ta(n),a=bw(n.converter,t);return Nf(e,[gw(Mf(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,qn.exists(!1))]).then(()=>s)}function LE(n,...t){var e,s,a;n=Be(n);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||CE(t[c])||(u=t[c],c++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(CE(t[c])){const E=t[c];t[c]=(e=E.next)===null||e===void 0?void 0:e.bind(E),t[c+1]=(s=E.error)===null||s===void 0?void 0:s.bind(E),t[c+2]=(a=E.complete)===null||a===void 0?void 0:a.bind(E)}let p,g,v;if(n instanceof hn)g=Hn(n.firestore,or),v=Ig(n._key.path),p={next:E=>{t[c]&&t[c](V2(g,n,E))},error:t[c+1],complete:t[c+2]};else{const E=Hn(n,fr);g=Hn(E.firestore,or),v=E._query;const S=new ny(g);p={next:R=>{t[c]&&t[c](new Rw(g,S,E,R))},error:t[c+1],complete:t[c+2]},Ew(n._query)}return function(S,R,N,F){const z=new uw(F),K=new tw(R,z,N);return S.asyncQueue.enqueueAndForget(async()=>Zb(await qp(S),K)),()=>{z.su(),S.asyncQueue.enqueueAndForget(async()=>Jb(await qp(S),K))}}(Kg(g),v,d,p)}function Nf(n,t){return function(s,a){const u=new Zs;return s.asyncQueue.enqueueAndForget(async()=>e2(await f2(s),a,u)),u.promise}(Kg(n),t)}function V2(n,t,e){const s=e.docs.get(t._key),a=new ny(n);return new ww(n,a,t._key,s,new Jl(e.hasPendingWrites,e.fromCache),t.converter)}function tu(){return new $g("serverTimestamp")}(function(t,e=!0){(function(a){xo=a})(Vo),To(new aa("firestore",(s,{instanceIdentifier:a,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new or(new bM(s.getProvider("auth-internal")),new IM(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,v)}(c,a),c);return u=Object.assign({useFetchStreams:e},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Xs(xT,OT,t),Xs(xT,OT,"esm2017")})();const M2={apiKey:"AIzaSyAkrMumPyUy3pBzSwxSLdHSJdgQoc6vtkk",authDomain:"chat-room-e4c93.firebaseapp.com",projectId:"chat-room-e4c93",storageBucket:"chat-room-e4c93.firebasestorage.app",messagingSenderId:"605187781939",appId:"1:605187781939:web:7d4ac84734ae72b83eba46"},Cw=cS(M2),_i=g2(Cw),Zn=vM(Cw),iy=ot.createContext({});function sy(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const ry=typeof window<"u",Dw=ry?ot.useLayoutEffect:ot.useEffect,Lf=ot.createContext(null),ay=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class x2 extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const s=e.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function O2({children:n,isPresent:t,anchorX:e}){const s=ot.useId(),a=ot.useRef(null),u=ot.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=ot.useContext(ay);return ot.useInsertionEffect(()=>{const{width:d,height:p,top:g,left:v,right:E}=u.current;if(t||!a.current||!d||!p)return;const S=e==="left"?`left: ${v}`:`right: ${E}`;a.current.dataset.motionPopId=s;const R=document.createElement("style");return c&&(R.nonce=c),document.head.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{document.head.removeChild(R)}},[t]),It.jsx(x2,{isPresent:t,childRef:a,sizeRef:u,children:ot.cloneElement(n,{ref:a})})}const P2=({children:n,initial:t,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:u,mode:c,anchorX:d})=>{const p=sy(N2),g=ot.useId();let v=!0,E=ot.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:e,custom:a,onExitComplete:S=>{p.set(S,!0);for(const R of p.values())if(!R)return;s&&s()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[e,p,s]);return u&&v&&(E={...E}),ot.useMemo(()=>{p.forEach((S,R)=>p.set(R,!1))},[e]),ot.useEffect(()=>{!e&&!p.size&&s&&s()},[e]),c==="popLayout"&&(n=It.jsx(O2,{isPresent:e,anchorX:d,children:n})),It.jsx(Lf.Provider,{value:E,children:n})};function N2(){return new Map}function Vw(n=!0){const t=ot.useContext(Lf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:s,register:a}=t,u=ot.useId();ot.useEffect(()=>{if(n)return a(u)},[n]);const c=ot.useCallback(()=>n&&s&&s(u),[u,s,n]);return!e&&s?[!1,c]:[!0]}const Eh=n=>n.key||"";function kE(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const Mw=({children:n,custom:t,initial:e=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:u="sync",propagate:c=!1,anchorX:d="left"})=>{const[p,g]=Vw(c),v=ot.useMemo(()=>kE(n),[n]),E=c&&!p?[]:v.map(Eh),S=ot.useRef(!0),R=ot.useRef(v),N=sy(()=>new Map),[F,z]=ot.useState(v),[K,nt]=ot.useState(v);Dw(()=>{S.current=!1,R.current=v;for(let tt=0;tt<K.length;tt++){const at=Eh(K[tt]);E.includes(at)?N.delete(at):N.get(at)!==!0&&N.set(at,!1)}},[K,E.length,E.join("-")]);const J=[];if(v!==F){let tt=[...v];for(let at=0;at<K.length;at++){const V=K[at],w=Eh(V);E.includes(w)||(tt.splice(at,0,V),J.push(V))}return u==="wait"&&J.length&&(tt=J),nt(kE(tt)),z(v),null}const{forceRender:dt}=ot.useContext(iy);return It.jsx(It.Fragment,{children:K.map(tt=>{const at=Eh(tt),V=c&&!p?!1:v===K||E.includes(at),w=()=>{if(N.has(at))N.set(at,!0);else return;let I=!0;N.forEach(x=>{x||(I=!1)}),I&&(dt==null||dt(),nt(R.current),c&&(g==null||g()),s&&s())};return It.jsx(P2,{isPresent:V,initial:!S.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:u,onExitComplete:V?void 0:w,anchorX:d,children:tt},at)})})};function oy(n,t){n.indexOf(t)===-1&&n.push(t)}function ly(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let xw=()=>{};const Fp={useManualTiming:!1};function uy(n){let t;return()=>(t===void 0&&(t=n()),t)}const Fn=n=>n,Au=(n,t,e)=>{const s=t-n;return s===0?1:(e-n)/s};class cy{constructor(){this.subscriptions=[]}add(t){return oy(this.subscriptions,t),()=>ly(this.subscriptions,t)}notify(t,e,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,s);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(t,e,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=n=>n*1e3,Ri=n=>n/1e3;function Ow(n,t){return t?n*(1e3/t):0}const L2=uy(()=>window.ScrollTimeline!==void 0);class k2{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=e}attachTimeline(t,e){const s=this.animations.map(a=>{if(L2()&&a.attachTimeline)return a.attachTimeline(t);if(typeof e=="function")return e(a)});return()=>{s.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class U2 extends k2{then(t,e){return this.finished.finally(t).then(()=>{})}}const UE={value:null},hy=n=>Array.isArray(n)&&typeof n[0]=="number",B2={};function z2(n,t){const e=uy(n);return()=>B2[t]??e()}const Su=z2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pw=(n,t,e=10)=>{let s="";const a=Math.max(Math.round(t/e),2);for(let u=0;u<a;u++)s+=n(u/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},eu=([n,t,e,s])=>`cubic-bezier(${n}, ${t}, ${e}, ${s})`,Gp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eu([0,.65,.55,1]),circOut:eu([.55,0,1,.45]),backIn:eu([.31,.01,.66,-.59]),backOut:eu([.33,1.53,.69,.99])};function Nw(n,t){if(n)return typeof n=="function"&&Su()?Pw(n,t):hy(n)?eu(n):Array.isArray(n)?n.map(e=>Nw(e,t)||Gp.easeOut):Gp[n]}function j2(n,t,e,{delay:s=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:d="easeInOut",times:p}={},g=void 0){const v={[t]:e};p&&(v.offset=p);const E=Nw(d,a);return Array.isArray(E)&&(v.easing=E),n.animate(v,{delay:s,duration:a,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:g})}function fy(n){return typeof n=="function"&&"applyToOptions"in n}function dy(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const sf=2e4;function my(n){let t=0;const e=50;let s=n.next(t);for(;!s.done&&t<sf;)t+=e,s=n.next(t);return t>=sf?1/0:t}function q2(n,t=100,e){const s=e({...n,keyframes:[0,t]}),a=Math.min(my(s),sf);return{type:"keyframes",ease:u=>s.next(a*u).value/t,duration:Ri(a)}}function Lw(n){return!!(typeof n=="function"&&Su()||!n||typeof n=="string"&&(n in Gp||Su())||hy(n)||Array.isArray(n)&&n.every(Lw))}function BE(n,t){n.timeline=t,n.onfinish=null}const Ah=["read","resolveKeyframes","update","preRender","render","postRender"];function H2(n,t){let e=new Set,s=new Set,a=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},p=0;function g(E){c.has(E)&&(v.schedule(E),n()),p++,E(d)}const v={schedule:(E,S=!1,R=!1)=>{const F=R&&a?e:s;return S&&c.add(E),F.has(E)||F.add(E),E},cancel:E=>{s.delete(E),c.delete(E)},process:E=>{if(d=E,a){u=!0;return}a=!0,[e,s]=[s,e],e.forEach(g),t&&UE.value&&UE.value.frameloop[t].push(p),p=0,e.clear(),a=!1,u&&(u=!1,v.process(E))}};return v}const F2=40;function kw(n,t){let e=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>e=!0,c=Ah.reduce((K,nt)=>(K[nt]=H2(u,t?nt:void 0),K),{}),{read:d,resolveKeyframes:p,update:g,preRender:v,render:E,postRender:S}=c,R=()=>{const K=performance.now();e=!1,a.delta=s?1e3/60:Math.max(Math.min(K-a.timestamp,F2),1),a.timestamp=K,a.isProcessing=!0,d.process(a),p.process(a),g.process(a),v.process(a),E.process(a),S.process(a),a.isProcessing=!1,e&&t&&(s=!1,n(R))},N=()=>{e=!0,s=!0,a.isProcessing||n(R)};return{schedule:Ah.reduce((K,nt)=>{const J=c[nt];return K[nt]=(dt,tt=!1,at=!1)=>(e||N(),J.schedule(dt,tt,at)),K},{}),cancel:K=>{for(let nt=0;nt<Ah.length;nt++)c[Ah[nt]].cancel(K)},state:a,steps:c}}const{schedule:py}=kw(queueMicrotask,!1),{schedule:ee,cancel:lr,state:Ge,steps:sp}=kw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0);let Lh;function G2(){Lh=void 0}const Ii={now:()=>(Lh===void 0&&Ii.set(Ge.isProcessing||Fp.useManualTiming?Ge.timestamp:performance.now()),Lh),set:n=>{Lh=n,queueMicrotask(G2)}},Wn={x:!1,y:!1};function Uw(){return Wn.x||Wn.y}function K2(n){return n==="x"||n==="y"?Wn[n]?null:(Wn[n]=!0,()=>{Wn[n]=!1}):Wn.x||Wn.y?null:(Wn.x=Wn.y=!0,()=>{Wn.x=Wn.y=!1})}function Q2(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=(e==null?void 0:e[n])??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function Bw(n,t){const e=Q2(n),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[e,a,()=>s.abort()]}function zE(n){return!(n.pointerType==="touch"||Uw())}function Y2(n,t,e={}){const[s,a,u]=Bw(n,e),c=d=>{if(!zE(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const v=E=>{zE(E)&&(g(E),p.removeEventListener("pointerleave",v))};p.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),u}const zw=(n,t)=>t?n===t?!0:zw(n,t.parentElement):!1,gy=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,X2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $2(n){return X2.has(n.tagName)||n.tabIndex!==-1}const nu=new WeakSet;function jE(n){return t=>{t.key==="Enter"&&n(t)}}function rp(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const W2=(n,t)=>{const e=n.currentTarget;if(!e)return;const s=jE(()=>{if(nu.has(e))return;rp(e,"down");const a=jE(()=>{rp(e,"up")}),u=()=>rp(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",u,t)});e.addEventListener("keydown",s,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",s),t)};function qE(n){return gy(n)&&!Uw()}function Z2(n,t,e={}){const[s,a,u]=Bw(n,e),c=d=>{const p=d.currentTarget;if(!qE(d)||nu.has(p))return;nu.add(p);const g=t(p,d),v=(R,N)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",S),!(!qE(R)||!nu.has(p))&&(nu.delete(p),typeof g=="function"&&g(R,{success:N}))},E=R=>{v(R,p===window||p===document||e.useGlobalTarget||zw(p,R.target))},S=R=>{v(R,!1)};window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",S,a)};return s.forEach(d=>{(e.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),d instanceof HTMLElement&&(d.addEventListener("focus",g=>W2(g,a)),!$2(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}const HE=30,J2=n=>!isNaN(parseFloat(n));class tP{constructor(t,e={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{const u=Ii.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ii.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=J2(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new cy);const s=this.events[t].add(e);return t==="change"?()=>{s(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,s){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>HE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,HE);return Ow(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bu(n,t){return new tP(n,t)}const jw=ot.createContext({strict:!1}),FE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Co={};for(const n in FE)Co[n]={isEnabled:t=>FE[n].some(e=>!!t[e])};function eP(n){for(const t in n)Co[t]={...Co[t],...n[t]}}const nP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nP.has(n)}let qw=n=>!rf(n);function iP(n){n&&(qw=t=>t.startsWith("on")?!rf(t):n(t))}try{iP(require("@emotion/is-prop-valid").default)}catch{}function sP(n,t,e){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(qw(a)||e===!0&&rf(a)||!t&&!rf(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}function rP(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...s)=>n(...s);return new Proxy(e,{get:(s,a)=>a==="create"?n:(t.has(a)||t.set(a,n(a)),t.get(a))})}const kf=ot.createContext({});function Uf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function wu(n){return typeof n=="string"||Array.isArray(n)}const yy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vy=["initial",...yy];function Bf(n){return Uf(n.animate)||vy.some(t=>wu(n[t]))}function Hw(n){return!!(Bf(n)||n.variants)}function aP(n,t){if(Bf(n)){const{initial:e,animate:s}=n;return{initial:e===!1||wu(e)?e:void 0,animate:wu(s)?s:void 0}}return n.inherit!==!1?t:{}}function oP(n){const{initial:t,animate:e}=aP(n,ot.useContext(kf));return ot.useMemo(()=>({initial:t,animate:e}),[GE(t),GE(e)])}function GE(n){return Array.isArray(n)?n.join(" "):n}const lP=Symbol.for("motionComponentSymbol");function co(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function uP(n,t,e){return ot.useCallback(s=>{s&&n.onMount&&n.onMount(s),t&&(s?t.mount(s):t.unmount()),e&&(typeof e=="function"?e(s):co(e)&&(e.current=s))},[t])}const _y=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cP="framerAppearId",Fw="data-"+_y(cP),Gw=ot.createContext({});function hP(n,t,e,s,a){var F,z;const{visualElement:u}=ot.useContext(kf),c=ot.useContext(jw),d=ot.useContext(Lf),p=ot.useContext(ay).reducedMotion,g=ot.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(n,{visualState:t,parent:u,props:e,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,E=ot.useContext(Gw);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&fP(g.current,e,a,E);const S=ot.useRef(!1);ot.useInsertionEffect(()=>{v&&S.current&&v.update(e,d)});const R=e[Fw],N=ot.useRef(!!R&&!((F=window.MotionHandoffIsComplete)!=null&&F.call(window,R))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,R)));return Dw(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),py.render(v.render),N.current&&v.animationState&&v.animationState.animateChanges())}),ot.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var K;(K=window.MotionHandoffMarkAsComplete)==null||K.call(window,R)}),N.current=!1))}),v}function fP(n,t,e,s){const{layoutId:a,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:v}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:Kw(n.parent)),n.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||d&&co(d),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:p,layoutRoot:g})}function Kw(n){if(n)return n.options.allowProjection!==!1?n.projection:Kw(n.parent)}function dP({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:s,Component:a}){n&&eP(n);function u(d,p){let g;const v={...ot.useContext(ay),...d,layoutId:mP(d)},{isStatic:E}=v,S=oP(d),R=s(d,E);if(!E&&ry){pP();const N=gP(v);g=N.MeasureLayout,S.visualElement=hP(a,R,v,t,N.ProjectionNode)}return It.jsxs(kf.Provider,{value:S,children:[g&&S.visualElement?It.jsx(g,{visualElement:S.visualElement,...v}):null,e(a,d,uP(R,S.visualElement,p),R,E,S.visualElement)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=ot.forwardRef(u);return c[lP]=a,c}function mP({layoutId:n}){const t=ot.useContext(iy).id;return t&&n!==void 0?t+"-"+n:n}function pP(n,t){ot.useContext(jw).strict}function gP(n){const{drag:t,layout:e}=Co;if(!t&&!e)return{};const s={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Qw=n=>t=>typeof t=="string"&&t.startsWith(n),Ty=Qw("--"),yP=Qw("var(--"),Ey=n=>yP(n)?vP.test(n.split("/*")[0].trim()):!1,vP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ru={};function _P(n){for(const t in n)Ru[t]=n[t],Ty(t)&&(Ru[t].isCSSVariable=!0)}const ko=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fa=new Set(ko);function Yw(n,{layout:t,layoutId:e}){return fa.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!Ru[n]||n==="opacity")}const sn=n=>!!(n&&n.getVelocity),Xw=(n,t)=>t&&typeof n=="number"?t.transform(n):n,us=(n,t,e)=>e>t?t:e<n?n:e,Uo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Iu={...Uo,transform:n=>us(0,1,n)},Sh={...Uo,default:1},ju=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),js=ju("deg"),Ci=ju("%"),_t=ju("px"),TP=ju("vh"),EP=ju("vw"),KE={...Ci,parse:n=>Ci.parse(n)/100,transform:n=>Ci.transform(n*100)},AP={borderWidth:_t,borderTopWidth:_t,borderRightWidth:_t,borderBottomWidth:_t,borderLeftWidth:_t,borderRadius:_t,radius:_t,borderTopLeftRadius:_t,borderTopRightRadius:_t,borderBottomRightRadius:_t,borderBottomLeftRadius:_t,width:_t,maxWidth:_t,height:_t,maxHeight:_t,top:_t,right:_t,bottom:_t,left:_t,padding:_t,paddingTop:_t,paddingRight:_t,paddingBottom:_t,paddingLeft:_t,margin:_t,marginTop:_t,marginRight:_t,marginBottom:_t,marginLeft:_t,backgroundPositionX:_t,backgroundPositionY:_t},SP={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Sh,scaleX:Sh,scaleY:Sh,scaleZ:Sh,skew:js,skewX:js,skewY:js,distance:_t,translateX:_t,translateY:_t,translateZ:_t,x:_t,y:_t,z:_t,perspective:_t,transformPerspective:_t,opacity:Iu,originX:KE,originY:KE,originZ:_t},QE={...Uo,transform:Math.round},Ay={...AP,...SP,zIndex:QE,size:_t,fillOpacity:Iu,strokeOpacity:Iu,numOctaves:QE},bP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wP=ko.length;function RP(n,t,e){let s="",a=!0;for(let u=0;u<wP;u++){const c=ko[u],d=n[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||e){const g=Xw(d,Ay[c]);if(!p){a=!1;const v=bP[c]||c;s+=`${v}(${g}) `}e&&(t[c]=g)}}return s=s.trim(),e?s=e(t,a?"":s):a&&(s="none"),s}function Sy(n,t,e){const{style:s,vars:a,transformOrigin:u}=n;let c=!1,d=!1;for(const p in t){const g=t[p];if(fa.has(p)){c=!0;continue}else if(Ty(p)){a[p]=g;continue}else{const v=Xw(g,Ay[p]);p.startsWith("origin")?(d=!0,u[p]=v):s[p]=v}}if(t.transform||(c||e?s.transform=RP(t,n.transform,e):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:v=0}=u;s.transformOrigin=`${p} ${g} ${v}`}}const by=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $w(n,t,e){for(const s in t)!sn(t[s])&&!Yw(s,e)&&(n[s]=t[s])}function IP({transformTemplate:n},t){return ot.useMemo(()=>{const e=by();return Sy(e,t,n),Object.assign({},e.vars,e.style)},[t])}function CP(n,t){const e=n.style||{},s={};return $w(s,e,n),Object.assign(s,IP(n,t)),s}function DP(n,t){const e={},s=CP(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=s,e}const VP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wy(n){return typeof n!="string"||n.includes("-")?!1:!!(VP.indexOf(n)>-1||/[A-Z]/u.test(n))}const MP={offset:"stroke-dashoffset",array:"stroke-dasharray"},xP={offset:"strokeDashoffset",array:"strokeDasharray"};function OP(n,t,e=1,s=0,a=!0){n.pathLength=1;const u=a?MP:xP;n[u.offset]=_t.transform(-s);const c=_t.transform(t),d=_t.transform(e);n[u.array]=`${c} ${d}`}function YE(n,t,e){return typeof n=="string"?n:_t.transform(t+e*n)}function PP(n,t,e){const s=YE(t,n.x,n.width),a=YE(e,n.y,n.height);return`${s} ${a}`}function Ry(n,{attrX:t,attrY:e,attrScale:s,originX:a,originY:u,pathLength:c,pathSpacing:d=1,pathOffset:p=0,...g},v,E){if(Sy(n,g,E),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:R,dimensions:N}=n;S.transform&&(N&&(R.transform=S.transform),delete S.transform),N&&(a!==void 0||u!==void 0||R.transform)&&(R.transformOrigin=PP(N,a!==void 0?a:.5,u!==void 0?u:.5)),t!==void 0&&(S.x=t),e!==void 0&&(S.y=e),s!==void 0&&(S.scale=s),c!==void 0&&OP(S,c,d,p,!1)}const Ww=()=>({...by(),attrs:{}}),Iy=n=>typeof n=="string"&&n.toLowerCase()==="svg";function NP(n,t,e,s){const a=ot.useMemo(()=>{const u=Ww();return Ry(u,t,Iy(s),n.transformTemplate),{...u.attrs,style:{...u.style}}},[t]);if(n.style){const u={};$w(u,n.style,n),a.style={...u,...a.style}}return a}function LP(n=!1){return(e,s,a,{latestValues:u},c)=>{const p=(wy(e)?NP:DP)(s,u,c,e),g=sP(s,typeof e=="string",n),v=e!==ot.Fragment?{...g,...p,ref:a}:{},{children:E}=s,S=ot.useMemo(()=>sn(E)?E.get():E,[E]);return ot.createElement(e,{...v,children:S})}}function XE(n){const t=[{},{}];return n==null||n.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Cy(n,t,e,s){if(typeof t=="function"){const[a,u]=XE(s);t=t(e!==void 0?e:n.custom,a,u)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,u]=XE(s);t=t(e!==void 0?e:n.custom,a,u)}return t}const Kp=n=>Array.isArray(n),kP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),UP=n=>Kp(n)?n[n.length-1]||0:n;function kh(n){const t=sn(n)?n.get():n;return kP(t)?t.toValue():t}function BP({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},s,a,u){const c={latestValues:zP(s,a,u,n),renderState:t()};return e&&(c.onMount=d=>e({props:s,current:d,...c}),c.onUpdate=d=>e(d)),c}const Zw=n=>(t,e)=>{const s=ot.useContext(kf),a=ot.useContext(Lf),u=()=>BP(n,t,s,a);return e?u():sy(u)};function zP(n,t,e,s){const a={},u=s(n,{});for(const S in u)a[S]=kh(u[S]);let{initial:c,animate:d}=n;const p=Bf(n),g=Hw(n);t&&g&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let v=e?e.initial===!1:!1;v=v||c===!1;const E=v?d:c;if(E&&typeof E!="boolean"&&!Uf(E)){const S=Array.isArray(E)?E:[E];for(let R=0;R<S.length;R++){const N=Cy(n,S[R]);if(N){const{transitionEnd:F,transition:z,...K}=N;for(const nt in K){let J=K[nt];if(Array.isArray(J)){const dt=v?J.length-1:0;J=J[dt]}J!==null&&(a[nt]=J)}for(const nt in F)a[nt]=F[nt]}}}return a}function Dy(n,t,e){var u;const{style:s}=n,a={};for(const c in s)(sn(s[c])||t.style&&sn(t.style[c])||Yw(c,n)||((u=e==null?void 0:e.getValue(c))==null?void 0:u.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const jP={useVisualState:Zw({scrapeMotionValuesFromProps:Dy,createRenderState:by})};function Jw(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function tR(n,{style:t,vars:e},s,a){Object.assign(n.style,t,a&&a.getProjectionStyles(s));for(const u in e)n.style.setProperty(u,e[u])}const eR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nR(n,t,e,s){tR(n,t,void 0,s);for(const a in t.attrs)n.setAttribute(eR.has(a)?a:_y(a),t.attrs[a])}function iR(n,t,e){const s=Dy(n,t,e);for(const a in n)if(sn(n[a])||sn(t[a])){const u=ko.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=n[a]}return s}const $E=["x","y","width","height","cx","cy","r"],qP={useVisualState:Zw({scrapeMotionValuesFromProps:iR,createRenderState:Ww,onUpdate:({props:n,prevProps:t,current:e,renderState:s,latestValues:a})=>{if(!e)return;let u=!!n.drag;if(!u){for(const d in a)if(fa.has(d)){u=!0;break}}if(!u)return;let c=!t;if(t)for(let d=0;d<$E.length;d++){const p=$E[d];n[p]!==t[p]&&(c=!0)}c&&ee.read(()=>{Jw(e,s),ee.render(()=>{Ry(s,a,Iy(e.tagName),n.transformTemplate),nR(e,s)})})}})};function HP(n,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...wy(s)?qP:jP,preloadedFeatures:n,useRender:LP(a),createVisualElement:t,Component:s};return dP(c)}}function Cu(n,t,e){const s=n.getProps();return Cy(s,t,e!==void 0?e:s.custom,n)}const sR=new Set(["width","height","top","left","right","bottom",...ko]);function FP(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,bu(e))}function GP(n,t){const e=Cu(n,t);let{transitionEnd:s={},transition:a={},...u}=e||{};u={...u,...s};for(const c in u){const d=UP(u[c]);FP(n,c,d)}}function KP(n){return!!(sn(n)&&n.add)}function Qp(n,t){const e=n.getValue("willChange");if(KP(e))return e.add(t);if(!e&&Fp.WillChange){const s=new Fp.WillChange("auto");n.addValue("willChange",s),s.add(t)}}function rR(n){return n.props[Fw]}const aR=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,QP=1e-7,YP=12;function XP(n,t,e,s,a){let u,c,d=0;do c=t+(e-t)/2,u=aR(c,s,a)-n,u>0?e=c:t=c;while(Math.abs(u)>QP&&++d<YP);return c}function qu(n,t,e,s){if(n===t&&e===s)return Fn;const a=u=>XP(u,0,1,n,e);return u=>u===0||u===1?u:aR(a(u),t,s)}const oR=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,lR=n=>t=>1-n(1-t),uR=qu(.33,1.53,.69,.99),Vy=lR(uR),cR=oR(Vy),hR=n=>(n*=2)<1?.5*Vy(n):.5*(2-Math.pow(2,-10*(n-1))),My=n=>1-Math.sin(Math.acos(n)),fR=lR(My),dR=oR(My),mR=n=>/^0[^.\s]+$/u.test(n);function $P(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||mR(n):!0}const lu=n=>Math.round(n*1e5)/1e5,xy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WP(n){return n==null}const ZP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oy=(n,t)=>e=>!!(typeof e=="string"&&ZP.test(e)&&e.startsWith(n)||t&&!WP(e)&&Object.prototype.hasOwnProperty.call(e,t)),pR=(n,t,e)=>s=>{if(typeof s!="string")return s;const[a,u,c,d]=s.match(xy);return{[n]:parseFloat(a),[t]:parseFloat(u),[e]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},JP=n=>us(0,255,n),ap={...Uo,transform:n=>Math.round(JP(n))},na={test:Oy("rgb","red"),parse:pR("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:s=1})=>"rgba("+ap.transform(n)+", "+ap.transform(t)+", "+ap.transform(e)+", "+lu(Iu.transform(s))+")"};function tN(n){let t="",e="",s="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Yp={test:Oy("#"),parse:tN,transform:na.transform},ho={test:Oy("hsl","hue"),parse:pR("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:s=1})=>"hsla("+Math.round(n)+", "+Ci.transform(lu(t))+", "+Ci.transform(lu(e))+", "+lu(Iu.transform(s))+")"},tn={test:n=>na.test(n)||Yp.test(n)||ho.test(n),parse:n=>na.test(n)?na.parse(n):ho.test(n)?ho.parse(n):Yp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?na.transform(n):ho.transform(n)},eN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nN(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(xy))==null?void 0:t.length)||0)+(((e=n.match(eN))==null?void 0:e.length)||0)>0}const gR="number",yR="color",iN="var",sN="var(",WE="${}",rN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(n){const t=n.toString(),e=[],s={color:[],number:[],var:[]},a=[];let u=0;const d=t.replace(rN,p=>(tn.test(p)?(s.color.push(u),a.push(yR),e.push(tn.parse(p))):p.startsWith(sN)?(s.var.push(u),a.push(iN),e.push(p)):(s.number.push(u),a.push(gR),e.push(parseFloat(p))),++u,WE)).split(WE);return{values:e,split:d,indexes:s,types:a}}function vR(n){return Du(n).values}function _R(n){const{split:t,types:e}=Du(n),s=t.length;return a=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],a[c]!==void 0){const d=e[c];d===gR?u+=lu(a[c]):d===yR?u+=tn.transform(a[c]):u+=a[c]}return u}}const aN=n=>typeof n=="number"?0:n;function oN(n){const t=vR(n);return _R(n)(t.map(aN))}const ur={test:nN,parse:vR,createTransformer:_R,getAnimatableNone:oN},lN=new Set(["brightness","contrast","saturate","opacity"]);function uN(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[s]=e.match(xy)||[];if(!s)return n;const a=e.replace(s,"");let u=lN.has(t)?1:0;return s!==e&&(u*=100),t+"("+u+a+")"}const cN=/\b([a-z-]*)\(.*?\)/gu,Xp={...ur,getAnimatableNone:n=>{const t=n.match(cN);return t?t.map(uN).join(" "):n}},hN={...Ay,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Xp,WebkitFilter:Xp},TR=n=>hN[n];function ER(n,t){let e=TR(n);return e!==Xp&&(e=ur),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const fN=new Set(["auto","none","0"]);function dN(n,t,e){let s=0,a;for(;s<n.length&&!a;){const u=n[s];typeof u=="string"&&!fN.has(u)&&Du(u).values.length&&(a=n[s]),s++}if(a&&e)for(const u of t)n[u]=ER(e,a)}const ia=n=>n*180/Math.PI,$p=n=>{const t=ia(Math.atan2(n[1],n[0]));return Wp(t)},mN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$p,rotateZ:$p,skewX:n=>ia(Math.atan(n[1])),skewY:n=>ia(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Wp=n=>(n=n%360,n<0&&(n+=360),n),ZE=$p,JE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),tA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),pN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:JE,scaleY:tA,scale:n=>(JE(n)+tA(n))/2,rotateX:n=>Wp(ia(Math.atan2(n[6],n[5]))),rotateY:n=>Wp(ia(Math.atan2(-n[2],n[0]))),rotateZ:ZE,rotate:ZE,skewX:n=>ia(Math.atan(n[4])),skewY:n=>ia(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function eA(n){return n.includes("scale")?1:0}function Zp(n,t){if(!n||n==="none")return eA(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(e)s=pN,a=e;else{const d=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=mN,a=d}if(!a)return eA(t);const u=s[t],c=a[1].split(",").map(yN);return typeof u=="function"?u(c):c[u]}const gN=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return Zp(e,t)};function yN(n){return parseFloat(n.trim())}const nA=n=>n===Uo||n===_t,vN=new Set(["x","y","z"]),_N=ko.filter(n=>!vN.has(n));function TN(n){const t=[];return _N.forEach(e=>{const s=n.getValue(e);s!==void 0&&(t.push([e,s.get()]),s.set(e.startsWith("scale")?1:0))}),t}const Do={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Zp(t,"x"),y:(n,{transform:t})=>Zp(t,"y")};Do.translateX=Do.x;Do.translateY=Do.y;const sa=new Set;let Jp=!1,tg=!1;function AR(){if(tg){const n=Array.from(sa).filter(s=>s.needsMeasurement),t=new Set(n.map(s=>s.element)),e=new Map;t.forEach(s=>{const a=TN(s);a.length&&(e.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=e.get(s);a&&a.forEach(([u,c])=>{var d;(d=s.getValue(u))==null||d.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}tg=!1,Jp=!1,sa.forEach(n=>n.complete()),sa.clear()}function SR(){sa.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(tg=!0)})}function EN(){SR(),AR()}class Py{constructor(t,e,s,a,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=s,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(sa.add(this),Jp||(Jp=!0,ee.read(SR),ee.resolveKeyframes(AR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:s,motionValue:a}=this;for(let u=0;u<t.length;u++)if(t[u]===null)if(u===0){const c=a==null?void 0:a.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(s&&e){const p=s.readValue(e,d);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=d),a&&c===void 0&&a.set(t[0])}else t[u]=t[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),sa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,sa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bR=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),AN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SN(n){const t=AN.exec(n);if(!t)return[,];const[,e,s,a]=t;return[`--${e??s}`,a]}function wR(n,t,e=1){const[s,a]=SN(n);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return bR(c)?parseFloat(c):c}return Ey(a)?wR(a,t,e+1):a}const RR=n=>t=>t.test(n),bN={test:n=>n==="auto",parse:n=>n},IR=[Uo,_t,Ci,js,EP,TP,bN],iA=n=>IR.find(RR(n));class CR extends Py{constructor(t,e,s,a,u){super(t,e,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:s}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),Ey(g))){const v=wR(g,e.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!sR.has(s)||t.length!==2)return;const[a,u]=t,c=iA(a),d=iA(u);if(c!==d)if(nA(c)&&nA(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,s=[];for(let a=0;a<t.length;a++)$P(t[a])&&s.push(a);s.length&&dN(t,s,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Do[s](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:t,name:e,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Do[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,g])=>{t.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const sA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ur.test(n)||n==="0")&&!n.startsWith("url("));function wN(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function RN(n,t,e,s){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=n[n.length-1],c=sA(a,t),d=sA(u,t);return!c||!d?!1:wN(n)||(e==="spring"||fy(e))&&s}const IN=n=>n!==null;function zf(n,{repeat:t,repeatType:e="loop"},s){const a=n.filter(IN),u=t&&e!=="loop"&&t%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const CN=40;class DR{constructor({autoplay:t=!0,delay:e=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ii.now(),this.options={autoplay:t,delay:e,type:s,repeat:a,repeatDelay:u,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&EN(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Ii.now(),this.hasAttemptedResolve=!0;const{name:s,type:a,velocity:u,delay:c,onComplete:d,onUpdate:p,isGenerator:g}=this.options;if(!g&&!RN(t,s,a,u))if(c)this.options.duration=0;else{p&&p(zf(t,this.options,e)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,e);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...v},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const oe=(n,t,e)=>n+(t-n)*e;function op(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function DN({hue:n,saturation:t,lightness:e,alpha:s}){n/=360,t/=100,e/=100;let a=0,u=0,c=0;if(!t)a=u=c=e;else{const d=e<.5?e*(1+t):e+t-e*t,p=2*e-d;a=op(p,d,n+1/3),u=op(p,d,n),c=op(p,d,n-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function af(n,t){return e=>e>0?t:n}const lp=(n,t,e)=>{const s=n*n,a=e*(t*t-s)+s;return a<0?0:Math.sqrt(a)},VN=[Yp,na,ho],MN=n=>VN.find(t=>t.test(n));function rA(n){const t=MN(n);if(!t)return!1;let e=t.parse(n);return t===ho&&(e=DN(e)),e}const aA=(n,t)=>{const e=rA(n),s=rA(t);if(!e||!s)return af(n,t);const a={...e};return u=>(a.red=lp(e.red,s.red,u),a.green=lp(e.green,s.green,u),a.blue=lp(e.blue,s.blue,u),a.alpha=oe(e.alpha,s.alpha,u),na.transform(a))},xN=(n,t)=>e=>t(n(e)),Hu=(...n)=>n.reduce(xN),eg=new Set(["none","hidden"]);function ON(n,t){return eg.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function PN(n,t){return e=>oe(n,t,e)}function Ny(n){return typeof n=="number"?PN:typeof n=="string"?Ey(n)?af:tn.test(n)?aA:kN:Array.isArray(n)?VR:typeof n=="object"?tn.test(n)?aA:NN:af}function VR(n,t){const e=[...n],s=e.length,a=n.map((u,c)=>Ny(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)e[c]=a[c](u);return e}}function NN(n,t){const e={...n,...t},s={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(s[a]=Ny(n[a])(n[a],t[a]));return a=>{for(const u in s)e[u]=s[u](a);return e}}function LN(n,t){const e=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const u=t.types[a],c=n.indexes[u][s[u]],d=n.values[c]??0;e[a]=d,s[u]++}return e}const kN=(n,t)=>{const e=ur.createTransformer(t),s=Du(n),a=Du(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?eg.has(n)&&!a.values.length||eg.has(t)&&!s.values.length?ON(n,t):Hu(VR(LN(s,a),a.values),e):af(n,t)};function MR(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?oe(n,t,e):Ny(n)(n,t)}const UN=5;function xR(n,t,e){const s=Math.max(t-UN,0);return Ow(e-n(s),t-s)}const fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oA=.001;function BN({duration:n=fe.duration,bounce:t=fe.bounce,velocity:e=fe.velocity,mass:s=fe.mass}){let a,u,c=1-t;c=us(fe.minDamping,fe.maxDamping,c),n=us(fe.minDuration,fe.maxDuration,Ri(n)),c<1?(a=g=>{const v=g*c,E=v*n,S=v-e,R=ng(g,c),N=Math.exp(-E);return oA-S/R*N},u=g=>{const E=g*c*n,S=E*e+e,R=Math.pow(c,2)*Math.pow(g,2)*n,N=Math.exp(-E),F=ng(Math.pow(g,2),c);return(-a(g)+oA>0?-1:1)*((S-R)*N)/F}):(a=g=>{const v=Math.exp(-g*n),E=(g-e)*n+1;return-.001+v*E},u=g=>{const v=Math.exp(-g*n),E=(e-g)*(n*n);return v*E});const d=5/n,p=jN(a,u,d);if(n=wi(n),isNaN(p))return{stiffness:fe.stiffness,damping:fe.damping,duration:n};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:n}}}const zN=12;function jN(n,t,e){let s=e;for(let a=1;a<zN;a++)s=s-n(s)/t(s);return s}function ng(n,t){return n*Math.sqrt(1-t*t)}const qN=["duration","bounce"],HN=["stiffness","damping","mass"];function lA(n,t){return t.some(e=>n[e]!==void 0)}function FN(n){let t={velocity:fe.velocity,stiffness:fe.stiffness,damping:fe.damping,mass:fe.mass,isResolvedFromDuration:!1,...n};if(!lA(n,HN)&&lA(n,qN))if(n.visualDuration){const e=n.visualDuration,s=2*Math.PI/(e*1.2),a=s*s,u=2*us(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:fe.mass,stiffness:a,damping:u}}else{const e=BN(n);t={...t,...e,mass:fe.mass},t.isResolvedFromDuration=!0}return t}function of(n=fe.visualDuration,t=fe.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:s,restDelta:a}=e;const u=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:v,duration:E,velocity:S,isResolvedFromDuration:R}=FN({...e,velocity:-Ri(e.velocity||0)}),N=S||0,F=g/(2*Math.sqrt(p*v)),z=c-u,K=Ri(Math.sqrt(p/v)),nt=Math.abs(z)<5;s||(s=nt?fe.restSpeed.granular:fe.restSpeed.default),a||(a=nt?fe.restDelta.granular:fe.restDelta.default);let J;if(F<1){const tt=ng(K,F);J=at=>{const V=Math.exp(-F*K*at);return c-V*((N+F*K*z)/tt*Math.sin(tt*at)+z*Math.cos(tt*at))}}else if(F===1)J=tt=>c-Math.exp(-K*tt)*(z+(N+K*z)*tt);else{const tt=K*Math.sqrt(F*F-1);J=at=>{const V=Math.exp(-F*K*at),w=Math.min(tt*at,300);return c-V*((N+F*K*z)*Math.sinh(w)+tt*z*Math.cosh(w))/tt}}const dt={calculatedDuration:R&&E||null,next:tt=>{const at=J(tt);if(R)d.done=tt>=E;else{let V=0;F<1&&(V=tt===0?wi(N):xR(J,tt,at));const w=Math.abs(V)<=s,I=Math.abs(c-at)<=a;d.done=w&&I}return d.value=d.done?c:at,d},toString:()=>{const tt=Math.min(my(dt),sf),at=Pw(V=>dt.next(tt*V).value,tt,30);return tt+"ms "+at},toTransition:()=>{}};return dt}of.applyToOptions=n=>{const t=q2(n,100,of);return n.ease=Su()?t.ease:"easeOut",n.duration=wi(t.duration),n.type="keyframes",n};function uA({keyframes:n,velocity:t=0,power:e=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:v}){const E=n[0],S={done:!1,value:E},R=w=>d!==void 0&&w<d||p!==void 0&&w>p,N=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let F=e*t;const z=E+F,K=c===void 0?z:c(z);K!==z&&(F=K-E);const nt=w=>-F*Math.exp(-w/s),J=w=>K+nt(w),dt=w=>{const I=nt(w),x=J(w);S.done=Math.abs(I)<=g,S.value=S.done?K:x};let tt,at;const V=w=>{R(S.value)&&(tt=w,at=of({keyframes:[S.value,N(S.value)],velocity:xR(J,w,S.value),damping:a,stiffness:u,restDelta:g,restSpeed:v}))};return V(0),{calculatedDuration:null,next:w=>{let I=!1;return!at&&tt===void 0&&(I=!0,dt(w),V(w)),tt!==void 0&&w>=tt?at.next(w-tt):(!I&&dt(w),S)}}}const GN=qu(.42,0,1,1),KN=qu(0,0,.58,1),OR=qu(.42,0,.58,1),QN=n=>Array.isArray(n)&&typeof n[0]!="number",YN={linear:Fn,easeIn:GN,easeInOut:OR,easeOut:KN,circIn:My,circInOut:dR,circOut:fR,backIn:Vy,backInOut:cR,backOut:uR,anticipate:hR},cA=n=>{if(hy(n)){xw(n.length===4);const[t,e,s,a]=n;return qu(t,e,s,a)}else if(typeof n=="string")return YN[n];return n};function XN(n,t,e){const s=[],a=e||MR,u=n.length-1;for(let c=0;c<u;c++){let d=a(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Fn:t;d=Hu(p,d)}s.push(d)}return s}function $N(n,t,{clamp:e=!0,ease:s,mixer:a}={}){const u=n.length;if(xw(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),t=[...t].reverse());const d=XN(t,s,a),p=d.length,g=v=>{if(c&&v<n[0])return t[0];let E=0;if(p>1)for(;E<n.length-2&&!(v<n[E+1]);E++);const S=Au(n[E],n[E+1],v);return d[E](S)};return e?v=>g(us(n[0],n[u-1],v)):g}function WN(n,t){const e=n[n.length-1];for(let s=1;s<=t;s++){const a=Au(0,t,s);n.push(oe(e,1,a))}}function ZN(n){const t=[0];return WN(t,n.length-1),t}function JN(n,t){return n.map(e=>e*t)}function tL(n,t){return n.map(()=>t||OR).splice(0,n.length-1)}function lf({duration:n=300,keyframes:t,times:e,ease:s="easeInOut"}){const a=QN(s)?s.map(cA):cA(s),u={done:!1,value:t[0]},c=JN(e&&e.length===t.length?e:ZN(t),n),d=$N(c,t,{ease:Array.isArray(a)?a:tL(t,a)});return{calculatedDuration:n,next:p=>(u.value=d(p),u.done=p>=n,u)}}const eL=n=>{const t=({timestamp:e})=>n(e);return{start:()=>ee.update(t,!0),stop:()=>lr(t),now:()=>Ge.isProcessing?Ge.timestamp:Ii.now()}},nL={decay:uA,inertia:uA,tween:lf,keyframes:lf,spring:of},iL=n=>n/100;class Ly extends DR{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:e,motionValue:s,element:a,keyframes:u}=this.options,c=(a==null?void 0:a.KeyframeResolver)||Py,d=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new c(u,d,e,s,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=this.options,d=fy(e)?e:nL[e]||lf;let p,g;d!==lf&&typeof t[0]!="number"&&(p=Hu(iL,MR(t[0],t[1])),t=[0,100]);const v=d({...this.options,keyframes:t});u==="mirror"&&(g=d({...this.options,keyframes:[...t].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=my(v));const{calculatedDuration:E}=v,S=E+a,R=S*(s+1)-a;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:E,resolvedDuration:S,totalDuration:R}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:s}=this;if(!s){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:p,calculatedDuration:g,totalDuration:v,resolvedDuration:E}=s;if(this.startTime===null)return u.next(0);const{delay:S,repeat:R,repeatType:N,repeatDelay:F,onUpdate:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const K=this.currentTime-S*(this.speed>=0?1:-1),nt=this.speed>=0?K<0:K>v;this.currentTime=Math.max(K,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let J=this.currentTime,dt=u;if(R){const w=Math.min(this.currentTime,v)/E;let I=Math.floor(w),x=w%1;!x&&w>=1&&(x=1),x===1&&I--,I=Math.min(I,R+1),!!(I%2)&&(N==="reverse"?(x=1-x,F&&(x-=F/E)):N==="mirror"&&(dt=c)),J=us(0,1,x)*E}const tt=nt?{done:!1,value:p[0]}:dt.next(J);d&&(tt.value=d(tt.value));let{done:at}=tt;!nt&&g!==null&&(at=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&at);return V&&a!==void 0&&(tt.value=zf(p,this.options,a)),z&&z(tt.value),V&&this.finish(),tt}get duration(){const{resolved:t}=this;return t?Ri(t.calculatedDuration):0}get time(){return Ri(this.currentTime)}set time(t){t=wi(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=Ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=eL,onPlay:e,startTime:s}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),e&&e();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const sL=new Set(["opacity","clipPath","filter","transform"]),rL=uy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uf=10,aL=2e4;function oL(n){return fy(n.type)||n.type==="spring"||!Lw(n.ease)}function lL(n,t){const e=new Ly({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:n[0]};const a=[];let u=0;for(;!s.done&&u<aL;)s=e.sample(u),a.push(s.value),u+=uf;return{times:void 0,keyframes:a,duration:u-uf,ease:"linear"}}const PR={anticipate:hR,backInOut:cR,circInOut:dR};function uL(n){return n in PR}class hA extends DR{constructor(t){super(t);const{name:e,motionValue:s,element:a,keyframes:u}=this.options;this.resolver=new CR(u,(c,d)=>this.onKeyframesResolved(c,d),e,s,a),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:s=300,times:a,ease:u,type:c,motionValue:d,name:p,startTime:g}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof u=="string"&&Su()&&uL(u)&&(u=PR[u]),oL(this.options)){const{onComplete:E,onUpdate:S,motionValue:R,element:N,...F}=this.options,z=lL(t,F);t=z.keyframes,t.length===1&&(t[1]=t[0]),s=z.duration,a=z.times,u=z.ease,c="keyframes"}const v=j2(d.owner.current,p,t,{...this.options,duration:s,times:a,ease:u});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(BE(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:E}=this.options;d.set(zf(t,this.options,e)),E&&E(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:s,times:a,type:c,ease:u,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return Ri(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return Ri(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.currentTime=wi(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return Fn;const{animation:s}=e;BE(s,t)}return Fn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:s,duration:a,type:u,ease:c,times:d}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:E,element:S,...R}=this.options,N=new Ly({...R,keyframes:s,duration:a,type:u,ease:c,times:d,isGenerator:!0}),F=wi(this.time);g.setWithVelocity(N.sample(F-uf).value,N.sample(F).value,uf)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:s,repeatDelay:a,repeatType:u,damping:c,type:d}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=e.owner.getProps();return rL()&&s&&sL.has(s)&&(s!=="transform"||!g)&&!p&&!a&&u!=="mirror"&&c!==0&&d!=="inertia"}}const cL={type:"spring",stiffness:500,damping:25,restSpeed:10},hL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),fL={type:"keyframes",duration:.8},dL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mL=(n,{keyframes:t})=>t.length>2?fL:fa.has(n)?n.startsWith("scale")?hL(t[1]):cL:dL;function pL({when:n,delay:t,delayChildren:e,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const ky=(n,t,e,s={},a,u)=>c=>{const d=dy(s,n)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-wi(p);let v={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:n,motionValue:t,element:u?void 0:a};pL(d)||(v={...v,...mL(n,v)}),v.duration&&(v.duration=wi(v.duration)),v.repeatDelay&&(v.repeatDelay=wi(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let E=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(E=!0)),v.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const S=zf(v.keyframes,d);if(S!==void 0)return ee.update(()=>{v.onUpdate(S),v.onComplete()}),new U2([])}return!u&&hA.supports(v)?new hA(v):new Ly(v)};function gL({protectedKeys:n,needsAnimating:t},e){const s=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,s}function NR(n,t,{delay:e=0,transitionOverride:s,type:a}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const p=[],g=a&&n.animationState&&n.animationState.getState()[a];for(const v in d){const E=n.getValue(v,n.latestValues[v]??null),S=d[v];if(S===void 0||g&&gL(g,v))continue;const R={delay:e,...dy(u||{},v)};let N=!1;if(window.MotionHandoffAnimation){const z=rR(n);if(z){const K=window.MotionHandoffAnimation(z,v,ee);K!==null&&(R.startTime=K,N=!0)}}Qp(n,v),E.start(ky(v,E,S,n.shouldReduceMotion&&sR.has(v)?{type:!1}:R,n,N));const F=E.animation;F&&p.push(F)}return c&&Promise.all(p).then(()=>{ee.update(()=>{c&&GP(n,c)})}),p}function ig(n,t,e={}){var p;const s=Cu(n,t,e.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};e.transitionOverride&&(a=e.transitionOverride);const u=s?()=>Promise.all(NR(n,s,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:E,staggerDirection:S}=a;return yL(n,t,v+g,E,S,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,v]=d==="beforeChildren"?[u,c]:[c,u];return g().then(()=>v())}else return Promise.all([u(),c(e.delay)])}function yL(n,t,e=0,s=0,a=1,u){const c=[],d=(n.variantChildren.size-1)*s,p=a===1?(g=0)=>g*s:(g=0)=>d-g*s;return Array.from(n.variantChildren).sort(vL).forEach((g,v)=>{g.notify("AnimationStart",t),c.push(ig(g,t,{...u,delay:e+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(c)}function vL(n,t){return n.sortNodePosition(t)}function _L(n,t,e={}){n.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>ig(n,u,e));s=Promise.all(a)}else if(typeof t=="string")s=ig(n,t,e);else{const a=typeof t=="function"?Cu(n,t,e.custom):t;s=Promise.all(NR(n,a,e))}return s.then(()=>{n.notify("AnimationComplete",t)})}function LR(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let s=0;s<e;s++)if(t[s]!==n[s])return!1;return!0}const TL=vy.length;function kR(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?kR(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<TL;e++){const s=vy[e],a=n.props[s];(wu(a)||a===!1)&&(t[s]=a)}return t}const EL=[...yy].reverse(),AL=yy.length;function SL(n){return t=>Promise.all(t.map(({animation:e,options:s})=>_L(n,e,s)))}function bL(n){let t=SL(n),e=fA(),s=!0;const a=p=>(g,v)=>{var S;const E=Cu(n,v,p==="exit"?(S=n.presenceContext)==null?void 0:S.custom:void 0);if(E){const{transition:R,transitionEnd:N,...F}=E;g={...g,...F,...N}}return g};function u(p){t=p(n)}function c(p){const{props:g}=n,v=kR(n.parent)||{},E=[],S=new Set;let R={},N=1/0;for(let z=0;z<AL;z++){const K=EL[z],nt=e[K],J=g[K]!==void 0?g[K]:v[K],dt=wu(J),tt=K===p?nt.isActive:null;tt===!1&&(N=z);let at=J===v[K]&&J!==g[K]&&dt;if(at&&s&&n.manuallyAnimateOnMount&&(at=!1),nt.protectedKeys={...R},!nt.isActive&&tt===null||!J&&!nt.prevProp||Uf(J)||typeof J=="boolean")continue;const V=wL(nt.prevProp,J);let w=V||K===p&&nt.isActive&&!at&&dt||z>N&&dt,I=!1;const x=Array.isArray(J)?J:[J];let P=x.reduce(a(K),{});tt===!1&&(P={});const{prevResolvedValues:k={}}=nt,D={...k,...P},ve=it=>{w=!0,S.has(it)&&(I=!0,S.delete(it)),nt.needsAnimating[it]=!0;const ht=n.getValue(it);ht&&(ht.liveStyle=!1)};for(const it in D){const ht=P[it],Lt=k[it];if(R.hasOwnProperty(it))continue;let M=!1;Kp(ht)&&Kp(Lt)?M=!LR(ht,Lt):M=ht!==Lt,M?ht!=null?ve(it):S.add(it):ht!==void 0&&S.has(it)?ve(it):nt.protectedKeys[it]=!0}nt.prevProp=J,nt.prevResolvedValues=P,nt.isActive&&(R={...R,...P}),s&&n.blockInitialAnimation&&(w=!1),w&&(!(at&&V)||I)&&E.push(...x.map(it=>({animation:it,options:{type:K}})))}if(S.size){const z={};if(typeof g.initial!="boolean"){const K=Cu(n,Array.isArray(g.initial)?g.initial[0]:g.initial);K&&K.transition&&(z.transition=K.transition)}S.forEach(K=>{const nt=n.getBaseTarget(K),J=n.getValue(K);J&&(J.liveStyle=!0),z[K]=nt??null}),E.push({animation:z})}let F=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(F=!1),s=!1,F?t(E):Promise.resolve()}function d(p,g){var E;if(e[p].isActive===g)return Promise.resolve();(E=n.variantChildren)==null||E.forEach(S=>{var R;return(R=S.animationState)==null?void 0:R.setActive(p,g)}),e[p].isActive=g;const v=c(p);for(const S in e)e[S].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>e,reset:()=>{e=fA(),s=!0}}}function wL(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!LR(t,n):!1}function Wr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fA(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}class dr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class RL extends dr{constructor(t){super(t),t.animationState||(t.animationState=bL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Uf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let IL=0;class CL extends dr{constructor(){super(...arguments),this.id=IL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DL={animation:{Feature:RL},exit:{Feature:CL}};function Vu(n,t,e,s={passive:!0}){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e)}function Fu(n){return{point:{x:n.pageX,y:n.pageY}}}const VL=n=>t=>gy(t)&&n(t,Fu(t));function uu(n,t,e,s){return Vu(n,t,VL(e),s)}function UR({top:n,left:t,right:e,bottom:s}){return{x:{min:t,max:e},y:{min:n,max:s}}}function ML({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function xL(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),s=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:s.y,right:s.x}}const BR=1e-4,OL=1-BR,PL=1+BR,zR=.01,NL=0-zR,LL=0+zR;function cn(n){return n.max-n.min}function kL(n,t,e){return Math.abs(n-t)<=e}function dA(n,t,e,s=.5){n.origin=s,n.originPoint=oe(t.min,t.max,n.origin),n.scale=cn(e)/cn(t),n.translate=oe(e.min,e.max,n.origin)-n.originPoint,(n.scale>=OL&&n.scale<=PL||isNaN(n.scale))&&(n.scale=1),(n.translate>=NL&&n.translate<=LL||isNaN(n.translate))&&(n.translate=0)}function cu(n,t,e,s){dA(n.x,t.x,e.x,s?s.originX:void 0),dA(n.y,t.y,e.y,s?s.originY:void 0)}function mA(n,t,e){n.min=e.min+t.min,n.max=n.min+cn(t)}function UL(n,t,e){mA(n.x,t.x,e.x),mA(n.y,t.y,e.y)}function pA(n,t,e){n.min=t.min-e.min,n.max=n.min+cn(t)}function hu(n,t,e){pA(n.x,t.x,e.x),pA(n.y,t.y,e.y)}const gA=()=>({translate:0,scale:1,origin:0,originPoint:0}),fo=()=>({x:gA(),y:gA()}),yA=()=>({min:0,max:0}),ge=()=>({x:yA(),y:yA()});function jn(n){return[n("x"),n("y")]}function up(n){return n===void 0||n===1}function sg({scale:n,scaleX:t,scaleY:e}){return!up(n)||!up(t)||!up(e)}function Jr(n){return sg(n)||jR(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function jR(n){return vA(n.x)||vA(n.y)}function vA(n){return n&&n!=="0%"}function cf(n,t,e){const s=n-e,a=t*s;return e+a}function _A(n,t,e,s,a){return a!==void 0&&(n=cf(n,a,s)),cf(n,e,s)+t}function rg(n,t=0,e=1,s,a){n.min=_A(n.min,t,e,s,a),n.max=_A(n.max,t,e,s,a)}function qR(n,{x:t,y:e}){rg(n.x,t.translate,t.scale,t.originPoint),rg(n.y,e.translate,e.scale,e.originPoint)}const TA=.999999999999,EA=1.0000000000001;function BL(n,t,e,s=!1){const a=e.length;if(!a)return;t.x=t.y=1;let u,c;for(let d=0;d<a;d++){u=e[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&po(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,qR(n,c)),s&&Jr(u.latestValues)&&po(n,u.latestValues))}t.x<EA&&t.x>TA&&(t.x=1),t.y<EA&&t.y>TA&&(t.y=1)}function mo(n,t){n.min=n.min+t,n.max=n.max+t}function AA(n,t,e,s,a=.5){const u=oe(n.min,n.max,a);rg(n,t,e,u,s)}function po(n,t){AA(n.x,t.x,t.scaleX,t.scale,t.originX),AA(n.y,t.y,t.scaleY,t.scale,t.originY)}function HR(n,t){return UR(xL(n.getBoundingClientRect(),t))}function zL(n,t,e){const s=HR(n,e),{scroll:a}=t;return a&&(mo(s.x,a.offset.x),mo(s.y,a.offset.y)),s}const FR=({current:n})=>n?n.ownerDocument.defaultView:null,SA=(n,t)=>Math.abs(n-t);function jL(n,t){const e=SA(n.x,t.x),s=SA(n.y,t.y);return Math.sqrt(e**2+s**2)}class GR{constructor(t,e,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=hp(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=jL(E.offset,{x:0,y:0})>=3;if(!S&&!R)return;const{point:N}=E,{timestamp:F}=Ge;this.history.push({...N,timestamp:F});const{onStart:z,onMove:K}=this.handlers;S||(z&&z(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,E)},this.handlePointerMove=(E,S)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=cp(S,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(E,S)=>{this.end();const{onEnd:R,onSessionEnd:N,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=hp(E.type==="pointercancel"?this.lastMoveEventInfo:cp(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(E,z),N&&N(E,z)},!gy(t))return;this.dragSnapToOrigin=u,this.handlers=e,this.transformPagePoint=s,this.contextWindow=a||window;const c=Fu(t),d=cp(c,this.transformPagePoint),{point:p}=d,{timestamp:g}=Ge;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=e;v&&v(t,hp(d,this.history)),this.removeListeners=Hu(uu(this.contextWindow,"pointermove",this.handlePointerMove),uu(this.contextWindow,"pointerup",this.handlePointerUp),uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),lr(this.updatePoint)}}function cp(n,t){return t?{point:t(n.point)}:n}function bA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function hp({point:n},t){return{point:n,delta:bA(n,KR(t)),offset:bA(n,qL(t)),velocity:HL(t,.1)}}function qL(n){return n[0]}function KR(n){return n[n.length-1]}function HL(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,s=null;const a=KR(n);for(;e>=0&&(s=n[e],!(a.timestamp-s.timestamp>wi(t)));)e--;if(!s)return{x:0,y:0};const u=Ri(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function FL(n,{min:t,max:e},s){return t!==void 0&&n<t?n=s?oe(t,n,s.min):Math.max(n,t):e!==void 0&&n>e&&(n=s?oe(e,n,s.max):Math.min(n,e)),n}function wA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function GL(n,{top:t,left:e,bottom:s,right:a}){return{x:wA(n.x,e,a),y:wA(n.y,t,s)}}function RA(n,t){let e=t.min-n.min,s=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,s]=[s,e]),{min:e,max:s}}function KL(n,t){return{x:RA(n.x,t.x),y:RA(n.y,t.y)}}function QL(n,t){let e=.5;const s=cn(n),a=cn(t);return a>s?e=Au(t.min,t.max-s,n.min):s>a&&(e=Au(n.min,n.max-a,t.min)),us(0,1,e)}function YL(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const ag=.35;function XL(n=ag){return n===!1?n=0:n===!0&&(n=ag),{x:IA(n,"left","right"),y:IA(n,"top","bottom")}}function IA(n,t,e){return{min:CA(n,t),max:CA(n,e)}}function CA(n,t){return typeof n=="number"?n:n[t]||0}const $L=new WeakMap;class WL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Fu(v).point)},u=(v,E)=>{const{drag:S,dragPropagation:R,onDragStart:N}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=K2(S),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(z=>{let K=this.getAxisMotionValue(z).get()||0;if(Ci.test(K)){const{projection:nt}=this.visualElement;if(nt&&nt.layout){const J=nt.layout.layoutBox[z];J&&(K=cn(J)*(parseFloat(K)/100))}}this.originPoint[z]=K}),N&&ee.postRender(()=>N(v,E)),Qp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},c=(v,E)=>{const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:N,onDrag:F}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:z}=E;if(R&&this.currentDirection===null){this.currentDirection=ZL(z),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",E.point,z),this.updateAxis("y",E.point,z),this.visualElement.render(),F&&F(v,E)},d=(v,E)=>this.stop(v,E),p=()=>jn(v=>{var E;return this.getAnimationState(v)==="paused"&&((E=this.getAxisMotionValue(v).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new GR(t,{onSessionStart:a,onStart:u,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:FR(this.visualElement)})}stop(t,e){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=e;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&ee.postRender(()=>u(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,s){const{drag:a}=this.getProps();if(!s||!bh(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=FL(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:e}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,a=this.constraints;t&&co(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=GL(s.layoutBox,t):this.constraints=!1,this.elastic=XL(e),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=YL(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!co(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=zL(s,a.root,this.visualElement.getTransformPagePoint());let c=KL(a.layout.layoutBox,u);if(e){const d=e(ML(c));this.hasMutatedConstraints=!!d,d&&(c=UR(d))}return c}startAnimation(t){const{drag:e,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=jn(v=>{if(!bh(v,e,this.currentDirection))return;let E=p&&p[v]||{};c&&(E={min:0,max:0});const S=a?200:1e6,R=a?40:1e7,N={type:"inertia",velocity:s?t[v]:0,bounceStiffness:S,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(v,N)});return Promise.all(g).then(d)}startAxisValueAnimation(t,e){const s=this.getAxisMotionValue(t);return Qp(this.visualElement,t),s.start(ky(t,s,0,e,this.visualElement,!1))}stopAnimation(){jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jn(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[e];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){jn(e=>{const{drag:s}=this.getProps();if(!bh(e,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[e];u.set(t[e]-oe(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:s}=this.visualElement;if(!co(e)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();a[c]=QL({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),jn(c=>{if(!bh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(oe(p,g,a[c]))})}addListeners(){if(!this.visualElement.current)return;$L.set(this.visualElement,this);const t=this.visualElement.current,e=uu(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();co(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ee.read(s);const c=Vu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(jn(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())});return()=>{c(),e(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=ag,dragMomentum:d=!0}=t;return{...t,drag:e,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function bh(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function ZL(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class JL extends dr{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new WL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const DA=n=>(t,e)=>{n&&ee.postRender(()=>n(t,e))};class tk extends dr{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new GR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:DA(t),onStart:DA(e),onMove:s,onEnd:(u,c)=>{delete this.session,a&&ee.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=uu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Xl={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(_t.test(n))n=parseFloat(n);else return n;const e=VA(n,t.target.x),s=VA(n,t.target.y);return`${e}% ${s}%`}},ek={correct:(n,{treeScale:t,projectionDelta:e})=>{const s=n,a=ur.parse(n);if(a.length>5)return s;const u=ur.createTransformer(n),c=typeof a[0]!="number"?1:0,d=e.x.scale*t.x,p=e.y.scale*t.y;a[0+c]/=d,a[1+c]/=p;const g=oe(d,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=g),typeof a[3+c]=="number"&&(a[3+c]/=g),u(a)}};class nk extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;_P(ik),u&&(e.group&&e.group.add(u),s&&s.register&&a&&s.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Uh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:s,drag:a,isPresent:u}=this.props,c=s.projection;return c&&(c.isPresent=u,a||t.layoutDependency!==e||e===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ee.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),py.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function QR(n){const[t,e]=Vw(),s=ot.useContext(iy);return It.jsx(nk,{...n,layoutGroup:s,switchLayoutGroup:ot.useContext(Gw),isPresent:t,safeToRemove:e})}const ik={borderRadius:{...Xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xl,borderTopRightRadius:Xl,borderBottomLeftRadius:Xl,borderBottomRightRadius:Xl,boxShadow:ek};function sk(n,t,e){const s=sn(n)?n:bu(n);return s.start(ky("",s,t,e)),s.animation}function rk(n){return n instanceof SVGElement&&n.tagName!=="svg"}const ak=(n,t)=>n.depth-t.depth;class ok{constructor(){this.children=[],this.isDirty=!1}add(t){oy(this.children,t),this.isDirty=!0}remove(t){ly(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ak),this.isDirty=!1,this.children.forEach(t)}}function lk(n,t){const e=Ii.now(),s=({timestamp:a})=>{const u=a-e;u>=t&&(lr(s),n(u-t))};return ee.read(s,!0),()=>lr(s)}const YR=["TopLeft","TopRight","BottomLeft","BottomRight"],uk=YR.length,MA=n=>typeof n=="string"?parseFloat(n):n,xA=n=>typeof n=="number"||_t.test(n);function ck(n,t,e,s,a,u){a?(n.opacity=oe(0,e.opacity??1,hk(s)),n.opacityExit=oe(t.opacity??1,0,fk(s))):u&&(n.opacity=oe(t.opacity??1,e.opacity??1,s));for(let c=0;c<uk;c++){const d=`border${YR[c]}Radius`;let p=OA(t,d),g=OA(e,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||xA(p)===xA(g)?(n[d]=Math.max(oe(MA(p),MA(g),s),0),(Ci.test(g)||Ci.test(p))&&(n[d]+="%")):n[d]=g}(t.rotate||e.rotate)&&(n.rotate=oe(t.rotate||0,e.rotate||0,s))}function OA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const hk=XR(0,.5,fR),fk=XR(.5,.95,Fn);function XR(n,t,e){return s=>s<n?0:s>t?1:e(Au(n,t,s))}function PA(n,t){n.min=t.min,n.max=t.max}function zn(n,t){PA(n.x,t.x),PA(n.y,t.y)}function NA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function LA(n,t,e,s,a){return n-=t,n=cf(n,1/e,s),a!==void 0&&(n=cf(n,1/a,s)),n}function dk(n,t=0,e=1,s=.5,a,u=n,c=n){if(Ci.test(t)&&(t=parseFloat(t),t=oe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=oe(u.min,u.max,s);n===u&&(d-=t),n.min=LA(n.min,t,e,d,a),n.max=LA(n.max,t,e,d,a)}function kA(n,t,[e,s,a],u,c){dk(n,t[e],t[s],t[a],t.scale,u,c)}const mk=["x","scaleX","originX"],pk=["y","scaleY","originY"];function UA(n,t,e,s){kA(n.x,t,mk,e?e.x:void 0,s?s.x:void 0),kA(n.y,t,pk,e?e.y:void 0,s?s.y:void 0)}function BA(n){return n.translate===0&&n.scale===1}function $R(n){return BA(n.x)&&BA(n.y)}function zA(n,t){return n.min===t.min&&n.max===t.max}function gk(n,t){return zA(n.x,t.x)&&zA(n.y,t.y)}function jA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function WR(n,t){return jA(n.x,t.x)&&jA(n.y,t.y)}function qA(n){return cn(n.x)/cn(n.y)}function HA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class yk{constructor(){this.members=[]}add(t){oy(this.members,t),t.scheduleRender()}remove(t){if(ly(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let s;for(let a=e;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,e){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,e&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:s}=t;e.onExitComplete&&e.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vk(n,t,e){let s="";const a=n.x.translate/t.x,u=n.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((a||u||c)&&(s=`translate3d(${a}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:v,rotateX:E,rotateY:S,skewX:R,skewY:N}=e;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),E&&(s+=`rotateX(${E}deg) `),S&&(s+=`rotateY(${S}deg) `),R&&(s+=`skewX(${R}deg) `),N&&(s+=`skewY(${N}deg) `)}const d=n.x.scale*t.x,p=n.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const fp=["","X","Y","Z"],_k={visibility:"hidden"},FA=1e3;let Tk=0;function dp(n,t,e,s){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),s&&(s[n]=0))}function ZR(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=rR(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ee,!(a||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&ZR(s)}function JR({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=Tk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Sk),this.nodes.forEach(Ck),this.nodes.forEach(Dk),this.nodes.forEach(bk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new ok)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new cy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rk(c),this.instance=c;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(g||p)&&(this.isLayoutDirty=!0),n){let E;const S=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,E&&E(),E=lk(S,250),Uh.hasAnimatedSinceResize&&(Uh.hasAnimatedSinceResize=!1,this.nodes.forEach(KA))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:E,hasLayoutChanged:S,hasRelativeLayoutChanged:R,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=this.options.transition||v.getDefaultTransition()||Pk,{onLayoutAnimationStart:z,onLayoutAnimationComplete:K}=v.getProps(),nt=!this.targetLayout||!WR(this.targetLayout,N),J=!S&&R;if(this.options.layoutRoot||this.resumeFrom||J||S&&(nt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(E,J);const dt={...dy(F,"layout"),onPlay:z,onComplete:K};(v.shouldReduceMotion||this.options.layoutRoot)&&(dt.delay=0,dt.type=!1),this.startAnimation(dt)}else S||KA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vk),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const E=this.path[v];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GA);return}this.isUpdating||this.nodes.forEach(Rk),this.isUpdating=!1,this.nodes.forEach(Ik),this.nodes.forEach(Ek),this.nodes.forEach(Ak),this.clearAllSnapshots();const d=Ii.now();Ge.delta=us(0,1e3/60,d-Ge.timestamp),Ge.timestamp=d,Ge.isProcessing=!0,sp.update.process(Ge),sp.preRender.process(Ge),sp.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,py.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wk),this.sharedNodes.forEach(Mk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!$R(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;c&&(d||Jr(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),Nk(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:c}=this.options;if(!c)return ge();const d=c.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(Lk))){const{scroll:v}=this.root;v&&(mo(d.x,v.offset.x),mo(d.y,v.offset.y))}return d}removeElementScroll(c){var p;const d=ge();if(zn(d,c),(p=this.scroll)!=null&&p.wasRoot)return d;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:E,options:S}=v;v!==this.root&&E&&S.layoutScroll&&(E.wasRoot&&zn(d,c),mo(d.x,E.offset.x),mo(d.y,E.offset.y))}return d}applyTransform(c,d=!1){const p=ge();zn(p,c);for(let g=0;g<this.path.length;g++){const v=this.path[g];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&po(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Jr(v.latestValues)&&po(p,v.latestValues)}return Jr(this.latestValues)&&po(p,this.latestValues),p}removeTransform(c){const d=ge();zn(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Jr(g.latestValues))continue;sg(g.latestValues)&&g.updateSnapshot();const v=ge(),E=g.measurePageBox();zn(v,E),UA(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Jr(this.latestValues)&&UA(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:E}=this.options;if(!(!this.layout||!(v||E))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),hu(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),qR(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),hu(this.relativeTargetOrigin,this.target,R.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sg(this.parent.latestValues)||jR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;zn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;BL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ge());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NA(this.prevProjectionDelta.x,this.projectionDelta.x),NA(this.prevProjectionDelta.y,this.projectionDelta.y)),cu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!HA(this.projectionDelta.x,this.prevProjectionDelta.x)||!HA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fo(),this.projectionDelta=fo(),this.projectionDeltaWithTransform=fo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},E=fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=ge(),R=p?p.source:void 0,N=this.layout?this.layout.source:void 0,F=R!==N,z=this.getStack(),K=!z||z.members.length<=1,nt=!!(F&&!K&&this.options.crossfade===!0&&!this.path.some(Ok));this.animationProgress=0;let J;this.mixTargetDelta=dt=>{const tt=dt/1e3;QA(E.x,c.x,tt),QA(E.y,c.y,tt),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hu(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xk(this.relativeTarget,this.relativeTargetOrigin,S,tt),J&&gk(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=ge()),zn(J,this.relativeTarget)),F&&(this.animationValues=v,ck(v,g,this.latestValues,tt,nt,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{Uh.hasAnimatedSinceResize=!0,this.currentAnimation=sk(0,FA,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:v}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&t1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ge();const E=cn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const S=cn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+S}zn(d,p),po(d,v),cu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new yk),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&dp("z",c,g,this.animationValues);for(let v=0;v<fp.length;v++)dp(`rotate${fp[v]}`,c,g,this.animationValues),dp(`skew${fp[v]}`,c,g,this.animationValues);c.render();for(const v in g)c.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _k;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=kh(c==null?void 0:c.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=kh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(R.transform=p?p({},""):"none",this.hasProjected=!1),R}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=vk(this.projectionDeltaWithTransform,this.treeScale,v),p&&(d.transform=p(v,d.transform));const{x:E,y:S}=this.projectionDelta;d.transformOrigin=`${E.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:d.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const R in Ru){if(v[R]===void 0)continue;const{correct:N,applyTo:F,isCSSVariable:z}=Ru[R],K=d.transform==="none"?v[R]:N(v[R],g);if(F){const nt=F.length;for(let J=0;J<nt;J++)d[F[J]]=K}else z?this.options.visualElement.renderState.vars[R]=K:d[R]=K}return this.options.layoutId&&(d.pointerEvents=g===this?kh(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(GA),this.root.sharedNodes.clear()}}}function Ek(n){n.updateLayout()}function Ak(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=n.layout,{animationType:u}=n.options,c=t.source!==n.layout.source;u==="size"?jn(E=>{const S=c?t.measuredBox[E]:t.layoutBox[E],R=cn(S);S.min=s[E].min,S.max=S.min+R}):t1(u,t.layoutBox,s)&&jn(E=>{const S=c?t.measuredBox[E]:t.layoutBox[E],R=cn(s[E]);S.max=S.min+R,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[E].max=n.relativeTarget[E].min+R)});const d=fo();cu(d,s,t.layoutBox);const p=fo();c?cu(p,n.applyTransform(a,!0),t.measuredBox):cu(p,s,t.layoutBox);const g=!$R(d);let v=!1;if(!n.resumeFrom){const E=n.getClosestProjectingParent();if(E&&!E.resumeFrom){const{snapshot:S,layout:R}=E;if(S&&R){const N=ge();hu(N,t.layoutBox,S.layoutBox);const F=ge();hu(F,s,R.layoutBox),WR(N,F)||(v=!0),E.options.layoutRoot&&(n.relativeTarget=F,n.relativeTargetOrigin=N,n.relativeParent=E)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:p,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function Sk(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function bk(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function wk(n){n.clearSnapshot()}function GA(n){n.clearMeasurements()}function Rk(n){n.isLayoutDirty=!1}function Ik(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function KA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Ck(n){n.resolveTargetDelta()}function Dk(n){n.calcProjection()}function Vk(n){n.resetSkewAndRotation()}function Mk(n){n.removeLeadSnapshot()}function QA(n,t,e){n.translate=oe(t.translate,0,e),n.scale=oe(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function YA(n,t,e,s){n.min=oe(t.min,e.min,s),n.max=oe(t.max,e.max,s)}function xk(n,t,e,s){YA(n.x,t.x,e.x,s),YA(n.y,t.y,e.y,s)}function Ok(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Pk={duration:.45,ease:[.4,0,.1,1]},XA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),$A=XA("applewebkit/")&&!XA("chrome/")?Math.round:Fn;function WA(n){n.min=$A(n.min),n.max=$A(n.max)}function Nk(n){WA(n.x),WA(n.y)}function t1(n,t,e){return n==="position"||n==="preserve-aspect"&&!kL(qA(t),qA(e),.2)}function Lk(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const kk=JR({attachResizeListener:(n,t)=>Vu(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mp={current:void 0},e1=JR({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!mp.current){const n=new kk({});n.mount(window),n.setOptions({layoutScroll:!0}),mp.current=n}return mp.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Uk={pan:{Feature:tk},drag:{Feature:JL,ProjectionNode:e1,MeasureLayout:QR}};function ZA(n,t,e){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,u=s[a];u&&ee.postRender(()=>u(t,Fu(t)))}class Bk extends dr{mount(){const{current:t}=this.node;t&&(this.unmount=Y2(t,(e,s)=>(ZA(this.node,s,"Start"),a=>ZA(this.node,a,"End"))))}unmount(){}}class zk extends dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hu(Vu(this.node.current,"focus",()=>this.onFocus()),Vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JA(n,t,e){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),u=s[a];u&&ee.postRender(()=>u(t,Fu(t)))}class jk extends dr{mount(){const{current:t}=this.node;t&&(this.unmount=Z2(t,(e,s)=>(JA(this.node,s,"Start"),(a,{success:u})=>JA(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const og=new WeakMap,pp=new WeakMap,qk=n=>{const t=og.get(n.target);t&&t(n)},Hk=n=>{n.forEach(qk)};function Fk({root:n,...t}){const e=n||document;pp.has(e)||pp.set(e,{});const s=pp.get(e),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(Hk,{root:n,...t})),s[a]}function Gk(n,t,e){const s=Fk(t);return og.set(n,e),s.observe(n),()=>{og.delete(n),s.unobserve(n)}}const Kk={some:0,all:1};class Qk extends dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:s,amount:a="some",once:u}=t,c={root:e?e.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Kk[a]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:E}=this.node.getProps(),S=g?v:E;S&&S(p)};return Gk(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Yk(t,e))&&this.startObserver()}unmount(){}}function Yk({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Xk={inView:{Feature:Qk},tap:{Feature:jk},focus:{Feature:zk},hover:{Feature:Bk}},$k={layout:{ProjectionNode:e1,MeasureLayout:QR}},lg={current:null},n1={current:!1};function Wk(){if(n1.current=!0,!!ry)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>lg.current=n.matches;n.addListener(t),t()}else lg.current=!1}const Zk=[...IR,tn,ur],Jk=n=>Zk.find(RR(n)),tU=new WeakMap;function eU(n,t,e){for(const s in t){const a=t[s],u=e[s];if(sn(a))n.addValue(s,a);else if(sn(u))n.addValue(s,bu(a,{owner:n}));else if(u!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,bu(c!==void 0?c:a,{owner:n}))}}for(const s in e)t[s]===void 0&&n.removeValue(s);return t}const tS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nU{scrapeMotionValuesFromProps(t,e,s){return{}}constructor({parent:t,props:e,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Py,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const R=Ii.now();this.renderScheduledAt<R&&(this.renderScheduledAt=R,ee.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:v}=c;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=e,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Bf(e),this.isVariantNode=Hw(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:E,...S}=this.scrapeMotionValuesFromProps(e,{},this);for(const R in S){const N=S[R];p[R]!==void 0&&sn(N)&&N.set(p[R],!1)}}mount(t){this.current=t,tU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,s)=>this.bindToMotionValue(s,e)),n1.current||Wk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),lr(this.notifyUpdate),lr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=fa.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ee.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),u=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),u(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Co){const e=Co[t];if(!e)continue;const{isEnabled:s,Feature:a}=e;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let s=0;s<tS.length;s++){const a=tS[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=t[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=eU(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const s=this.values.get(t);e!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&e!==void 0&&(s=bu(e===null?void 0:e,{owner:this}),this.addValue(t,s)),s}readValue(t,e){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(bR(s)||mR(s))?s=parseFloat(s):!Jk(s)&&ur.test(e)&&(s=ER(t,e)),this.setBaseTarget(t,sn(s)?s.get():s)),sn(s)?s.get():s}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var u;const{initial:e}=this.props;let s;if(typeof e=="string"||typeof e=="object"){const c=Cy(this.props,e,(u=this.presenceContext)==null?void 0:u.custom);c&&(s=c[t])}if(e&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!sn(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new cy),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class i1 extends nU{constructor(){super(...arguments),this.KeyframeResolver=CR}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:s}){delete e[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function iU(n){return window.getComputedStyle(n)}class sU extends i1{constructor(){super(...arguments),this.type="html",this.renderInstance=tR}readValueFromInstance(t,e){if(fa.has(e))return gN(t,e);{const s=iU(t),a=(Ty(e)?s.getPropertyValue(e):s[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return HR(t,e)}build(t,e,s){Sy(t,e,s.transformTemplate)}scrapeMotionValuesFromProps(t,e,s){return Dy(t,e,s)}}class rU extends i1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Jw(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(fa.has(e)){const s=TR(e);return s&&s.default||0}return e=eR.has(e)?e:_y(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,s){return iR(t,e,s)}onBindTransform(){this.current&&!this.renderState.dimensions&&ee.postRender(this.updateDimensions)}build(t,e,s){Ry(t,e,this.isSVGTag,s.transformTemplate)}renderInstance(t,e,s,a){nR(t,e,s,a)}mount(t){this.isSVGTag=Iy(t.tagName),super.mount(t)}}const aU=(n,t)=>wy(n)?new rU(t):new sU(t,{allowProjection:n!==ot.Fragment}),oU=HP({...DL,...Xk,...Uk,...$k},aU),Qe=rP(oU),lU={hidden:{},visible:{transition:{when:"beforeChildren",staggerChildren:.2}},exit:{transition:{when:"afterChildren",staggerChildren:.2}}},gp={hidden:{opacity:0,x:300},visible:{opacity:1,x:0,transition:{duration:.7}},exit:{opacity:0,x:300,transition:{duration:.7}}};function uU({setNickname:n,setRoomName:t}){const[e,s]=ot.useState(""),[a,u]=ot.useState(""),[c,d]=ot.useState(""),p=async g=>{var v,E;if(console.log("Trying to sign in..."),g.preventDefault(),d(""),!e||!a){d("Please enter both a nickname and password");return}try{const S=await C2(Ph(_i,"rooms"));let R=null;if(S.forEach(F=>{const z=F.data();z.password===a&&(R=z.name)}),!R){d("Invalid room password");return}await tV(Zn),console.log("Signed in:",(v=Zn.currentUser)==null?void 0:v.uid);const N=Zn.currentUser;if(!N){d("Failed to authenticate");return}localStorage.setItem("nickname",e),localStorage.setItem("room",R),n(e),t(R),await Iw(ta(_i,"onlineUsers",N.uid),{nickname:e,room:R,createdAt:tu()}),console.log("Signed in:",(E=Zn.currentUser)==null?void 0:E.uid,"in room:",R)}catch(S){console.error(S),d("Something went wrong")}};return It.jsxs("div",{className:"sign-in",children:[It.jsx(Qe.h2,{initial:{opacity:0,x:-300},animate:{opacity:1,x:0},exit:{opacity:0,x:-300},transition:{duration:.7},whileHover:{scale:1.3},children:"Enter Chat Room"}),It.jsx(Qe.div,{className:"line",initial:{opacity:0,y:-1e3},animate:{opacity:1,y:0},exit:{opacity:0,y:1e3},transition:{duration:.7}}),It.jsxs(Qe.form,{onSubmit:p,className:"sign-in-form",initial:"hidden",animate:"visible",exit:"exit",variants:lU,children:[It.jsx(Qe.input,{type:"text",placeholder:"Nickname",value:e,onChange:g=>s(g.target.value),variants:gp}),It.jsx(Qe.input,{type:"password",placeholder:"Room password",value:a,onChange:g=>u(g.target.value),variants:gp}),It.jsx(Qe.button,{type:"submit",variants:gp,children:"Enter"})]}),c&&It.jsx("p",{className:"error",children:c})]})}function cU({onSend:n}){const[t,e]=ot.useState(""),s=a=>{a.preventDefault(),t.trim()&&(n(t.trim()),e(""))};return It.jsxs("form",{className:"input-box",onSubmit:s,children:[It.jsx("input",{type:"text",placeholder:"Type a message...",value:t,onChange:a=>e(a.target.value)}),It.jsx(Qe.button,{type:"submit",whileHover:{scale:1.1},children:"Send"})]})}const hU={hidden:{},visible:{transition:{when:"beforeChildren",staggerChildren:.2}},exit:{transition:{when:"afterChildren",staggerChildren:.2}}},eS={hidden:{opacity:0,x:-300},visible:{opacity:1,x:0,transition:{duration:.7}},exit:{opacity:0,x:-300,transition:{duration:.7}}},fU={hiddenLeft:{opacity:0,x:-300},hiddenRight:{opacity:0,x:300},visible:{opacity:1,x:0}};function dU({nickname:n,roomName:t,setNickname:e,setRoomName:s}){const[a,u]=ot.useState([]),[c,d]=ot.useState([]),p=ot.useRef(null);ot.useEffect(()=>{const E=Zn.currentUser;if(E&&n&&t){const S=ta(_i,"onlineUsers",E.uid);Iw(S,{nickname:n,room:t,createdAt:tu()},{merge:!0})}},[n,t]),ot.useEffect(()=>{const E=Zn.currentUser;if(!E)return;const S=setInterval(async()=>{try{await PE(ta(_i,"onlineUsers",E.uid),{createdAt:tu()})}catch(R){console.error("Error updating online user:",R)}},6e4);return()=>clearInterval(S)},[]),ot.useEffect(()=>{const E=Ph(_i,"messages"),S=DE(E,VE("room","==",t),ME("createdAt")),R=LE(S,N=>{const F=N.docs.map(z=>({id:z.id,...z.data()}));u(F)});return()=>R()},[t]),ot.useEffect(()=>{const E=Ph(_i,"onlineUsers"),S=DE(E,VE("room","==",t),ME("createdAt","desc")),R=LE(S,N=>{const z=Date.now()-2*60*1e3,K=N.docs.filter(nt=>{var tt,at;return(((at=(tt=nt.data().createdAt)==null?void 0:tt.toDate())==null?void 0:at.getTime())||0)>z}).map(nt=>nt.data().nickname);d(K)});return()=>R()},[t]),ot.useEffect(()=>{var E;(E=p.current)==null||E.scrollIntoView({behavior:"smooth"})},[a]);const g=async E=>{if(!E.trim())return;await D2(Ph(_i,"messages"),{text:E,nickname:n,room:t,createdAt:tu()});const S=Zn.currentUser;S&&await PE(ta(_i,"onlineUsers",S.uid),{createdAt:tu()})},v=async()=>{const E=Zn.currentUser;E&&(await NE(ta(_i,"onlineUsers",E.uid)),await oV(Zn),localStorage.removeItem("nickname"),localStorage.removeItem("room"),e(null),s(null))};return ot.useEffect(()=>{const E=async()=>{const S=Zn.currentUser;S&&await NE(ta(_i,"onlineUsers",S.uid))};return window.addEventListener("beforeunload",E),()=>{window.removeEventListener("beforeunload",E)}},[c]),It.jsxs("div",{className:"chat-room",children:[It.jsxs(Qe.div,{className:"online-users",initial:"hidden",animate:"visible",exit:"exit",variants:hU,children:[It.jsx(Qe.p,{variants:eS,children:"Online Users:"}),It.jsx(Qe.ul,{whileHover:{scale:1.3},variants:eS,children:c.map((E,S)=>It.jsx("li",{children:E},S))})]}),It.jsxs(Qe.div,{className:"chat-system",initial:{opacity:0,y:-1e3},animate:{opacity:1,y:0},exit:{opacity:0,y:1e3},transition:{duration:.7},children:[It.jsxs(Qe.div,{className:"messages",children:[It.jsx(Mw,{initial:!1,children:a.map(E=>{const S=E.nickname===n;return It.jsxs(Qe.div,{initial:S?"hiddenLeft":"hiddenRight",animate:"visible",exit:{opacity:0},variants:fU,transition:{duration:.3},className:`message-${E.nickname===n?"own":""}`,children:[It.jsx("strong",{children:E.nickname}),": ",E.text]},E.id)})}),It.jsx(Qe.div,{ref:p})]}),It.jsx(cU,{onSend:g})]}),It.jsx(Qe.button,{onClick:v,className:"logout-button",initial:{x:300},animate:{x:0},exit:{x:300},whileHover:{scale:1.1},children:"Logout"})]})}function mU(){const[n,t]=ot.useState(null),[e,s]=ot.useState(null),[a,u]=ot.useState(null);return ot.useEffect(()=>{const c=localStorage.getItem("nickname"),d=localStorage.getItem("room"),p=aV(Zn,g=>{g&&c&&d?(u(g),t(c),s(d)):u(null)});return()=>p()},[n]),It.jsx("div",{className:"app",children:It.jsx(Mw,{mode:"wait",children:a&&n&&e?It.jsx(Qe.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},transition:{duration:1.5},children:It.jsx(dU,{nickname:n,roomName:e,setNickname:t,setRoomName:s})},"chatRoom"):It.jsx(Qe.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},transition:{duration:1.5},children:It.jsx(uU,{setNickname:t,setRoomName:s})},"signIn")})})}kI.createRoot(document.getElementById("root")).render(It.jsx(ot.StrictMode,{children:It.jsx(mU,{})}));
